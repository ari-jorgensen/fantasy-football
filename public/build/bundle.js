var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function a(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,c,u;function l(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function f(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function d(e,t,n){e.$$.on_destroy.push(f(t,n))}function p(e,t,n,r){if(e){const a=m(e,t,n,r);return e[0](a)}}function m(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function h(e,t,n,r){if(e[2]&&r){const a=e[2](r(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|a[r];return e}return t.dirty|a}return t.dirty}function y(e,t,n,r,a,i){if(a){const o=m(t,n,r,i);e.p(o,a)}}function v(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function $(e,t){e.appendChild(t)}function x(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function k(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function A(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function T(e){return document.createTextNode(e)}function S(){return T(" ")}function C(){return T("")}function O(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function E(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:M(e,t,n)}function D(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function j(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function z(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function R(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function P(){if(void 0===c){c=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){c=!0}}return c}function N(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=P();let a;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=O(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{a=O(n.contentWindow,"resize",t)}),$(e,n),()=>{(r||a&&n.contentWindow)&&a(),w(n)}}function I(e,t,n){e.classList[n?"add":"remove"](t)}function F(e){u=e}function L(){if(!u)throw new Error("Function called outside component initialization");return u}function B(e){L().$$.on_mount.push(e)}function q(e,t){L().$$.context.set(e,t)}function V(e){return L().$$.context.get(e)}const H=[],Y=[],K=[],G=[],W=Promise.resolve();let U=!1;function J(e){K.push(e)}let Q=!1;const X=new Set;function Z(){if(!Q){Q=!0;do{for(let e=0;e<H.length;e+=1){const t=H[e];F(t),ee(t.$$)}for(F(null),H.length=0;Y.length;)Y.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];X.has(t)||(X.add(t),t())}K.length=0}while(H.length);for(;G.length;)G.pop()();U=!1,Q=!1,X.clear()}}function ee(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}const te=new Set;let ne;function re(){ne={r:0,c:[],p:ne}}function ae(){ne.r||a(ne.c),ne=ne.p}function ie(e,t){e&&e.i&&(te.delete(e),e.i(t))}function oe(e,t,n,r){if(e&&e.o){if(te.has(e))return;te.add(e),ne.c.push((()=>{te.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const se="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ce(e){e&&e.c()}function ue(e,n,r,o){const{fragment:s,on_mount:c,on_destroy:u,after_update:l}=e.$$;s&&s.m(n,r),o||J((()=>{const n=c.map(t).filter(i);u?u.push(...n):a(n),e.$$.on_mount=[]})),l.forEach(J)}function le(e,t){const n=e.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function fe(e,t){-1===e.$$.dirty[0]&&(H.push(e),U||(U=!0,W.then(Z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(t,r,i,o,s,c,l,f=[-1]){const d=u;F(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};l&&l(p.root);let m=!1;if(p.ctx=i?i(t,r.props||{},((e,n,...r)=>{const a=r.length?r[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=a)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](a),m&&fe(t,e)),n})):[],p.update(),m=!0,a(p.before_update),p.fragment=!!o&&o(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(w)}else p.fragment&&p.fragment.c();r.intro&&ie(t.$$.fragment),ue(t,r.target,r.anchor,r.customElement),Z()}F(d)}class pe{$destroy(){le(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var me={},he={};function ge(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function be(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function ye(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ve(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+ye(-t,6):t>9999?"+"+ye(t,6):ye(t,4))+"-"+ye(e.getUTCMonth()+1,2)+"-"+ye(e.getUTCDate(),2)+(i?"T"+ye(n,2)+":"+ye(r,2)+":"+ye(a,2)+"."+ye(i,3)+"Z":a?"T"+ye(n,2)+":"+ye(r,2)+":"+ye(a,2)+"Z":r||n?"T"+ye(n,2)+":"+ye(r,2)+"Z":"")}var $e=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,a=[],i=e.length,o=0,s=0,c=i<=0,u=!1;function l(){if(c)return he;if(u)return u=!1,me;var t,r,a=o;if(34===e.charCodeAt(a)){for(;o++<i&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=i?c=!0:10===(r=e.charCodeAt(o++))?u=!0:13===r&&(u=!0,10===e.charCodeAt(o)&&++o),e.slice(a+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(r=e.charCodeAt(t=o++)))u=!0;else if(13===r)u=!0,10===e.charCodeAt(o)&&++o;else if(r!==n)continue;return e.slice(a,t)}return c=!0,e.slice(a,i)}for(10===e.charCodeAt(i-1)&&--i,13===e.charCodeAt(i-1)&&--i;(r=l())!==he;){for(var f=[];r!==me&&r!==he;)f.push(r),r=l();t&&null==(f=t(f,s++))||a.push(f)}return a}function a(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function i(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?ve(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,a,i=r(e,(function(e,r){if(n)return n(e,r-1);a=e,n=t?function(e,t){var n=ge(e);return function(r,a){return t(n(r),a,e)}}(e,t):ge(e)}));return i.columns=a||[],i},parseRows:r,format:function(t,n){return null==n&&(n=be(t)),[n.map(o).join(e)].concat(a(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=be(e)),a(e,t).join("\n")},formatRows:function(e){return e.map(i).join("\n")},formatRow:i,formatValue:o}}(","),xe=$e.parse;function we(e){for(var t in e){var n,r,a=e[t].trim();if(a)if("true"===a)a=!0;else if("false"===a)a=!1;else if("NaN"===a)a=NaN;else if(isNaN(n=+a)){if(!(r=a.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ke&&r[4]&&!r[7]&&(a=a.replace(/-/g,"/").replace(/T/," ")),a=new Date(a)}else a=n;else a=null;e[t]=a}return e}const ke=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();async function _e(e){let t=await fetch(e),n=await t.text();return await xe(n,we)}const Ae={light:{text:"#222",muted:"#777",pale:"#f0f0f0",background:"#fff"},dark:{text:"#fff",muted:"#bbb",pale:"#333",background:"#222"}};function Te(e){let t,n,r,a,i;const o=e[7].default,s=p(o,e,e[6],null);return{c(){t=_("header"),n=_("div"),r=_("div"),s&&s.c(),I(r,"center",e[1]),M(n,"class","v-padded col-wide middle svelte-19u0sv3"),j(n,"position","relative"),I(n,"short",e[2]),I(n,"height-full",!e[2]),M(t,"style",a="color: "+Ae[e[0]].text+"; background-color: "+Ae[e[0]].background+"; "+e[3]),M(t,"class","svelte-19u0sv3"),I(t,"short",e[2])},m(e,a){x(e,t,a),$(t,n),$(n,r),s&&s.m(r,null),i=!0},p(e,[c]){s&&s.p&&(!i||64&c)&&y(s,o,e,e[6],i?h(o,e[6],c,null):v(e[6]),null),2&c&&I(r,"center",e[1]),4&c&&I(n,"short",e[2]),4&c&&I(n,"height-full",!e[2]),(!i||9&c&&a!==(a="color: "+Ae[e[0]].text+"; background-color: "+Ae[e[0]].background+"; "+e[3]))&&M(t,"style",a),4&c&&I(t,"short",e[2])},i(e){i||(ie(s,e),i=!0)},o(e){oe(s,e),i=!1},d(e){e&&w(t),s&&s.d(e)}}}function Se(e,t,n){let{$$slots:r={},$$scope:a}=t,{theme:i=V("theme")}=t,{bgimage:o=null}=t,{bgfixed:s=!1}=t,{center:c=!0}=t,{short:u=!1}=t,l="";return l+=o?`background-image: url(${o});`:"background-image: none;",s&&(l+=" background-attachment: fixed;"),e.$$set=e=>{"theme"in e&&n(0,i=e.theme),"bgimage"in e&&n(4,o=e.bgimage),"bgfixed"in e&&n(5,s=e.bgfixed),"center"in e&&n(1,c=e.center),"short"in e&&n(2,u=e.short),"$$scope"in e&&n(6,a=e.$$scope)},[i,c,u,l,o,s,a,r]}class Ce extends pe{constructor(e){super(),de(this,e,Se,Te,o,{theme:0,bgimage:4,bgfixed:5,center:1,short:2})}}function Oe(e){let t,n,r;const a=e[2].default,i=p(a,e,e[1],null);return{c(){t=_("section"),n=_("div"),i&&i.c(),M(n,"class","col-medium"),j(t,"color",Ae[e[0]].text),j(t,"background-color",Ae[e[0]].background)},m(e,a){x(e,t,a),$(t,n),i&&i.m(n,null),r=!0},p(e,[n]){i&&i.p&&(!r||2&n)&&y(i,a,e,e[1],r?h(a,e[1],n,null):v(e[1]),null),(!r||1&n)&&j(t,"color",Ae[e[0]].text),(!r||1&n)&&j(t,"background-color",Ae[e[0]].background)},i(e){r||(ie(i,e),r=!0)},o(e){oe(i,e),r=!1},d(e){e&&w(t),i&&i.d(e)}}}function Me(e,t,n){let{$$slots:r={},$$scope:a}=t,{theme:i=V("theme")}=t;return e.$$set=e=>{"theme"in e&&n(0,i=e.theme),"$$scope"in e&&n(1,a=e.$$scope)},[i,a,r]}class Ee extends pe{constructor(e){super(),de(this,e,Me,Oe,o,{theme:0})}}const{window:De}=se,je=e=>({}),ze=e=>({}),Re=e=>({}),Pe=e=>({});function Ne(e){let t,n,r,a,i,o,s,c;J(e[18]);const u=e[17].background,l=p(u,e,e[16],Pe),f=e[17].foreground,d=p(f,e,e[16],ze);return{c(){t=_("svelte-scroller-outer"),n=_("svelte-scroller-background-container"),r=_("svelte-scroller-background"),l&&l.c(),a=S(),i=_("svelte-scroller-foreground"),d&&d.c(),E(r,"class","svelte-3stote"),E(n,"class","background-container svelte-3stote"),E(i,"class","svelte-3stote"),E(t,"class","svelte-3stote"),I(t,"splitscreen",e[0])},m(u,f){x(u,t,f),$(t,n),$(n,r),l&&l.m(r,null),e[19](r),e[20](n),$(t,a),$(t,i),d&&d.m(i,null),e[21](i),e[22](t),o=!0,s||(c=O(De,"resize",e[18]),s=!0)},p(e,n){l&&l.p&&(!o||65536&n[0])&&y(l,u,e,e[16],o?h(u,e[16],n,Re):v(e[16]),Pe),d&&d.p&&(!o||65536&n[0])&&y(d,f,e,e[16],o?h(f,e[16],n,je):v(e[16]),ze),1&n[0]&&I(t,"splitscreen",e[0])},i(e){o||(ie(l,e),ie(d,e),o=!0)},o(e){oe(l,e),oe(d,e),o=!1},d(n){n&&w(t),l&&l.d(n),e[19](null),e[20](null),d&&d.d(n),e[21](null),e[22](null),s=!1,c()}}}const Ie=[];let Fe;if("undefined"!=typeof window){const e=()=>Ie.forEach((e=>e()));window.addEventListener("scroll",e),window.addEventListener("resize",e)}if("undefined"!=typeof IntersectionObserver){const e=new Map,t=new IntersectionObserver(((t,n)=>{t.forEach((t=>{const n=e.get(t.target),r=Ie.indexOf(n);t.isIntersecting?-1===r&&Ie.push(n):(n(),-1!==r&&Ie.splice(r,1))}))}),{rootMargin:"400px 0px"});Fe={add:({outer:n,update:r})=>{const{top:a,bottom:i}=n.getBoundingClientRect();a<window.innerHeight&&i>0&&Ie.push(r),e.set(n,r),t.observe(n)},remove:({outer:n,update:r})=>{const a=Ie.indexOf(r);-1!==a&&Ie.splice(a,1),e.delete(n),t.unobserve(n)}}}else Fe={add:({update:e})=>{Ie.push(e)},remove:({update:e})=>{const t=Ie.indexOf(e);-1!==t&&Ie.splice(t,1)}};function Le(e,t,n){let r,a,i,o,s,c,u,l,f,d,{$$slots:p={},$$scope:m}=t,{top:h=0}=t,{bottom:g=1}=t,{threshold:b=.5}=t,{query:y="section"}=t,{parallax:v=!1}=t,{index:$=0}=t,{count:x=0}=t,{offset:w=0}=t,{progress:k=0}=t,{visible:_=!1}=t,{splitscreen:A=!1}=t,T=0,S=1;function C(){if(s){let e=`position: ${f?"fixed":"absolute"}; top: 0; transform: translate(0, ${d}px); width: ${S}px; z-index: 1;`;n(3,s.style.cssText=e,s)}}function O(){if(!c)return;const e=o.getBoundingClientRect();S=e.right-e.left;const t=c.getBoundingClientRect(),s=u.getBoundingClientRect();n(10,_=t.top<T&&t.bottom>0);const p=t.bottom-t.top,m=s.bottom-s.top,h=a-r;for(n(9,k=(r-t.top)/(p-h)),k<=0?(d=0,f&&(f=!1,C())):k>=1?(d=v?p-m:p-h,f&&(f=!1,C())):(d=v?Math.round(r-k*(m-h)):r,f||(f=!0,C())),n(6,$=0);$<l.length;n(6,$+=1)){const e=l[$],{top:r}=e.getBoundingClientRect(),a=l[$+1],o=a?a.getBoundingClientRect().top:t.bottom;if(n(8,w=(i-r)/(o-r)),o>=i)break}}return B((()=>{l=c.querySelectorAll(y),n(7,x=l.length),O();const e={outer:o,update:O};return Fe.add(e),()=>Fe.remove(e)})),e.$$set=e=>{"top"in e&&n(11,h=e.top),"bottom"in e&&n(12,g=e.bottom),"threshold"in e&&n(13,b=e.threshold),"query"in e&&n(14,y=e.query),"parallax"in e&&n(15,v=e.parallax),"index"in e&&n(6,$=e.index),"count"in e&&n(7,x=e.count),"offset"in e&&n(8,w=e.offset),"progress"in e&&n(9,k=e.progress),"visible"in e&&n(10,_=e.visible),"splitscreen"in e&&n(0,A=e.splitscreen),"$$scope"in e&&n(16,m=e.$$scope)},e.$$.update=()=>{2050&e.$$.dirty[0]&&(r=Math.round(h*T)),4098&e.$$.dirty[0]&&(a=Math.round(g*T)),8194&e.$$.dirty[0]&&(i=Math.round(b*T)),47104&e.$$.dirty[0]&&O()},[A,T,o,s,c,u,$,x,w,k,_,h,g,b,y,v,m,p,function(){n(1,T=De.innerHeight)},function(e){Y[e?"unshift":"push"]((()=>{u=e,n(5,u)}))},function(e){Y[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},function(e){Y[e?"unshift":"push"]((()=>{c=e,n(4,c)}))},function(e){Y[e?"unshift":"push"]((()=>{o=e,n(2,o)}))}]}class Be extends pe{constructor(e){super(),de(this,e,Le,Ne,o,{top:11,bottom:12,threshold:13,query:14,parallax:15,index:6,count:7,offset:8,progress:9,visible:10,splitscreen:0},null,[-1,-1])}}function qe(e){let t,n,r;const a=e[5].default,i=p(a,e,e[4],null);return{c(){t=_("section"),n=_("div"),i&&i.c(),M(n,"class","middle svelte-1odf9sx"),I(n,"center",e[1]),I(n,"col-medium",!e[2]),I(n,"col-wide",e[2]),I(n,"height-full",!e[3]),I(n,"short",e[3]),j(t,"color",Ae[e[0]].text),j(t,"background-color",Ae[e[0]].background),M(t,"class","svelte-1odf9sx")},m(e,a){x(e,t,a),$(t,n),i&&i.m(n,null),r=!0},p(e,[o]){i&&i.p&&(!r||16&o)&&y(i,a,e,e[4],r?h(a,e[4],o,null):v(e[4]),null),2&o&&I(n,"center",e[1]),4&o&&I(n,"col-medium",!e[2]),4&o&&I(n,"col-wide",e[2]),8&o&&I(n,"height-full",!e[3]),8&o&&I(n,"short",e[3]),(!r||1&o)&&j(t,"color",Ae[e[0]].text),(!r||1&o)&&j(t,"background-color",Ae[e[0]].background)},i(e){r||(ie(i,e),r=!0)},o(e){oe(i,e),r=!1},d(e){e&&w(t),i&&i.d(e)}}}function Ve(e,t,n){let{$$slots:r={},$$scope:a}=t,{theme:i=V("theme")}=t,{center:o=!0}=t,{wide:s=!1}=t,{short:c=!1}=t;return e.$$set=e=>{"theme"in e&&n(0,i=e.theme),"center"in e&&n(1,o=e.center),"wide"in e&&n(2,s=e.wide),"short"in e&&n(3,c=e.short),"$$scope"in e&&n(4,a=e.$$scope)},[i,o,s,c,a,r]}class He extends pe{constructor(e){super(),de(this,e,Ve,qe,o,{theme:0,center:1,wide:2,short:3})}}function Ye(e){let t;return{c(){t=_("hr"),j(t,"color",Ae[e[0]].muted),j(t,"border","none"),M(t,"class","svelte-1l2to1w")},m(e,n){x(e,t,n)},p(e,n){1&n&&j(t,"color",Ae[e[0]].muted)},d(e){e&&w(t)}}}function Ke(e){let t;return{c(){t=_("hr"),j(t,"color",Ae[e[0]].muted),M(t,"class","svelte-1l2to1w")},m(e,n){x(e,t,n)},p(e,n){1&n&&j(t,"color",Ae[e[0]].muted)},d(e){e&&w(t)}}}function Ge(t){let n,r;function a(e,t){return e[1]?Ke:Ye}let i=a(t),o=i(t);return{c(){n=_("section"),r=_("div"),o.c(),M(r,"class","col-medium"),j(n,"color",Ae[t[0]].text),j(n,"background-color",Ae[t[0]].background)},m(e,t){x(e,n,t),$(n,r),o.m(r,null)},p(e,[t]){i===(i=a(e))&&o?o.p(e,t):(o.d(1),o=i(e),o&&(o.c(),o.m(r,null))),1&t&&j(n,"color",Ae[e[0]].text),1&t&&j(n,"background-color",Ae[e[0]].background)},i:e,o:e,d(e){e&&w(n),o.d()}}}function We(e,t,n){let{theme:r=V("theme")}=t,{hr:a=!0}=t;return e.$$set=e=>{"theme"in e&&n(0,r=e.theme),"hr"in e&&n(1,a=e.hr)},[r,a]}class Ue extends pe{constructor(e){super(),de(this,e,We,Ge,o,{theme:0,hr:1})}}const Je=[];function Qe(t,n=e){let r;const a=new Set;function i(e){if(o(t,e)&&(t=e,r)){const e=!Je.length;for(const e of a)e[1](),Je.push(e,t);if(e){for(let e=0;e<Je.length;e+=2)Je[e][0](Je[e+1]);Je.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,s=e){const c=[o,s];return a.add(c),1===a.size&&(r=n(i)||e),o(t),()=>{a.delete(c),0===a.size&&(r(),r=null)}}}}function Xe(t,n,r){const o=!Array.isArray(t),s=o?[t]:t,c=n.length<2;return u=t=>{let r=!1;const u=[];let l=0,d=e;const p=()=>{if(l)return;d();const r=n(o?u[0]:u,t);c?t(r):d=i(r)?r:e},m=s.map(((e,t)=>f(e,(e=>{u[t]=e,l&=~(1<<t),r&&p()}),(()=>{l|=1<<t}))));return r=!0,p(),function(){a(m),d()}},{subscribe:Qe(r,u).subscribe};var u}function Ze(e){return 0===(t=e)||t?Array.isArray(e)?t=>e.map((e=>"function"!=typeof e?t[e]:e(t))):"function"!=typeof e?t=>t[e]:e:null;var t}function et(e,t={}){return function(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:e,1:r}=n;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}(Object.entries(e).filter((([e,n])=>void 0!==n&&void 0===t[e])))}function tt(e,t){if(!Array.isArray(e))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(t)||null==t)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),a=r.length;let i,o,s,c,u,l,f,d;const p=e.length;for(i=0;i<a;i+=1){for(c=r[i],f=t[c],u=null,l=null,o=0;o<p;o+=1)if(d=f(e[o]),Array.isArray(d)){const e=d.length;for(s=0;s<e;s+=1)void 0!==d[s]&&null!==d[s]&&!1===Number.isNaN(d[s])&&((null===u||d[s]<u)&&(u=d[s]),(null===l||d[s]>l)&&(l=d[s]))}else null!=d&&!1===Number.isNaN(d)&&((null===u||d<u)&&(u=d),(null===l||d>l)&&(l=d));n[c]=[u,l]}return n}function nt(e=[],t){return!0===Array.isArray(t)?t.map(((t,n)=>null===t?e[n]:t)):e}function rt(e){return function([t,n]){return t?nt(t[e],n):n}}function at(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function it(e){let t=e,n=e;function r(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){const i=r+a>>>1;n(e[i],t)<0?r=i+1:a=i}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>at(e(t),n)}(e)),{left:r,center:function(e,n,a,i){null==a&&(a=0),null==i&&(i=e.length);const o=r(e,n,a,i-1);return o>a&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){const i=r+a>>>1;n(e[i],t)>0?a=i:r=i+1}return r}}}const ot=it(at).right;it((function(e){return null===e?NaN:+e})).center;var st=ot,ct=Math.sqrt(50),ut=Math.sqrt(10),lt=Math.sqrt(2);function ft(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=ct?10:i>=ut?5:i>=lt?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=ct?10:i>=ut?5:i>=lt?2:1)}function dt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function pt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ht(){}var gt=.7,bt=1/gt,yt="\\s*([+-]?\\d+)\\s*",vt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xt=/^#([0-9a-f]{3,8})$/,wt=new RegExp("^rgb\\("+[yt,yt,yt]+"\\)$"),kt=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),_t=new RegExp("^rgba\\("+[yt,yt,yt,vt]+"\\)$"),At=new RegExp("^rgba\\("+[$t,$t,$t,vt]+"\\)$"),Tt=new RegExp("^hsl\\("+[vt,$t,$t]+"\\)$"),St=new RegExp("^hsla\\("+[vt,$t,$t,vt]+"\\)$"),Ct={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ot(){return this.rgb().formatHex()}function Mt(){return this.rgb().formatRgb()}function Et(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Dt(t):3===n?new Pt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?jt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?jt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=wt.exec(e))?new Pt(t[1],t[2],t[3],1):(t=kt.exec(e))?new Pt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_t.exec(e))?jt(t[1],t[2],t[3],t[4]):(t=At.exec(e))?jt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Tt.exec(e))?Lt(t[1],t[2]/100,t[3]/100,1):(t=St.exec(e))?Lt(t[1],t[2]/100,t[3]/100,t[4]):Ct.hasOwnProperty(e)?Dt(Ct[e]):"transparent"===e?new Pt(NaN,NaN,NaN,0):null}function Dt(e){return new Pt(e>>16&255,e>>8&255,255&e,1)}function jt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Pt(e,t,n,r)}function zt(e){return e instanceof ht||(e=Et(e)),e?new Pt((e=e.rgb()).r,e.g,e.b,e.opacity):new Pt}function Rt(e,t,n,r){return 1===arguments.length?zt(e):new Pt(e,t,n,null==r?1:r)}function Pt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Nt(){return"#"+Ft(this.r)+Ft(this.g)+Ft(this.b)}function It(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Ft(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Lt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qt(e,t,n,r)}function Bt(e){if(e instanceof qt)return new qt(e.h,e.s,e.l,e.opacity);if(e instanceof ht||(e=Et(e)),!e)return new qt;if(e instanceof qt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,c=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new qt(o,s,c,e.opacity)}function qt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Vt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}pt(ht,Et,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ot,formatHex:Ot,formatHsl:function(){return Bt(this).formatHsl()},formatRgb:Mt,toString:Mt}),pt(Pt,Rt,mt(ht,{brighter:function(e){return e=null==e?bt:Math.pow(bt,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?gt:Math.pow(gt,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nt,formatHex:Nt,formatRgb:It,toString:It})),pt(qt,(function(e,t,n,r){return 1===arguments.length?Bt(e):new qt(e,t,n,null==r?1:r)}),mt(ht,{brighter:function(e){return e=null==e?bt:Math.pow(bt,e),new qt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?gt:Math.pow(gt,e),new qt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Pt(Vt(e>=240?e-240:e+120,a,r),Vt(e,a,r),Vt(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Ht=e=>()=>e;function Yt(e){return 1==(e=+e)?Kt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ht(isNaN(t)?n:t)}}function Kt(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Ht(isNaN(e)?t:e)}var Gt=function e(t){var n=Yt(t);function r(e,t){var r=n((e=Rt(e)).r,(t=Rt(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=Kt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Wt(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Ut(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=nn(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function Jt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Qt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Xt(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=nn(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,en=new RegExp(Zt.source,"g");function tn(e,t){var n,r,a,i=Zt.lastIndex=en.lastIndex=0,o=-1,s=[],c=[];for(e+="",t+="";(n=Zt.exec(e))&&(r=en.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,c.push({i:o,x:Qt(n,r)})),i=en.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function nn(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?Ht(t):("number"===a?Qt:"string"===a?(n=Et(t))?(t=n,Gt):tn:t instanceof Et?Gt:t instanceof Date?Jt:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Ut:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Xt:Qt:Wt))(e,t)}function rn(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function an(e){return+e}var on=[0,1];function sn(e){return e}function cn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function un(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=cn(a,r),i=n(o,i)):(r=cn(r,a),i=n(i,o)),function(e){return i(r(e))}}function ln(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=cn(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=st(e,t,1,r)-1;return i[n](a[n](t))}}function fn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dn(){var e,t,n,r,a,i,o=on,s=on,c=nn,u=sn;function l(){var e=Math.min(o.length,s.length);return u!==sn&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?ln:un,a=i=null,f}function f(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,c)))(e(u(t)))}return f.invert=function(n){return u(t((i||(i=r(s,o.map(e),Qt)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,an),l()):o.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),c=rn,l()},f.clamp=function(e){return arguments.length?(u=!!e||sn,l()):u!==sn},f.interpolate=function(e){return arguments.length?(c=e,l()):c},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function pn(){return dn()(sn,sn)}function mn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hn(e){return(e=mn(Math.abs(e)))?e[1]:NaN}var gn,bn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yn(e){if(!(t=bn.exec(e)))throw new Error("invalid format: "+e);var t;return new vn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function vn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function $n(e,t){var n=mn(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}yn.prototype=vn.prototype,vn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var xn={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$n(100*e,t),r:$n,s:function(e,t){var n=mn(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(gn=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+mn(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wn(e){return e}var kn,_n,An,Tn=Array.prototype.map,Sn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cn(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?wn:(t=Tn.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],c=0;a>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),i.push(e.substring(a-=s,a+s)),!((c+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?wn:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Tn.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"−":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=yn(e)).fill,n=e.align,f=e.sign,d=e.symbol,p=e.zero,m=e.width,h=e.comma,g=e.precision,b=e.trim,y=e.type;"n"===y?(h=!0,y="g"):xn[y]||(void 0===g&&(g=12),b=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var v="$"===d?a:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",$="$"===d?i:/[%p]/.test(y)?c:"",x=xn[y],w=/[defgprs%]/.test(y);function k(e){var a,i,c,d=v,k=$;if("c"===y)k=x(e)+k,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:x(Math.abs(e),g),b&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),_&&0==+e&&"+"!==f&&(_=!1),d=(_?"("===f?f:u:"-"===f||"("===f?"":f)+d,k=("s"===y?Sn[8+gn/3]:"")+k+(_&&"("===f?")":""),w)for(a=-1,i=e.length;++a<i;)if(48>(c=e.charCodeAt(a))||c>57){k=(46===c?o+e.slice(a+1):e.slice(a))+k,e=e.slice(0,a);break}}h&&!p&&(e=r(e,1/0));var A=d.length+e.length+k.length,T=A<m?new Array(m-A+1).join(t):"";switch(h&&p&&(e=r(T+e,T.length?m-k.length:1/0),T=""),n){case"<":e=d+e+k+T;break;case"=":e=d+T+e+k;break;case"^":e=T.slice(0,A=T.length>>1)+d+e+k+T.slice(A);break;default:e=T+d+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=yn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(hn(t)/3))),a=Math.pow(10,-r),i=Sn[8+r/3];return function(e){return n(a*e)+i}}}}function On(e,t,n,r){var a,i=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=ct?a*=10:i>=ut?a*=5:i>=lt&&(a*=2),t<e?-a:a}(e,t,n);switch((r=yn(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hn(t)/3)))-hn(Math.abs(e)))}(i,o))||(r.precision=a),An(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hn(t)-hn(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-hn(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return _n(r)}function Mn(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,a,i,o,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),0===(o=ft(e,t,n))||!isFinite(o))return[];if(o>0){let n=Math.round(e/o),r=Math.round(t/o);for(n*o<e&&++n,r*o>t&&--r,i=new Array(a=r-n+1);++s<a;)i[s]=(n+s)*o}else{o=-o;let n=Math.round(e*o),r=Math.round(t*o);for(n/o<e&&++n,r/o>t&&--r,i=new Array(a=r-n+1);++s<a;)i[s]=(n+s)/o}return r&&i.reverse(),i}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return On(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,c=i[o],u=i[s],l=10;for(u<c&&(a=c,c=u,u=a,a=o,o=s,s=a);l-- >0;){if((a=ft(c,u,n))===r)return i[o]=c,i[s]=u,t(i);if(a>0)c=Math.floor(c/a)*a,u=Math.ceil(u/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,u=Math.floor(u*a)/a}r=a}return e},e}function En(){var e=pn();return e.copy=function(){return fn(e,En())},dt.apply(e,arguments),Mn(e)}function Dn(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jn(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zn(e){return e<0?-e*e:e*e}function Rn(e){var t=e(sn,sn),n=1;function r(){return 1===n?e(sn,sn):.5===n?e(jn,zn):e(Dn(n),Dn(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Mn(t)}function Pn(){var e=Rn(dn());return e.copy=function(){return fn(e,Pn()).exponent(e.exponent())},dt.apply(e,arguments),e}kn=Cn({thousands:",",grouping:[3],currency:["$",""]}),_n=kn.format,An=kn.formatPrefix;var Nn={x:En,y:En,z:En,r:function(){return Pn.apply(null,arguments).exponent(.5)}};function In(e){return e}function Fn(e){return t=>Math.log(e*t)}function Ln(e){return t=>e*Math.exp(t)}function Bn(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function qn(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vn(e,t){if("function"!=typeof e.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof e.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t))return e.domain();2!==e.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",e.domain()),2!==e.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",e.range());const{lift:n,ground:r}=function(e){const t=function(e){return e.constant?"symlog":e.base?"log":e.exponent?.5===e.exponent()?"sqrt":"pow":"other"}(e);if("log"===t){const n=Math.sign(e.domain()[0]);return{lift:Fn(n),ground:Ln(n),scaleType:t}}if("pow"===t){const e=1;return{lift:qn(e),ground:qn(1/e),scaleType:t}}if("sqrt"===t){const e=.5;return{lift:qn(e),ground:qn(1/e),scaleType:t}}if("symlog"===t){const e=1;return{lift:(n=e,e=>Math.sign(e)*Math.log1p(Math.abs(e/n))),ground:Bn(e),scaleType:t}}var n;return{lift:In,ground:In,scaleType:t}}(e),a=e.domain()[0],i="[object Date]"===Object.prototype.toString.call(a),[o,s]=e.domain().map((e=>n(i?e.getTime():e))),[c,u]=e.range(),l=t[0]||0,f=t[1]||0,d=(s-o)/(Math.abs(u-c)-l-f);return[o-l*d,f*d+s].map((e=>r(i?new Date(e):e)))}function Hn(e){return function([t,n,r,a,i,o,s,c,u,l]){if(null===n)return null;const f=function(e,t,n,r,a,i){return a?"function"==typeof a?a({width:t,height:n}):a:function(e,t,n,r,a){let i,o;return!0===a?(i=0,o=100):(i="r"===e?1:0,o="y"===e?n:"r"===e?25:t),!0===r?[o,i]:[i,o]}(e,t,n,r,i)}(e,s,c,o,u,l),d=t===Nn[e]?t():t.copy();return d.domain(nt(n[e],r)).range(f),a&&d.domain(Vn(d,a)),!0===i&&("function"==typeof d.nice?d.nice():console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Yn([e,t]){return n=>{const r=e(n);return Array.isArray(r)?r.map((e=>t(e))):t(r)}}function Kn([e]){if("function"==typeof e){if("function"==typeof e.range)return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var Gn={x:!1,y:!0,z:!1,r:!1};const Wn=e=>({element:4&e[0],width:64&e[0],height:128&e[0],aspectRatio:256&e[0],containerWidth:512&e[0],containerHeight:1024&e[0]}),Un=e=>({element:e[2],width:e[6],height:e[7],aspectRatio:e[8],containerWidth:e[9],containerHeight:e[10]});function Jn(e){let t,n,r,a;const i=e[54].default,o=p(i,e,e[53],Un);return{c(){t=_("div"),o&&o.c(),M(t,"class","layercake-container svelte-vhzpsp"),M(t,"style",n="position:"+e[5]+"; "+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===e[4]?"pointer-events:none;":"")),J((()=>e[56].call(t)))},m(n,i){x(n,t,i),o&&o.m(t,null),e[55](t),r=N(t,e[56].bind(t)),a=!0},p(e,r){o&&o.p&&(!a||1988&r[0]|4194304&r[1])&&y(o,i,e,e[53],a?h(i,e[53],r,Wn):v(e[53]),Un),(!a||48&r[0]&&n!==(n="position:"+e[5]+"; "+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===e[4]?"pointer-events:none;":"")))&&M(t,"style",n)},i(e){a||(ie(o,e),a=!0)},o(e){oe(o,e),a=!1},d(n){n&&w(t),o&&o.d(n),e[55](null),r()}}}function Qn(e){let t,n,r=(!0===e[3]||"undefined"!=typeof window)&&Jn(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){!0===e[3]||"undefined"!=typeof window?r?(r.p(e,n),8&n[0]&&ie(r,1)):(r=Jn(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Xn(e,t,n){let r,a,i,o,s,c,{$$slots:u={},$$scope:l}=t,{ssr:f=!1}=t,{pointerEvents:p=!0}=t,{position:m="relative"}=t,{percentRange:h=!1}=t,{width:g}=t,{height:b}=t,{containerWidth:y=g||100}=t,{containerHeight:v=b||100}=t,{element:$}=t,{x:x}=t,{y:w}=t,{z:k}=t,{r:_}=t,{custom:A={}}=t,{data:T=[]}=t,{xDomain:S}=t,{yDomain:C}=t,{zDomain:O}=t,{rDomain:M}=t,{xNice:E=!1}=t,{yNice:D=!1}=t,{zNice:j=!1}=t,{rNice:z=!1}=t,{xReverse:R=Gn.x}=t,{yReverse:P=Gn.y}=t,{zReverse:N=Gn.z}=t,{rReverse:I=Gn.r}=t,{xPadding:F}=t,{yPadding:L}=t,{zPadding:B}=t,{rPadding:V}=t,{xScale:H=Nn.x}=t,{yScale:K=Nn.y}=t,{zScale:G=Nn.y}=t,{rScale:W=Nn.r}=t,{xRange:U}=t,{yRange:J}=t,{zRange:Q}=t,{rRange:X}=t,{padding:Z={}}=t,{extents:ee={}}=t,{flatData:te}=t;const ne={},re=Qe(),ae=Qe();d(e,ae,(e=>n(9,s=e)));const ie=Qe();d(e,ie,(e=>n(10,c=e)));const oe=Qe(),se=Qe(),ce=Qe(),ue=Qe(),le=Qe(),fe=Qe(),de=Qe(),pe=Qe(),me=Qe(),he=Qe(),ge=Qe(),be=Qe(),ye=Qe(),ve=Qe(),$e=Qe(),xe=Qe(),we=Qe(),ke=Qe(),_e=Qe(),Ae=Qe(),Te=Qe(),Se=Qe(),Ce=Qe(),Oe=Qe(),Me=Qe(),Ee=Qe(),De=Qe(),je=Qe(),ze=Qe(),Re=Qe(),Pe=Qe(),Ne=Qe(),Ie=Qe(),Fe=Qe(ne),Le=Xe([oe,se,ce,ue],(([e,t,n,r])=>{const a={};return e&&(a.x=e),t&&(a.y=t),n&&(a.z=n),r&&(a.r=r),a})),Be=Xe([Pe,ae,ie],(([e])=>Object.assign({top:0,right:0,bottom:0,left:0},e))),qe=Xe([ae,ie,Be],(([e,t,n])=>{const r={};return r.top=n.top,r.right=e-n.right,r.bottom=t-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ve=Xe([qe],(([e])=>e.width));d(e,Ve,(e=>n(6,a=e)));const He=Xe([qe],(([e])=>e.height));d(e,He,(e=>n(7,i=e)));const Ye=Xe([Ne,Le,Ie],(([e,t,n])=>({...tt(e,et(t,n)),...n}))),Ke=Xe([Ye,de],rt("x")),Ge=Xe([Ye,pe],rt("y")),We=Xe([Ye,me],rt("z")),Ue=Xe([Ye,he],rt("r")),Je=Xe([Ce,Ye,Ke,_e,ge,$e,Ve,He,De,re],Hn("x")),nt=Xe([oe,Je],Yn),at=Xe([Oe,Ye,Ge,Ae,be,xe,Ve,He,je,re],Hn("y")),it=Xe([se,at],Yn),ot=Xe([Me,Ye,We,Te,ye,we,Ve,He,ze,re],Hn("z")),st=Xe([ce,ot],Yn),ct=Xe([Ee,Ye,Ue,Se,ve,ke,Ve,He,Re,re],Hn("r")),ut=Xe([ue,ct],Yn),lt=Xe([Je],Kn),ft=Xe([at],Kn),dt=Xe([ot],Kn),pt=Xe([ct],Kn),mt=Xe([Ve,He],(([e,t,n])=>t/n));return d(e,mt,(e=>n(8,o=e))),e.$$set=e=>{"ssr"in e&&n(3,f=e.ssr),"pointerEvents"in e&&n(4,p=e.pointerEvents),"position"in e&&n(5,m=e.position),"percentRange"in e&&n(16,h=e.percentRange),"width"in e&&n(17,g=e.width),"height"in e&&n(18,b=e.height),"containerWidth"in e&&n(0,y=e.containerWidth),"containerHeight"in e&&n(1,v=e.containerHeight),"element"in e&&n(2,$=e.element),"x"in e&&n(19,x=e.x),"y"in e&&n(20,w=e.y),"z"in e&&n(21,k=e.z),"r"in e&&n(22,_=e.r),"custom"in e&&n(23,A=e.custom),"data"in e&&n(24,T=e.data),"xDomain"in e&&n(25,S=e.xDomain),"yDomain"in e&&n(26,C=e.yDomain),"zDomain"in e&&n(27,O=e.zDomain),"rDomain"in e&&n(28,M=e.rDomain),"xNice"in e&&n(29,E=e.xNice),"yNice"in e&&n(30,D=e.yNice),"zNice"in e&&n(31,j=e.zNice),"rNice"in e&&n(32,z=e.rNice),"xReverse"in e&&n(33,R=e.xReverse),"yReverse"in e&&n(34,P=e.yReverse),"zReverse"in e&&n(35,N=e.zReverse),"rReverse"in e&&n(36,I=e.rReverse),"xPadding"in e&&n(37,F=e.xPadding),"yPadding"in e&&n(38,L=e.yPadding),"zPadding"in e&&n(39,B=e.zPadding),"rPadding"in e&&n(40,V=e.rPadding),"xScale"in e&&n(41,H=e.xScale),"yScale"in e&&n(42,K=e.yScale),"zScale"in e&&n(43,G=e.zScale),"rScale"in e&&n(44,W=e.rScale),"xRange"in e&&n(45,U=e.xRange),"yRange"in e&&n(46,J=e.yRange),"zRange"in e&&n(47,Q=e.zRange),"rRange"in e&&n(48,X=e.rRange),"padding"in e&&n(49,Z=e.padding),"extents"in e&&n(50,ee=e.extents),"flatData"in e&&n(51,te=e.flatData),"$$scope"in e&&n(53,l=e.$$scope)},e.$$.update=()=>{524288&e.$$.dirty[0]&&x&&(ne.x=x),1048576&e.$$.dirty[0]&&w&&(ne.y=w),2097152&e.$$.dirty[0]&&k&&(ne.z=k),4194304&e.$$.dirty[0]&&_&&(ne.r=_),33554432&e.$$.dirty[0]&&S&&(ne.xDomain=S),67108864&e.$$.dirty[0]&&C&&(ne.yDomain=C),134217728&e.$$.dirty[0]&&O&&(ne.zDomain=O),268435456&e.$$.dirty[0]&&M&&(ne.rDomain=M),16384&e.$$.dirty[1]&&U&&(ne.xRange=U),32768&e.$$.dirty[1]&&J&&(ne.yRange=J),65536&e.$$.dirty[1]&&Q&&(ne.zRange=Q),131072&e.$$.dirty[1]&&X&&(ne.rRange=X),65536&e.$$.dirty[0]&&re.set(h),1&e.$$.dirty[0]&&ae.set(y),2&e.$$.dirty[0]&&ie.set(v),524288&e.$$.dirty[0]&&oe.set(Ze(x)),1048576&e.$$.dirty[0]&&se.set(Ze(w)),2097152&e.$$.dirty[0]&&ce.set(Ze(k)),4194304&e.$$.dirty[0]&&ue.set(Ze(_)),33554432&e.$$.dirty[0]&&de.set(S),67108864&e.$$.dirty[0]&&pe.set(C),134217728&e.$$.dirty[0]&&me.set(O),268435456&e.$$.dirty[0]&&he.set(M),8388608&e.$$.dirty[0]&&le.set(A),16777216&e.$$.dirty[0]&&fe.set(T),536870912&e.$$.dirty[0]&&ge.set(E),1073741824&e.$$.dirty[0]&&be.set(D),1&e.$$.dirty[1]&&ye.set(j),2&e.$$.dirty[1]&&ve.set(z),4&e.$$.dirty[1]&&$e.set(R),8&e.$$.dirty[1]&&xe.set(P),16&e.$$.dirty[1]&&we.set(N),32&e.$$.dirty[1]&&ke.set(I),64&e.$$.dirty[1]&&_e.set(F),128&e.$$.dirty[1]&&Ae.set(L),256&e.$$.dirty[1]&&Te.set(B),512&e.$$.dirty[1]&&Se.set(V),1024&e.$$.dirty[1]&&Ce.set(H),2048&e.$$.dirty[1]&&Oe.set(K),4096&e.$$.dirty[1]&&Me.set(G),8192&e.$$.dirty[1]&&Ee.set(W),16384&e.$$.dirty[1]&&De.set(U),32768&e.$$.dirty[1]&&je.set(J),65536&e.$$.dirty[1]&&ze.set(Q),131072&e.$$.dirty[1]&&Re.set(X),262144&e.$$.dirty[1]&&Pe.set(Z),524288&e.$$.dirty[1]&&Ie.set(et(ee)),16777216&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&Ne.set(te||T),2097152&e.$$.dirty[1]&&q("LayerCake",r)},n(52,r={activeGetters:Le,width:Ve,height:He,percentRange:re,aspectRatio:mt,containerWidth:ae,containerHeight:ie,x:oe,y:se,z:ce,r:ue,custom:le,data:fe,xNice:ge,yNice:be,zNice:ye,rNice:ve,xReverse:$e,yReverse:xe,zReverse:we,rReverse:ke,xPadding:_e,yPadding:Ae,zPadding:Te,rPadding:Se,padding:Be,flatData:Ne,extents:Ye,xDomain:Ke,yDomain:Ge,zDomain:We,rDomain:Ue,xRange:lt,yRange:ft,zRange:dt,rRange:pt,config:Fe,xScale:Je,xGet:nt,yScale:at,yGet:it,zScale:ot,zGet:st,rScale:ct,rGet:ut}),[y,v,$,f,p,m,a,i,o,s,c,ae,ie,Ve,He,mt,h,g,b,x,w,k,_,A,T,S,C,O,M,E,D,j,z,R,P,N,I,F,L,B,V,H,K,G,W,U,J,Q,X,Z,ee,te,r,l,u,function(e){Y[e?"unshift":"push"]((()=>{$=e,n(2,$)}))},function(){y=this.clientWidth,v=this.clientHeight,n(0,y),n(1,v)}]}class Zn extends pe{constructor(e){super(),de(this,e,Xn,Qn,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const er=e=>({element:1&e}),tr=e=>({element:e[0]});function nr(e){let t,n,r;const a=e[8].default,i=p(a,e,e[7],tr);return{c(){t=_("div"),i&&i.c(),M(t,"class","layercake-layout-html svelte-1bu60uu"),M(t,"style",n="top: "+e[3].top+"px; right:"+e[3].right+"px; bottom:"+e[3].bottom+"px; left:"+e[3].left+"px;"+e[1]+e[2])},m(n,a){x(n,t,a),i&&i.m(t,null),e[9](t),r=!0},p(e,[o]){i&&i.p&&(!r||129&o)&&y(i,a,e,e[7],r?h(a,e[7],o,er):v(e[7]),tr),(!r||14&o&&n!==(n="top: "+e[3].top+"px; right:"+e[3].right+"px; bottom:"+e[3].bottom+"px; left:"+e[3].left+"px;"+e[1]+e[2]))&&M(t,"style",n)},i(e){r||(ie(i,e),r=!0)},o(e){oe(i,e),r=!1},d(n){n&&w(t),i&&i.d(n),e[9](null)}}}function rr(e,t,n){let r,{$$slots:a={},$$scope:i}=t,{element:o}=t,{zIndex:s}=t,{pointerEvents:c}=t,u="",l="";const{padding:f}=V("LayerCake");return d(e,f,(e=>n(3,r=e))),e.$$set=e=>{"element"in e&&n(0,o=e.element),"zIndex"in e&&n(5,s=e.zIndex),"pointerEvents"in e&&n(6,c=e.pointerEvents),"$$scope"in e&&n(7,i=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&n(1,u=void 0!==s?`z-index:${s};`:""),64&e.$$.dirty&&n(2,l=!1===c?"pointer-events:none;":"")},[o,u,l,r,f,s,c,i,a,function(e){Y[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class ar extends pe{constructor(e){super(),de(this,e,rr,nr,o,{element:0,zIndex:5,pointerEvents:6})}}const ir=e=>({element:1&e}),or=e=>({element:e[0]}),sr=e=>({element:1&e}),cr=e=>({element:e[0]});function ur(e){let t,n,r,a,i,o;const s=e[13].defs,c=p(s,e,e[12],cr),u=e[13].default,l=p(u,e,e[12],or);return{c(){t=A("svg"),n=A("defs"),c&&c.c(),r=A("g"),l&&l.c(),M(r,"class","layercake-layout-svg_g"),M(r,"transform",a="translate("+e[6].left+", "+e[6].top+")"),M(t,"class","layercake-layout-svg svelte-u84d8d"),M(t,"viewBox",e[1]),M(t,"width",e[4]),M(t,"height",e[5]),M(t,"style",i=""+(e[2]+e[3]))},m(a,i){x(a,t,i),$(t,n),c&&c.m(n,null),$(t,r),l&&l.m(r,null),e[14](t),o=!0},p(e,[n]){c&&c.p&&(!o||4097&n)&&y(c,s,e,e[12],o?h(s,e[12],n,sr):v(e[12]),cr),l&&l.p&&(!o||4097&n)&&y(l,u,e,e[12],o?h(u,e[12],n,ir):v(e[12]),or),(!o||64&n&&a!==(a="translate("+e[6].left+", "+e[6].top+")"))&&M(r,"transform",a),(!o||2&n)&&M(t,"viewBox",e[1]),(!o||16&n)&&M(t,"width",e[4]),(!o||32&n)&&M(t,"height",e[5]),(!o||12&n&&i!==(i=""+(e[2]+e[3])))&&M(t,"style",i)},i(e){o||(ie(c,e),ie(l,e),o=!0)},o(e){oe(c,e),oe(l,e),o=!1},d(n){n&&w(t),c&&c.d(n),l&&l.d(n),e[14](null)}}}function lr(e,t,n){let r,a,i,{$$slots:o={},$$scope:s}=t,{element:c}=t,{viewBox:u}=t,{zIndex:l}=t,{pointerEvents:f}=t,p="",m="";const{containerWidth:h,containerHeight:g,padding:b}=V("LayerCake");return d(e,h,(e=>n(4,r=e))),d(e,g,(e=>n(5,a=e))),d(e,b,(e=>n(6,i=e))),e.$$set=e=>{"element"in e&&n(0,c=e.element),"viewBox"in e&&n(1,u=e.viewBox),"zIndex"in e&&n(10,l=e.zIndex),"pointerEvents"in e&&n(11,f=e.pointerEvents),"$$scope"in e&&n(12,s=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(2,p=void 0!==l?`z-index:${l};`:""),2048&e.$$.dirty&&n(3,m=!1===f?"pointer-events:none;":"")},[c,u,p,m,r,a,i,h,g,b,l,f,s,o,function(e){Y[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}class fr extends pe{constructor(e){super(),de(this,e,lr,ur,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}const dr=e=>({element:2&e,context:1&e}),pr=e=>({element:e[1],context:e[0]});function mr(e){let t,n,r,a;const i=e[10].default,o=p(i,e,e[9],pr);return{c(){t=_("canvas"),r=S(),o&&o.c(),M(t,"class","layercake-layout-webgl"),M(t,"style",n="width:100%;height:100%;top: "+e[4].top+"px; right:"+e[4].right+"px; bottom:"+e[4].bottom+"px; left:"+e[4].left+"px;position:absolute;"+e[2]+e[3])},m(n,i){x(n,t,i),e[11](t),x(n,r,i),o&&o.m(n,i),a=!0},p(e,[r]){(!a||28&r&&n!==(n="width:100%;height:100%;top: "+e[4].top+"px; right:"+e[4].right+"px; bottom:"+e[4].bottom+"px; left:"+e[4].left+"px;position:absolute;"+e[2]+e[3]))&&M(t,"style",n),o&&o.p&&(!a||515&r)&&y(o,i,e,e[9],a?h(i,e[9],r,dr):v(e[9]),pr)},i(e){a||(ie(o,e),a=!0)},o(e){oe(o,e),a=!1},d(n){n&&w(t),e[11](null),n&&w(r),o&&o.d(n)}}}function hr(e,t,n){let r,a,{$$slots:i={},$$scope:o}=t,{contextAttributes:s}=t,{zIndex:c}=t,{pointerEvents:u}=t,{element:l}=t,{context:f}=t,p="",m="";const{padding:h}=V("LayerCake");d(e,h,(e=>n(4,r=e)));const g={gl:Qe({})};return B((()=>{const e=["webgl","experimental-webgl","moz-webgl","webkit-3d"];for(let t=0;t<e.length;t++)if(a=l.getContext(e[t],s),a){n(0,f=a);break}})),q("gl",g),e.$$set=e=>{"contextAttributes"in e&&n(6,s=e.contextAttributes),"zIndex"in e&&n(7,c=e.zIndex),"pointerEvents"in e&&n(8,u=e.pointerEvents),"element"in e&&n(1,l=e.element),"context"in e&&n(0,f=e.context),"$$scope"in e&&n(9,o=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&n(2,p=void 0!==c?`z-index:${c};`:""),256&e.$$.dirty&&n(3,m=!1===u?"pointer-events:none;":""),1&e.$$.dirty&&g.gl.set(f)},[f,l,p,m,r,h,s,c,u,o,i,function(e){Y[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class gr extends pe{constructor(e){super(),de(this,e,hr,mr,o,{contextAttributes:6,zIndex:7,pointerEvents:8,element:1,context:0})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var br,yr,vr,$r=(br=function(e,t){e.exports=function(){var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!=typeof atob?atob(e):"base64:"+e}function a(e){var t=new Error("(regl) "+e);throw console.error(t),t}function i(e,t){e||a(t)}function o(e){return e?": "+e:""}function s(e,t,n){e in t||a("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join())}function c(t,n){e(t)||a("invalid parameter type"+o(n)+". must be a typed array")}function u(e,t){switch(t){case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"symbol":return"symbol"==typeof e}}function l(e,t,n){u(e,t)||a("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e)}function f(e,t){e>=0&&(0|e)===e||a("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&a("invalid value"+o(n)+". must be one of: "+t)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(e){Object.keys(e).forEach((function(e){p.indexOf(e)<0&&a('invalid regl constructor argument "'+e+'". must be one of '+p)}))}function h(e,t){for(e+="";e.length<t;)e=" "+e;return e}function g(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function b(e,t){this.number=e,this.line=t,this.errors=[]}function y(e,t,n){this.file=e,this.line=t,this.message=n}function v(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function $(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function x(e,t){var n=e.split("\n"),a=1,i=0,o={unknown:new g,0:new g};o.unknown.name=o[0].name=t||v(),o.unknown.lines.push(new b(0,""));for(var s=0;s<n.length;++s){var c=n[s],u=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(c);if(u)switch(u[1]){case"line":var l=/(\d+)(\s+\d+)?/.exec(u[2]);l&&(a=0|l[1],l[2]&&((i=0|l[2])in o||(o[i]=new g)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(u[2]);f&&(o[i].name=f[1]?r(f[2]):f[2])}o[i].lines.push(new b(a++,c))}return Object.keys(o).forEach((function(e){var t=o[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),o}function w(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new y(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new y("unknown",0,e))}})),t}function k(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function _(e,t,r,a,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),c=a===e.FRAGMENT_SHADER?"fragment":"vertex";E(r,"string",c+" shader source must be a string",o);var u=x(r,o),l=w(s);k(u,l),Object.keys(u).forEach((function(e){var t=u[e];if(t.hasErrors){var r=[""],a=[""];i("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){i(h(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var a=r.message,o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(a);if(o){var s=o[1];a=o[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;i(h("| ",6)),i(h("^^^",t+3)+n,"font-weight:bold"),i(h("| ",6)),i(a+n,"font-weight:bold")})),i(h("| ",6)+n)}else i(h(e.number,4)+"|  "),i(e.line+n,"color:red")})),"undefined"==typeof document||window.chrome?console.log(r.join("")):(a[0]=r.join("%c"),console.log.apply(console,a))}function i(e,t){r.push(e),a.push(t||"")}})),i.raise("Error compiling "+c+" shader, "+u[0].name)}}function A(e,t,r,a,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),c=x(r,o),u='Error linking program with vertex shader, "'+x(a,o)[0].name+'", and fragment shader "'+c[0].name+'"';"undefined"!=typeof document?console.log("%c"+u+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(u+n+s),i.raise(u)}}function T(e){e._commandRef=v()}function S(e,t,n,r){function a(e){return e?r.id(e):0}function i(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}T(e),e._fragId=a(e.static.frag),e._vertId=a(e.static.vert);var o=e._uniformSet={};i(o,t.static),i(o,t.dynamic);var s=e._attributeSet={};i(s,n.static),i(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function C(e,t){var n=$();a(e+" in command "+(t||v())+("unknown"===n?"":" called from "+n))}function O(e,t,n){e||C(t,n||v())}function M(e,t,n,r){e in t||C("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join(),r||v())}function E(e,t,n,r){u(e,t)||C("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e,r||v())}function D(e){e()}function j(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var z=33071,R=9728,P=9984,N=9985,I=9986,F=9987,L=5121,B=5122,q=5123,V=5124,H=5125,Y=5126,K=32819,G=32820,W=33635,U=34042,J=36193,Q={};function X(e,t){return e===G||e===K||e===W?2:e===U?4:Q[e]*t}function Z(e){return!(e&e-1||!e)}function ee(e,t,n){var r,a=t.width,o=t.height,s=t.channels;i(a>0&&a<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),e.wrapS===z&&e.wrapT===z||i(Z(a)&&Z(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==a&&1!==o&&i(e.minFilter!==P&&e.minFilter!==I&&e.minFilter!==N&&e.minFilter!==F,"min filter requires mipmap"):(i(Z(a)&&Z(o),"texture must be a square power of 2 to support mipmapping"),i(t.mipmask===(a<<1)-1,"missing or incomplete mipmap data")),t.type===Y&&(n.extensions.indexOf("oes_texture_float_linear")<0&&i(e.minFilter===R&&e.magFilter===R,"filter not supported, must enable oes_texture_float_linear"),i(!e.genMipmaps,"mipmap generation not supported with float textures"));var c=t.images;for(r=0;r<16;++r)if(c[r]){var u=a>>r,l=o>>r;i(t.mipmask&1<<r,"missing mipmap data");var f=c[r];if(i(f.width===u&&f.height===l,"invalid shape for mip images"),i(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil(X(f.type,s)*u/f.unpackAlignment)*f.unpackAlignment;i(f.data.byteLength===d*l,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||i(0==(t.mipmask&1<<r),"extra mipmap data");t.compressed&&i(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var a=e.width,o=e.height,s=e.channels;i(a>0&&a<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),i(a===o,"cube map must be square"),i(t.wrapS===z&&t.wrapT===z,"wrap mode not supported by cube map");for(var c=0;c<n.length;++c){var u=n[c];i(u.width===a&&u.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(i(!u.compressed,"can not generate mipmap for compressed textures"),i(1===u.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=u.images,f=0;f<16;++f){var d=l[f];if(d){var p=a>>f,m=o>>f;i(u.mipmask&1<<f,"missing mipmap data"),i(d.width===p&&d.height===m,"invalid shape for mip images"),i(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?i(d.data.byteLength===p*m*Math.max(X(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}Q[5120]=Q[L]=1,Q[B]=Q[q]=Q[J]=Q[W]=Q[K]=Q[G]=2,Q[V]=Q[H]=Q[Y]=Q[U]=4;var ne=t(i,{optional:D,raise:a,commandRaise:C,command:O,parameter:s,commandParameter:M,constructor:m,type:l,commandType:E,isTypedArray:c,nni:f,oneOf:d,shaderError:_,linkError:A,callSite:$,saveCommandRef:T,saveDrawInfo:S,framebufferFormat:j,guessCommand:v,texture2D:ee,textureCube:te}),re=0,ae=0,ie=5,oe=6;function se(e,t){this.id=re++,this.type=e,this.data=t}function ce(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ue(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ce(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return ue(e.substr(0,r.index)).concat(ue(r[1])).concat(ue(e.substr(r.index+r[0].length)));var a=e.split(".");if(1===a.length)return['"'+ce(e)+'"'];for(var i=[],o=0;o<a.length;++o)i=i.concat(ue(a[o]));return i}function le(e){return"["+ue(e).join("][")+"]"}function fe(e,t){return new se(e,le(t+""))}function de(e){return"function"==typeof e&&!e._reglType||e instanceof se}function pe(e,t){return"function"==typeof e?new se(ae,e):"number"==typeof e||"boolean"==typeof e?new se(ie,e):Array.isArray(e)?new se(oe,e.map((function(e,n){return pe(e,t+"["+n+"]")}))):e instanceof se?e:void ne(!1,"invalid option type in uniform "+t)}var me={DynamicVariable:se,define:fe,isDynamic:de,unbox:pe,accessor:le},he={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ge="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function be(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function ye(e,n,r){var a,i=document.createElement("canvas");function o(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var a=i.getBoundingClientRect();t=a.right-a.left,n=a.bottom-a.top}i.width=r*t,i.height=r*n}function s(){a?a.disconnect():window.removeEventListener("resize",o),e.removeChild(i)}return t(i.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(i),e===document.body&&(i.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"==typeof ResizeObserver?(a=new ResizeObserver((function(){setTimeout(o)}))).observe(e):window.addEventListener("resize",o,!1),o(),{canvas:i,onDestroy:s}}function ve(e,t){function n(n){try{return e.getContext(n,t)}catch(e){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function $e(e){return"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect}function xe(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}function we(e){return"string"==typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function ke(e){return"string"==typeof e?(ne("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function _e(e){var t,n,r,a,i=e||{},o={},s=[],c=[],u="undefined"==typeof window?1:window.devicePixelRatio,l=!1,f=function(e){e&&ne.raise(e)},d=function(){};if("string"==typeof i?(ne("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(i),ne(t,"invalid query string for element")):"object"==typeof i?$e(i)?t=i:xe(i)?r=(a=i).canvas:(ne.constructor(i),"gl"in i?a=i.gl:"canvas"in i?r=ke(i.canvas):"container"in i&&(n=ke(i.container)),"attributes"in i&&(o=i.attributes,ne.type(o,"object","invalid context attributes")),"extensions"in i&&(s=we(i.extensions)),"optionalExtensions"in i&&(c=we(i.optionalExtensions)),"onDone"in i&&(ne.type(i.onDone,"function","invalid or missing onDone callback"),f=i.onDone),"profile"in i&&(l=!!i.profile),"pixelRatio"in i&&(u=+i.pixelRatio,ne(u>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!a){if(!r){ne("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var p=ye(n||document.body,f,u);if(!p)return null;r=p.canvas,d=p.onDestroy}void 0===o.premultipliedAlpha&&(o.premultipliedAlpha=!0),a=ve(r,o)}return a?{gl:a,canvas:r,container:n,extensions:s,optionalExtensions:c,pixelRatio:u,profile:l,onDone:f,onDestroy:d}:(d(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ae(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,a=t.toLowerCase();try{r=n[a]=e.getExtension(a)}catch(e){}return!!r}for(var a=0;a<t.extensions.length;++a){var i=t.extensions[a];if(!r(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Te(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Se=5120,Ce=5121,Oe=5122,Me=5123,Ee=5124,De=5125,je=5126;function ze(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Re(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Pe(){var e=Te(8,(function(){return[]}));function t(t){var n=ze(t),r=e[Re(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Re(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Se:r=new Int8Array(t(n),0,n);break;case Ce:r=new Uint8Array(t(n),0,n);break;case Oe:r=new Int16Array(t(2*n),0,n);break;case Me:r=new Uint16Array(t(2*n),0,n);break;case Ee:r=new Int32Array(t(4*n),0,n);break;case De:r=new Uint32Array(t(4*n),0,n);break;case je:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function a(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:a}}var Ne=Pe();Ne.zero=Pe();var Ie=3408,Fe=3410,Le=3411,Be=3412,qe=3413,Ve=3414,He=3415,Ye=33901,Ke=33902,Ge=3379,We=3386,Ue=34921,Je=36347,Qe=36348,Xe=35661,Ze=35660,et=34930,tt=36349,nt=34076,rt=34024,at=7936,it=7937,ot=7938,st=35724,ct=34047,ut=36063,lt=34852,ft=3553,dt=34067,pt=34069,mt=33984,ht=6408,gt=5126,bt=5121,yt=36160,vt=36053,$t=36064,xt=16384,wt=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ct));var r=1,a=1;t.webgl_draw_buffers&&(r=e.getParameter(lt),a=e.getParameter(ut));var i=!!t.oes_texture_float;if(i){var o=e.createTexture();e.bindTexture(ft,o),e.texImage2D(ft,0,ht,1,1,0,ht,gt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(yt,s),e.framebufferTexture2D(yt,$t,ft,o,0),e.bindTexture(ft,null),e.checkFramebufferStatus(yt)!==vt)i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(xt);var c=Ne.allocType(gt,4);e.readPixels(0,0,1,1,ht,gt,c),e.getError()?i=!1:(e.deleteFramebuffer(s),e.deleteTexture(o),i=1===c[0]),Ne.freeType(c)}}var u=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var l=e.createTexture(),f=Ne.allocType(bt,36);e.activeTexture(mt),e.bindTexture(dt,l),e.texImage2D(pt,0,ht,3,3,0,ht,bt,f),Ne.freeType(f),e.bindTexture(dt,null),e.deleteTexture(l),u=!e.getError()}return{colorBits:[e.getParameter(Fe),e.getParameter(Le),e.getParameter(Be),e.getParameter(qe)],depthBits:e.getParameter(Ve),stencilBits:e.getParameter(He),subpixelBits:e.getParameter(Ie),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:a,pointSizeDims:e.getParameter(Ye),lineWidthDims:e.getParameter(Ke),maxViewportDims:e.getParameter(We),maxCombinedTextureUnits:e.getParameter(Xe),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(Ge),maxAttributes:e.getParameter(Ue),maxVertexUniforms:e.getParameter(Je),maxVertexTextureUnits:e.getParameter(Ze),maxVaryingVectors:e.getParameter(Qe),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(st),renderer:e.getParameter(it),vendor:e.getParameter(at),version:e.getParameter(ot),readFloat:i,npotTextureCube:u}};function kt(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var _t=function(e){return Object.keys(e).map((function(t){return e[t]}))},At={shape:Et,flatten:Mt};function Tt(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function St(e,t,n,r){for(var a=0,i=0;i<t;++i)for(var o=e[i],s=0;s<n;++s)r[a++]=o[s]}function Ct(e,t,n,r,a,i){for(var o=i,s=0;s<t;++s)for(var c=e[s],u=0;u<n;++u)for(var l=c[u],f=0;f<r;++f)a[o++]=l[f]}function Ot(e,t,n,r,a){for(var i=1,o=n+1;o<t.length;++o)i*=t[o];var s=t[n];if(t.length-n==4){var c=t[n+1],u=t[n+2],l=t[n+3];for(o=0;o<s;++o)Ct(e[o],c,u,l,r,a),a+=i}else for(o=0;o<s;++o)Ot(e[o],t,n+1,r,a),a+=i}function Mt(e,t,n,r){var a=1;if(t.length)for(var i=0;i<t.length;++i)a*=t[i];else a=0;var o=r||Ne.allocType(n,a);switch(t.length){case 0:break;case 1:Tt(e,t[0],o);break;case 2:St(e,t[0],t[1],o);break;case 3:Ct(e,t[0],t[1],t[2],o,0);break;default:Ot(e,t,0,o,0)}return o}function Et(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Dt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},jt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},zt={dynamic:35048,stream:35040,static:35044},Rt=At.flatten,Pt=At.shape,Nt=35044,It=35040,Ft=5121,Lt=5126,Bt=[];function qt(e){return 0|Dt[Object.prototype.toString.call(e)]}function Vt(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Ht(e,t,n,r,a,i,o){for(var s=0,c=0;c<n;++c)for(var u=0;u<r;++u)e[s++]=t[a*c+i*u+o]}function Yt(t,n,r,a){var i=0,o={};function s(e){this.id=i++,this.buffer=t.createBuffer(),this.type=e,this.usage=Nt,this.byteLength=0,this.dimension=1,this.dtype=Ft,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){p(this)};var c=[];function u(e,t){var n=c.pop();return n||(n=new s(e)),n.bind(),d(n,t,It,0,1,!1),n}function l(e){c.push(e)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function d(t,n,r,a,i,o){var s,c;if(t.usage=r,Array.isArray(n)){if(t.dtype=a||Lt,n.length>0)if(Array.isArray(n[0])){s=Pt(n);for(var u=1,l=1;l<s.length;++l)u*=s[l];t.dimension=u,f(t,c=Rt(n,s,t.dtype),r),o?t.persistentData=c:Ne.freeType(c)}else if("number"==typeof n[0]){t.dimension=i;var d=Ne.allocType(t.dtype,n.length);Vt(d,n),f(t,d,r),o?t.persistentData=d:Ne.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=a||qt(n[0])||Lt,f(t,c=Rt(n,[n.length,n[0].length],t.dtype),r),o?t.persistentData=c:Ne.freeType(c)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=a||qt(n),t.dimension=i,f(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(kt(n)){s=n.shape;var p=n.stride,m=n.offset,h=0,g=0,b=0,y=0;1===s.length?(h=s[0],g=1,b=p[0],y=0):2===s.length?(h=s[0],g=s[1],b=p[0],y=p[1]):ne.raise("invalid shape"),t.dtype=a||qt(n.data)||Lt,t.dimension=g;var v=Ne.allocType(t.dtype,h*g);Ht(v,n.data,h,g,b,y,m),f(t,v,r),o?t.persistentData=v:Ne.freeType(v)}else n instanceof ArrayBuffer?(t.dtype=Ft,t.dimension=i,f(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function p(e){n.bufferCount--,a(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete o[e.id]}function m(a,i,c,u){n.bufferCount++;var l=new s(i);function f(n){var a=Nt,i=null,o=0,s=0,c=1;return Array.isArray(n)||e(n)||kt(n)||n instanceof ArrayBuffer?i=n:"number"==typeof n?o=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===i||Array.isArray(i)||e(i)||kt(i),"invalid data for buffer"),i=n.data),"usage"in n&&(ne.parameter(n.usage,zt,"invalid buffer usage"),a=zt[n.usage]),"type"in n&&(ne.parameter(n.type,jt,"invalid buffer type"),s=jt[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),c=0|n.dimension),"length"in n&&(ne.nni(o,"buffer length must be a nonnegative integer"),o=0|n.length)),l.bind(),i?d(l,i,a,s,c,u):(o&&t.bufferData(l.type,o,a),l.dtype=s||Ft,l.usage=a,l.dimension=c,l.byteLength=o),r.profile&&(l.stats.size=l.byteLength*Bt[l.dtype]),f}function m(e,n){ne(n+e.byteLength<=l.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+l.byteLength),t.bufferSubData(l.type,n,e)}function h(t,n){var r,a=0|(n||0);if(l.bind(),e(t)||t instanceof ArrayBuffer)m(t,a);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var i=Ne.allocType(l.dtype,t.length);Vt(i,t),m(i,a),Ne.freeType(i)}else if(Array.isArray(t[0])||e(t[0])){r=Pt(t);var o=Rt(t,r,l.dtype);m(o,a),Ne.freeType(o)}else ne.raise("invalid buffer data")}else if(kt(t)){r=t.shape;var s=t.stride,c=0,u=0,d=0,p=0;1===r.length?(c=r[0],u=1,d=s[0],p=0):2===r.length?(c=r[0],u=r[1],d=s[0],p=s[1]):ne.raise("invalid shape");var h=Array.isArray(t.data)?l.dtype:qt(t.data),g=Ne.allocType(h,c*u);Ht(g,t.data,c,u,d,p,t.offset),m(g,a),Ne.freeType(g)}else ne.raise("invalid data for buffer subdata");return f}return o[l.id]=l,c||f(a),f._reglType="buffer",f._buffer=l,f.subdata=h,r.profile&&(f.stats=l.stats),f.destroy=function(){p(l)},f}function h(){_t(o).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach((function(t){e+=o[t].stats.size})),e}),{create:m,createStream:u,destroyStream:l,clear:function(){_t(o).forEach(p),c.forEach(p)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:h,_initBuffer:d}}Bt[5120]=1,Bt[5122]=2,Bt[5124]=4,Bt[5121]=1,Bt[5123]=2,Bt[5125]=4,Bt[5126]=4;var Kt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Gt=0,Wt=1,Ut=4,Jt=5120,Qt=5121,Xt=5122,Zt=5123,en=5124,tn=5125,nn=34963,rn=35040,an=35044;function on(t,n,r,a){var i={},o=0,s={uint8:Qt,uint16:Zt};function c(e){this.id=o++,i[this.id]=this,this.buffer=e,this.primType=Ut,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=tn),c.prototype.bind=function(){this.buffer.bind()};var u=[];function l(e){var t=u.pop();return t||(t=new c(r.create(null,nn,!0,!1)._buffer)),d(t,e,rn,-1,-1,0,0),t}function f(e){u.push(e)}function d(a,i,o,s,c,u,l){var f;if(a.buffer.bind(),i){var d=l;l||e(i)&&(!kt(i)||e(i.data))||(d=n.oes_element_index_uint?tn:Zt),r._initBuffer(a.buffer,i,o,d,3)}else t.bufferData(nn,u,o),a.buffer.dtype=f||Qt,a.buffer.usage=o,a.buffer.dimension=3,a.buffer.byteLength=u;if(f=l,!l){switch(a.buffer.dtype){case Qt:case Jt:f=Qt;break;case Zt:case Xt:f=Zt;break;case tn:case en:f=tn;break;default:ne.raise("unsupported type for element array")}a.buffer.dtype=f}a.type=f,ne(f!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var p=c;p<0&&(p=a.buffer.byteLength,f===Zt?p>>=1:f===tn&&(p>>=2)),a.vertCount=p;var m=s;if(s<0){m=Ut;var h=a.buffer.dimension;1===h&&(m=Gt),2===h&&(m=Wt),3===h&&(m=Ut)}a.primType=m}function p(e){a.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete i[e.id],e.buffer.destroy(),e.buffer=null}function m(t,n){var i=r.create(null,nn,!0),o=new c(i._buffer);function u(t){if(t)if("number"==typeof t)i(t),o.primType=Ut,o.vertCount=0|t,o.type=Qt;else{var n=null,r=an,a=-1,c=-1,l=0,f=0;Array.isArray(t)||e(t)||kt(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||kt(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,zt,"invalid element buffer usage"),r=zt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Kt,"invalid element buffer primitive"),a=Kt[t.primitive]),"count"in t&&(ne("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),c=0|t.count),"type"in t&&(ne.parameter(t.type,s,"invalid buffer type"),f=s[t.type]),"length"in t?l=0|t.length:(l=c,f===Zt||f===Xt?l*=2:f!==tn&&f!==en||(l*=4))),d(o,n,r,a,c,l,f)}else i(),o.primType=Ut,o.vertCount=0,o.type=Qt;return u}return a.elementsCount++,u(t),u._reglType="elements",u._elements=o,u.subdata=function(e,t){return i.subdata(e,t),u},u.destroy=function(){p(o)},u}return{create:m,createStream:l,destroyStream:f,getElements:function(e){return"function"==typeof e&&e._elements instanceof c?e._elements:null},clear:function(){_t(i).forEach(p)}}}var sn=new Float32Array(1),cn=new Uint32Array(sn.buffer),un=5123;function ln(e){for(var t=Ne.allocType(un,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{sn[0]=e[n];var r=cn[0],a=r>>>31<<15,i=(r<<1>>>24)-127,o=r>>13&1023;if(i<-24)t[n]=a;else if(i<-14){var s=-14-i;t[n]=a+(o+1024>>s)}else t[n]=i>15?a+31744:a+(i+15<<10)+o}return t}function fn(t){return Array.isArray(t)||e(t)}var dn=function(e){return!(e&e-1||!e)},pn=34467,mn=3553,hn=34067,gn=34069,bn=6408,yn=6406,vn=6407,$n=6409,xn=6410,wn=32854,kn=32855,_n=36194,An=32819,Tn=32820,Sn=33635,Cn=34042,On=6402,Mn=34041,En=35904,Dn=35906,jn=36193,zn=33776,Rn=33777,Pn=33778,Nn=33779,In=35986,Fn=35987,Ln=34798,Bn=35840,qn=35841,Vn=35842,Hn=35843,Yn=36196,Kn=5121,Gn=5123,Wn=5125,Un=5126,Jn=10242,Qn=10243,Xn=10497,Zn=33071,er=33648,tr=10240,nr=10241,rr=9728,ar=9729,ir=9984,or=9985,sr=9986,cr=9987,ur=33170,lr=4352,fr=4353,dr=4354,pr=34046,mr=3317,hr=37440,gr=37441,br=37443,yr=37444,vr=33984,$r=[ir,sr,or,cr],xr=[0,$n,xn,vn,bn],wr={};function kr(e){return"[object "+e+"]"}wr[$n]=wr[yn]=wr[On]=1,wr[Mn]=wr[xn]=2,wr[vn]=wr[En]=3,wr[bn]=wr[Dn]=4;var _r=kr("HTMLCanvasElement"),Ar=kr("OffscreenCanvas"),Tr=kr("CanvasRenderingContext2D"),Sr=kr("ImageBitmap"),Cr=kr("HTMLImageElement"),Or=kr("HTMLVideoElement"),Mr=Object.keys(Dt).concat([_r,Ar,Tr,Sr,Cr,Or]),Er=[];Er[Kn]=1,Er[Un]=4,Er[jn]=2,Er[Gn]=2,Er[Wn]=4;var Dr=[];function jr(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function zr(e){return!!Array.isArray(e)&&!(0===e.length||!fn(e[0]))}function Rr(e){return Object.prototype.toString.call(e)}function Pr(e){return Rr(e)===_r}function Nr(e){return Rr(e)===Ar}function Ir(e){return Rr(e)===Tr}function Fr(e){return Rr(e)===Sr}function Lr(e){return Rr(e)===Cr}function Br(e){return Rr(e)===Or}function qr(e){if(!e)return!1;var t=Rr(e);return Mr.indexOf(t)>=0||jr(e)||zr(e)||kt(e)}function Vr(e){return 0|Dt[Object.prototype.toString.call(e)]}function Hr(e,t){var n=t.length;switch(e.type){case Kn:case Gn:case Wn:case Un:var r=Ne.allocType(e.type,n);r.set(t),e.data=r;break;case jn:e.data=ln(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Yr(e,t){return Ne.allocType(e.type===jn?Un:e.type,t)}function Kr(e,t){e.type===jn?(e.data=ln(t),Ne.freeType(t)):e.data=t}function Gr(e,t,n,r,a,i){for(var o=e.width,s=e.height,c=e.channels,u=Yr(e,o*s*c),l=0,f=0;f<s;++f)for(var d=0;d<o;++d)for(var p=0;p<c;++p)u[l++]=t[n*d+r*f+a*p+i];Kr(e,u)}function Wr(e,t,n,r,a,i){var o;if(o=void 0!==Dr[e]?Dr[e]:wr[e]*Er[t],i&&(o*=6),a){for(var s=0,c=n;c>=1;)s+=o*c*c,c/=2;return s}return o*n*r}function Ur(n,r,a,i,o,s,c){var u={"don't care":lr,"dont care":lr,nice:dr,fast:fr},l={repeat:Xn,clamp:Zn,mirror:er},f={nearest:rr,linear:ar},d=t({mipmap:cr,"nearest mipmap nearest":ir,"linear mipmap nearest":or,"nearest mipmap linear":sr,"linear mipmap linear":cr},f),p={none:0,browser:yr},m={uint8:Kn,rgba4:An,rgb565:Sn,"rgb5 a1":Tn},h={alpha:yn,luminance:$n,"luminance alpha":xn,rgb:vn,rgba:bn,rgba4:wn,"rgb5 a1":kn,rgb565:_n},g={};r.ext_srgb&&(h.srgb=En,h.srgba=Dn),r.oes_texture_float&&(m.float32=m.float=Un),r.oes_texture_half_float&&(m.float16=m["half float"]=jn),r.webgl_depth_texture&&(t(h,{depth:On,"depth stencil":Mn}),t(m,{uint16:Gn,uint32:Wn,"depth stencil":Cn})),r.webgl_compressed_texture_s3tc&&t(g,{"rgb s3tc dxt1":zn,"rgba s3tc dxt1":Rn,"rgba s3tc dxt3":Pn,"rgba s3tc dxt5":Nn}),r.webgl_compressed_texture_atc&&t(g,{"rgb atc":In,"rgba atc explicit alpha":Fn,"rgba atc interpolated alpha":Ln}),r.webgl_compressed_texture_pvrtc&&t(g,{"rgb pvrtc 4bppv1":Bn,"rgb pvrtc 2bppv1":qn,"rgba pvrtc 4bppv1":Vn,"rgba pvrtc 2bppv1":Hn}),r.webgl_compressed_texture_etc1&&(g["rgb etc1"]=Yn);var b=Array.prototype.slice.call(n.getParameter(pn));Object.keys(g).forEach((function(e){var t=g[e];b.indexOf(t)>=0&&(h[e]=t)}));var y=Object.keys(h);a.textureFormats=y;var v=[];Object.keys(h).forEach((function(e){var t=h[e];v[t]=e}));var $=[];Object.keys(m).forEach((function(e){var t=m[e];$[t]=e}));var x=[];Object.keys(f).forEach((function(e){var t=f[e];x[t]=e}));var w=[];Object.keys(d).forEach((function(e){var t=d[e];w[t]=e}));var k=[];Object.keys(l).forEach((function(e){var t=l[e];k[t]=e}));var _=y.reduce((function(e,t){var n=h[t];return n===$n||n===yn||n===$n||n===xn||n===On||n===Mn||r.ext_srgb&&(n===En||n===Dn)?e[n]=n:n===kn||t.indexOf("rgba")>=0?e[n]=bn:e[n]=vn,e}),{});function A(){this.internalformat=bn,this.format=bn,this.type=Kn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=yr,this.width=0,this.height=0,this.channels=0}function T(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function S(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,p,"invalid colorSpace"),e.colorSpace=p[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,m,"invalid texture type"),e.type=m[n]}var i=e.width,o=e.height,s=e.channels,c=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),i=t.shape[0],o=t.shape[1],3===t.shape.length&&(s=t.shape[2],ne(s>0&&s<=4,"invalid number of channels"),c=!0),ne(i>=0&&i<=a.maxTextureSize,"invalid width"),ne(o>=0&&o<=a.maxTextureSize,"invalid height")):("radius"in t&&(i=o=t.radius,ne(i>=0&&i<=a.maxTextureSize,"invalid radius")),"width"in t&&(i=t.width,ne(i>=0&&i<=a.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,ne(o>=0&&o<=a.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ne(s>0&&s<=4,"invalid number of channels"),c=!0)),e.width=0|i,e.height=0|o,e.channels=0|s;var u=!1;if("format"in t){var l=t.format;ne(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(l,h,"invalid texture format");var f=e.internalformat=h[l];e.format=_[f],l in m&&("type"in t||(e.type=m[l])),l in g&&(e.compressed=!0),u=!0}!c&&u?e.channels=wr[e.format]:c&&!u?e.channels!==xr[e.format]&&(e.format=e.internalformat=xr[e.channels]):u&&c&&ne(e.channels===wr[e.format],"number of channels inconsistent with specified format")}}function C(e){n.pixelStorei(hr,e.flipY),n.pixelStorei(gr,e.premultiplyAlpha),n.pixelStorei(br,e.colorSpace),n.pixelStorei(mr,e.unpackAlignment)}function O(){A.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function M(t,n){var r=null;if(qr(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),S(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),qr(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var i=o.viewportWidth,s=o.viewportHeight;t.width=t.width||i-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<i&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=i&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Kn||(t.type=Vr(r));else if(jr(r))t.channels=t.channels||4,Hr(t,r),t.alignment=1,t.needsFree=!0;else if(kt(r)){var c=r.data;Array.isArray(c)||t.type!==Kn||(t.type=Vr(c));var u,l,f,d,p,m,h=r.shape,g=r.stride;3===h.length?(f=h[2],m=g[2]):(ne(2===h.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,m=1),u=h[0],l=h[1],d=g[0],p=g[1],t.alignment=1,t.width=u,t.height=l,t.channels=f,t.format=t.internalformat=xr[f],t.needsFree=!0,Gr(t,c,d,p,m,r.offset)}else if(Pr(r)||Nr(r)||Ir(r))Pr(r)||Nr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Fr(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(Lr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Br(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(zr(r)){var b=t.width||r[0].length,y=t.height||r.length,v=t.channels;v=fn(r[0][0])?v||r[0][0].length:v||1;for(var $=At.shape(r),x=1,w=0;w<$.length;++w)x*=$[w];var k=Yr(t,x);At.flatten(r,$,"",k),Kr(t,k),t.alignment=1,t.width=b,t.height=y,t.channels=v,t.format=t.internalformat=xr[v],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Un?ne(a.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===jn&&ne(a.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function E(e,t,r){var a=e.element,o=e.data,s=e.internalformat,c=e.format,u=e.type,l=e.width,f=e.height;C(e),a?n.texImage2D(t,r,c,c,u,a):e.compressed?n.compressedTexImage2D(t,r,s,l,f,0,o):e.needsCopy?(i(),n.copyTexImage2D(t,r,c,e.xOffset,e.yOffset,l,f,0)):n.texImage2D(t,r,c,l,f,0,c,u,o||null)}function D(e,t,r,a,o){var s=e.element,c=e.data,u=e.internalformat,l=e.format,f=e.type,d=e.width,p=e.height;C(e),s?n.texSubImage2D(t,o,r,a,l,f,s):e.compressed?n.compressedTexSubImage2D(t,o,r,a,u,d,p,c):e.needsCopy?(i(),n.copyTexSubImage2D(t,o,r,a,e.xOffset,e.yOffset,d,p)):n.texSubImage2D(t,o,r,a,d,p,l,f,c)}var j=[];function z(){return j.pop()||new O}function R(e){e.needsFree&&Ne.freeType(e.data),O.call(e),j.push(e)}function P(){A.call(this),this.genMipmaps=!1,this.mipmapHint=lr,this.mipmask=0,this.images=Array(16)}function N(e,t,n){var r=e.images[0]=z();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function I(e,t){var n=null;if(qr(t))T(n=e.images[0]=z(),e),M(n,t),e.mipmask=1;else if(S(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,a=0;a<r.length;++a)T(n=e.images[a]=z(),e),n.width>>=a,n.height>>=a,M(n,r[a]),e.mipmask|=1<<a;else T(n=e.images[0]=z(),e),M(n,t),e.mipmask=1;T(e,e.images[0]),!e.compressed||e.internalformat!==zn&&e.internalformat!==Rn&&e.internalformat!==Pn&&e.internalformat!==Nn||ne(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function F(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;E(n[r],t,r)}}var L=[];function B(){var e=L.pop()||new P;A.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function q(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&R(t[n]),t[n]=null;L.push(e)}function V(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Zn,this.wrapT=Zn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=lr}function H(e,t){if("min"in t){var n=t.min;ne.parameter(n,d),e.minFilter=d[n],$r.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,f),e.magFilter=f[r]}var i=e.wrapS,o=e.wrapT;if("wrap"in t){var s=t.wrap;"string"==typeof s?(ne.parameter(s,l),i=o=l[s]):Array.isArray(s)&&(ne.parameter(s[0],l),ne.parameter(s[1],l),i=l[s[0]],o=l[s[1]])}else{if("wrapS"in t){var c=t.wrapS;ne.parameter(c,l),i=l[c]}if("wrapT"in t){var p=t.wrapT;ne.parameter(p,l),o=l[p]}}if(e.wrapS=i,e.wrapT=o,"anisotropic"in t){var m=t.anisotropic;ne("number"==typeof m&&m>=1&&m<=a.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var h=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,u,"invalid mipmap hint"),e.mipmapHint=u[t.mipmap],e.genMipmaps=!0,h=!0;break;case"boolean":h=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,h=!0;break;default:ne.raise("invalid mipmap type")}h&&!("min"in t)&&(e.minFilter=ir)}}function Y(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,Jn,e.wrapS),n.texParameteri(t,Qn,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,pr,e.anisotropic),e.genMipmaps&&(n.hint(ur,e.mipmapHint),n.generateMipmap(t))}var K=0,G={},W=a.maxTextureUnits,U=Array(W).map((function(){return null}));function J(e){A.call(this),this.mipmask=0,this.internalformat=bn,this.id=K++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new V,c.profile&&(this.stats={size:0})}function Q(e){n.activeTexture(vr),n.bindTexture(e.target,e.texture)}function X(){var e=U[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(mn,null)}function Z(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,a=e.target;r>=0&&(n.activeTexture(vr+r),n.bindTexture(a,null),U[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete G[e.id],s.textureCount--}function ee(e,t){var r=new J(mn);function i(e,t){var n=r.texInfo;V.call(n);var o=B();return"number"==typeof e?N(o,0|e,"number"==typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),H(n,e),I(o,e)):N(o,1,1),n.genMipmaps&&(o.mipmask=(o.width<<1)-1),r.mipmask=o.mipmask,T(r,o),ne.texture2D(n,o,a),r.internalformat=o.internalformat,i.width=o.width,i.height=o.height,Q(r),F(o,mn),Y(n,mn),X(),q(o),c.profile&&(r.stats.size=Wr(r.internalformat,r.type,o.width,o.height,n.genMipmaps,!1)),i.format=v[r.internalformat],i.type=$[r.type],i.mag=x[n.magFilter],i.min=w[n.minFilter],i.wrapS=k[n.wrapS],i.wrapT=k[n.wrapT],i}function o(e,t,n,a){ne(!!e,"must specify image data");var o=0|t,s=0|n,c=0|a,u=z();return T(u,r),u.width=0,u.height=0,M(u,e),u.width=u.width||(r.width>>c)-o,u.height=u.height||(r.height>>c)-s,ne(r.type===u.type&&r.format===u.format&&r.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(o>=0&&s>=0&&o+u.width<=r.width&&s+u.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<c,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),Q(r),D(u,mn,o,s,c),X(),R(u),i}function u(e,t){var a=0|e,o=0|t||a;if(a===r.width&&o===r.height)return i;i.width=r.width=a,i.height=r.height=o,Q(r);for(var s=0;r.mipmask>>s;++s){var u=a>>s,l=o>>s;if(!u||!l)break;n.texImage2D(mn,s,r.format,u,l,0,r.format,r.type,null)}return X(),c.profile&&(r.stats.size=Wr(r.internalformat,r.type,a,o,!1,!1)),i}return G[r.id]=r,s.textureCount++,i(e,t),i.subimage=o,i.resize=u,i._reglType="texture2d",i._texture=r,c.profile&&(i.stats=r.stats),i.destroy=function(){r.decRef()},i}function te(e,t,r,i,o,u){var l=new J(hn);G[l.id]=l,s.cubeCount++;var f=new Array(6);function d(e,t,n,r,i,o){var s,u=l.texInfo;for(V.call(u),s=0;s<6;++s)f[s]=B();if("number"!=typeof e&&e)if("object"==typeof e)if(t)I(f[0],e),I(f[1],t),I(f[2],n),I(f[3],r),I(f[4],i),I(f[5],o);else if(H(u,e),S(l,e),"faces"in e){var p=e.faces;for(ne(Array.isArray(p)&&6===p.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ne("object"==typeof p[s]&&!!p[s],"invalid input for cube map face"),T(f[s],l),I(f[s],p[s])}else for(s=0;s<6;++s)I(f[s],e);else ne.raise("invalid arguments to cube map");else{var m=0|e||1;for(s=0;s<6;++s)N(f[s],m,m)}for(T(l,f[0]),ne.optional((function(){a.npotTextureCube||ne(dn(l.width)&&dn(l.height),"your browser does not support non power or two texture dimensions")})),u.genMipmaps?l.mipmask=(f[0].width<<1)-1:l.mipmask=f[0].mipmask,ne.textureCube(l,u,f,a),l.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,Q(l),s=0;s<6;++s)F(f[s],gn+s);for(Y(u,hn),X(),c.profile&&(l.stats.size=Wr(l.internalformat,l.type,d.width,d.height,u.genMipmaps,!0)),d.format=v[l.internalformat],d.type=$[l.type],d.mag=x[u.magFilter],d.min=w[u.minFilter],d.wrapS=k[u.wrapS],d.wrapT=k[u.wrapT],s=0;s<6;++s)q(f[s]);return d}function p(e,t,n,r,a){ne(!!t,"must specify image data"),ne("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var i=0|n,o=0|r,s=0|a,c=z();return T(c,l),c.width=0,c.height=0,M(c,t),c.width=c.width||(l.width>>s)-i,c.height=c.height||(l.height>>s)-o,ne(l.type===c.type&&l.format===c.format&&l.internalformat===c.internalformat,"incompatible format for texture.subimage"),ne(i>=0&&o>=0&&i+c.width<=l.width&&o+c.height<=l.height,"texture.subimage write out of bounds"),ne(l.mipmask&1<<s,"missing mipmap data"),ne(c.data||c.element||c.needsCopy,"missing image data"),Q(l),D(c,gn+e,i,o,s),X(),R(c),d}function m(e){var t=0|e;if(t!==l.width){d.width=l.width=t,d.height=l.height=t,Q(l);for(var r=0;r<6;++r)for(var a=0;l.mipmask>>a;++a)n.texImage2D(gn+r,a,l.format,t>>a,t>>a,0,l.format,l.type,null);return X(),c.profile&&(l.stats.size=Wr(l.internalformat,l.type,d.width,d.height,!1,!0)),d}}return d(e,t,r,i,o,u),d.subimage=p,d.resize=m,d._reglType="textureCube",d._texture=l,c.profile&&(d.stats=l.stats),d.destroy=function(){l.decRef()},d}function re(){for(var e=0;e<W;++e)n.activeTexture(vr+e),n.bindTexture(mn,null),U[e]=null;_t(G).forEach(Z),s.cubeCount=0,s.textureCount=0}function ae(){for(var e=0;e<W;++e){var t=U[e];t&&(t.bindCount=0,t.unit=-1,U[e]=null)}_t(G).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!=(e.mipmask&1<<t))if(e.target===mn)n.texImage2D(mn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(gn+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);Y(e.texInfo,e.target)}))}function ie(){for(var e=0;e<W;++e){var t=U[e];t&&(t.bindCount=0,t.unit=-1,U[e]=null),n.activeTexture(vr+e),n.bindTexture(mn,null),n.bindTexture(hn,null)}}return t(J.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<W;++r){var a=U[r];if(a){if(a.bindCount>0)continue;a.unit=-1}U[r]=e,t=r;break}t>=W&&ne.raise("insufficient number of texture units"),c.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(vr+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Z(this)}}),c.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(G).forEach((function(t){e+=G[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ae,refresh:ie}}Dr[wn]=2,Dr[kn]=2,Dr[_n]=2,Dr[Mn]=4,Dr[zn]=.5,Dr[Rn]=.5,Dr[Pn]=1,Dr[Nn]=1,Dr[In]=.5,Dr[Fn]=1,Dr[Ln]=1,Dr[Bn]=.5,Dr[qn]=.25,Dr[Vn]=.5,Dr[Hn]=.25,Dr[Yn]=.5;var Jr=36161,Qr=32854,Xr=32855,Zr=36194,ea=33189,ta=36168,na=34041,ra=35907,aa=34836,ia=34842,oa=34843,sa=[];function ca(e,t,n){return sa[e]*t*n}sa[Qr]=2,sa[Xr]=2,sa[Zr]=2,sa[ea]=2,sa[ta]=1,sa[na]=4,sa[ra]=4,sa[aa]=16,sa[ia]=8,sa[oa]=6;var ua=function(e,t,n,r,a){var i={rgba4:Qr,rgb565:Zr,"rgb5 a1":Xr,depth:ea,stencil:ta,"depth stencil":na};t.ext_srgb&&(i.srgba=ra),t.ext_color_buffer_half_float&&(i.rgba16f=ia,i.rgb16f=oa),t.webgl_color_buffer_float&&(i.rgba32f=aa);var o=[];Object.keys(i).forEach((function(e){var t=i[e];o[t]=e}));var s=0,c={};function u(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=Qr,this.width=0,this.height=0,a.profile&&(this.stats={size:0})}function l(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(Jr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete c[t.id],r.renderbufferCount--}function f(t,s){var l=new u(e.createRenderbuffer());function f(t,r){var s=0,c=0,u=Qr;if("object"==typeof t&&t){var d=t;if("shape"in d){var p=d.shape;ne(Array.isArray(p)&&p.length>=2,"invalid renderbuffer shape"),s=0|p[0],c=0|p[1]}else"radius"in d&&(s=c=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(c=0|d.height);"format"in d&&(ne.parameter(d.format,i,"invalid renderbuffer format"),u=i[d.format])}else"number"==typeof t?(s=0|t,c="number"==typeof r?0|r:s):t?ne.raise("invalid arguments to renderbuffer constructor"):s=c=1;if(ne(s>0&&c>0&&s<=n.maxRenderbufferSize&&c<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||c!==l.height||u!==l.format)return f.width=l.width=s,f.height=l.height=c,l.format=u,e.bindRenderbuffer(Jr,l.renderbuffer),e.renderbufferStorage(Jr,u,s,c),ne(0===e.getError(),"invalid render buffer format"),a.profile&&(l.stats.size=ca(l.format,l.width,l.height)),f.format=o[l.format],f}function d(t,r){var i=0|t,o=0|r||i;return i===l.width&&o===l.height||(ne(i>0&&o>0&&i<=n.maxRenderbufferSize&&o<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=l.width=i,f.height=l.height=o,e.bindRenderbuffer(Jr,l.renderbuffer),e.renderbufferStorage(Jr,l.format,i,o),ne(0===e.getError(),"invalid render buffer format"),a.profile&&(l.stats.size=ca(l.format,l.width,l.height))),f}return c[l.id]=l,r.renderbufferCount++,f(t,s),f.resize=d,f._reglType="renderbuffer",f._renderbuffer=l,a.profile&&(f.stats=l.stats),f.destroy=function(){l.decRef()},f}function d(){_t(c).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Jr,t.renderbuffer),e.renderbufferStorage(Jr,t.format,t.width,t.height)})),e.bindRenderbuffer(Jr,null)}return u.prototype.decRef=function(){--this.refCount<=0&&l(this)},a.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(c).forEach((function(t){e+=c[t].stats.size})),e}),{create:f,clear:function(){_t(c).forEach(l)},restore:d}},la=36160,fa=36161,da=3553,pa=34069,ma=36064,ha=36096,ga=36128,ba=33306,ya=36053,va=36054,$a=36055,xa=36057,wa=36061,ka=36193,_a=5121,Aa=5126,Ta=6407,Sa=6408,Ca=6402,Oa=[Ta,Sa],Ma=[];Ma[Sa]=4,Ma[Ta]=3;var Ea=[];Ea[_a]=1,Ea[Aa]=4,Ea[ka]=2;var Da=33189,ja=36168,za=34041,Ra=[32854,32855,36194,35907,34842,34843,34836],Pa={};function Na(e,n,r,a,i,o){var s={cur:null,next:null,dirty:!1,setFBO:null},c=["rgba"],u=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&u.push("srgba"),n.ext_color_buffer_half_float&&u.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&u.push("rgba32f");var l=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,a=0;t?(r=t.width,a=t.height):n&&(r=n.width,a=n.height),this.width=r,this.height=a}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function p(e,t,n){if(e)if(e.texture){var r=e.texture._texture,a=Math.max(1,r.width),i=Math.max(1,r.height);ne(a===t&&i===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var o=e.renderbuffer._renderbuffer;ne(o.width===t&&o.height===n,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function m(t,n){n&&(n.texture?e.framebufferTexture2D(la,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(la,t,fa,n.renderbuffer._renderbuffer.renderbuffer))}function h(e){var t=da,n=null,r=null,a=e;"object"==typeof e&&(a=e.data,"target"in e&&(t=0|e.target)),ne.type(a,"function","invalid attachment data");var i=a._reglType;return"texture2d"===i?(n=a,ne(t===da)):"textureCube"===i?(n=a,ne(t>=pa&&t<pa+6,"invalid cube map target")):"renderbuffer"===i?(r=a,t=fa):ne.raise("invalid regl object for attachment"),new f(t,n,r)}function g(e,t,n,r,o){if(n){var s=a.create2D({width:e,height:t,format:r,type:o});return s._texture.refCount=0,new f(da,s,null)}var c=i.create({width:e,height:t,format:r});return c._renderbuffer.refCount=0,new f(fa,null,c)}function b(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&l.push("half float","float16"),n.oes_texture_float&&l.push("float","float32");var v=0,$={};function x(){this.id=v++,$[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function w(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function k(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,o.framebufferCount--,delete $[t.id]}function _(t){var n;e.bindFramebuffer(la,t.framebuffer);var a=t.colorAttachments;for(n=0;n<a.length;++n)m(ma+n,a[n]);for(n=a.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(la,ma+n,da,null,0);e.framebufferTexture2D(la,ba,da,null,0),e.framebufferTexture2D(la,ha,da,null,0),e.framebufferTexture2D(la,ga,da,null,0),m(ha,t.depthAttachment),m(ga,t.stencilAttachment),m(ba,t.depthStencilAttachment);var i=e.checkFramebufferStatus(la);e.isContextLost()||i===ya||ne.raise("framebuffer configuration not supported, status = "+Pa[i]),e.bindFramebuffer(la,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function A(e,a){var i=new x;function f(e,t){var a;ne(s.next!==i,"can not update framebuffer which is currently in use");var o=0,d=0,m=!0,y=!0,v=null,$=!0,x="rgba",k="uint8",A=1,T=null,S=null,C=null,O=!1;if("number"==typeof e)o=0|e,d=0|t||o;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var M=e;if("shape"in M){var E=M.shape;ne(Array.isArray(E)&&E.length>=2,"invalid shape for framebuffer"),o=E[0],d=E[1]}else"radius"in M&&(o=d=M.radius),"width"in M&&(o=M.width),"height"in M&&(d=M.height);("color"in M||"colors"in M)&&(v=M.color||M.colors,Array.isArray(v)&&ne(1===v.length||n.webgl_draw_buffers,"multiple render targets not supported")),v||("colorCount"in M&&(A=0|M.colorCount,ne(A>0,"invalid color buffer count")),"colorTexture"in M&&($=!!M.colorTexture,x="rgba4"),"colorType"in M&&(k=M.colorType,$?(ne(n.oes_texture_float||!("float"===k||"float32"===k),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===k||"float16"===k),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===k||"float16"===k?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),x="rgba16f"):"float"!==k&&"float32"!==k||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),x="rgba32f"),ne.oneOf(k,l,"invalid color type")),"colorFormat"in M&&(x=M.colorFormat,c.indexOf(x)>=0?$=!0:u.indexOf(x)>=0?$=!1:ne.optional((function(){$?ne.oneOf(M.colorFormat,c,"invalid color format for texture"):ne.oneOf(M.colorFormat,u,"invalid color format for renderbuffer")})))),("depthTexture"in M||"depthStencilTexture"in M)&&(O=!(!M.depthTexture&&!M.depthStencilTexture),ne(!O||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in M&&("boolean"==typeof M.depth?m=M.depth:(T=M.depth,y=!1)),"stencil"in M&&("boolean"==typeof M.stencil?y=M.stencil:(S=M.stencil,m=!1)),"depthStencil"in M&&("boolean"==typeof M.depthStencil?m=y=M.depthStencil:(C=M.depthStencil,m=!1,y=!1))}else o=d=1;var D=null,j=null,z=null,R=null;if(Array.isArray(v))D=v.map(h);else if(v)D=[h(v)];else for(D=new Array(A),a=0;a<A;++a)D[a]=g(o,d,$,x,k);ne(n.webgl_draw_buffers||D.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(D.length<=r.maxColorAttachments,"too many color attachments, not supported"),o=o||D[0].width,d=d||D[0].height,T?j=h(T):m&&!y&&(j=g(o,d,O,"depth","uint32")),S?z=h(S):y&&!m&&(z=g(o,d,!1,"stencil","uint8")),C?R=h(C):!T&&!S&&y&&m&&(R=g(o,d,O,"depth stencil","depth stencil")),ne(!!T+!!S+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var P=null;for(a=0;a<D.length;++a)if(p(D[a],o,d),ne(!D[a]||D[a].texture&&Oa.indexOf(D[a].texture._texture.format)>=0||D[a].renderbuffer&&Ra.indexOf(D[a].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+a+" is invalid"),D[a]&&D[a].texture){var N=Ma[D[a].texture._texture.format]*Ea[D[a].texture._texture.type];null===P?P=N:ne(P===N,"all color attachments much have the same number of bits per pixel.")}return p(j,o,d),ne(!j||j.texture&&j.texture._texture.format===Ca||j.renderbuffer&&j.renderbuffer._renderbuffer.format===Da,"invalid depth attachment for framebuffer object"),p(z,o,d),ne(!z||z.renderbuffer&&z.renderbuffer._renderbuffer.format===ja,"invalid stencil attachment for framebuffer object"),p(R,o,d),ne(!R||R.texture&&R.texture._texture.format===za||R.renderbuffer&&R.renderbuffer._renderbuffer.format===za,"invalid depth-stencil attachment for framebuffer object"),w(i),i.width=o,i.height=d,i.colorAttachments=D,i.depthAttachment=j,i.stencilAttachment=z,i.depthStencilAttachment=R,f.color=D.map(b),f.depth=b(j),f.stencil=b(z),f.depthStencil=b(R),f.width=i.width,f.height=i.height,_(i),f}function d(e,t){ne(s.next!==i,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===i.width&&r===i.height)return f;for(var a=i.colorAttachments,o=0;o<a.length;++o)y(a[o],n,r);return y(i.depthAttachment,n,r),y(i.stencilAttachment,n,r),y(i.depthStencilAttachment,n,r),i.width=f.width=n,i.height=f.height=r,_(i),f}return o.framebufferCount++,f(e,a),t(f,{resize:d,_reglType:"framebuffer",_framebuffer:i,destroy:function(){k(i),w(i)},use:function(e){s.setFBO({framebuffer:f},e)}})}function T(e){var i=Array(6);function o(e){var r;ne(i.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var u,f={color:null},d=0,p=null,m="rgba",h="uint8",g=1;if("number"==typeof e)d=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var b=e;if("shape"in b){var y=b.shape;ne(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),ne(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in b&&(d=0|b.radius),"width"in b?(d=0|b.width,"height"in b&&ne(b.height===d,"must be square")):"height"in b&&(d=0|b.height);("color"in b||"colors"in b)&&(p=b.color||b.colors,Array.isArray(p)&&ne(1===p.length||n.webgl_draw_buffers,"multiple render targets not supported")),p||("colorCount"in b&&(g=0|b.colorCount,ne(g>0,"invalid color buffer count")),"colorType"in b&&(ne.oneOf(b.colorType,l,"invalid color type"),h=b.colorType),"colorFormat"in b&&(m=b.colorFormat,ne.oneOf(b.colorFormat,c,"invalid color format for texture"))),"depth"in b&&(f.depth=b.depth),"stencil"in b&&(f.stencil=b.stencil),"depthStencil"in b&&(f.depthStencil=b.depthStencil)}else d=1;if(p)if(Array.isArray(p))for(u=[],r=0;r<p.length;++r)u[r]=p[r];else u=[p];else{u=Array(g);var v={radius:d,format:m,type:h};for(r=0;r<g;++r)u[r]=a.createCube(v)}for(f.color=Array(u.length),r=0;r<u.length;++r){var $=u[r];ne("function"==typeof $&&"textureCube"===$._reglType,"invalid cube map"),d=d||$.width,ne($.width===d&&$.height===d,"invalid cube map shape"),f.color[r]={target:pa,data:u[r]}}for(r=0;r<6;++r){for(var x=0;x<u.length;++x)f.color[x].target=pa+r;r>0&&(f.depth=i[0].depth,f.stencil=i[0].stencil,f.depthStencil=i[0].depthStencil),i[r]?i[r](f):i[r]=A(f)}return t(o,{width:d,height:d,color:u})}function u(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===o.width)return o;var a=o.color;for(t=0;t<a.length;++t)a[t].resize(n);for(t=0;t<6;++t)i[t].resize(n);return o.width=o.height=n,o}return o(e),t(o,{faces:i,resize:u,_reglType:"framebufferCube",destroy:function(){i.forEach((function(e){e.destroy()}))}})}function S(){s.cur=null,s.next=null,s.dirty=!0,_t($).forEach((function(t){t.framebuffer=e.createFramebuffer(),_(t)}))}return t(s,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof x)return t}return null},create:A,createCube:T,clear:function(){_t($).forEach(k)},restore:S})}Pa[ya]="complete",Pa[va]="incomplete attachment",Pa[xa]="incomplete dimensions",Pa[$a]="incomplete, missing attachment",Pa[wa]="unsupported";var Ia=5126,Fa=34962,La=34963,Ba=["attributes","elements","offset","count","primitive","instances"];function qa(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ia,this.offset=0,this.stride=0,this.divisor=0}function Va(t,n,r,a,i,o,s){for(var c=r.maxAttributes,u=new Array(c),l=0;l<c;++l)u[l]=new qa;var f=0,d={},p={Record:qa,scope:{},state:u,currentVAO:null,targetVAO:null,restore:h()?w:function(){},createVAO:k,getVAO:b,destroyBuffer:m,setVAO:h()?y:v,clear:h()?$:function(){}};function m(e){for(var n=0;n<u.length;++n){var r=u[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function h(){return n.oes_vertex_array_object}function g(){return n.angle_instanced_arrays}function b(e){return"function"==typeof e&&e._vao?e._vao:null}function y(e){if(e!==p.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),p.currentVAO=e}}function v(e){if(e!==p.currentVAO){if(e)e.bindAttrs();else{for(var n=g(),r=0;r<u.length;++r){var a=u[r];a.buffer?(t.enableVertexAttribArray(r),a.buffer.bind(),t.vertexAttribPointer(r,a.size,a.type,a.normalized,a.stride,a.offfset),n&&a.divisor&&n.vertexAttribDivisorANGLE(r,a.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,a.x,a.y,a.z,a.w))}s.elements?t.bindBuffer(La,s.elements.buffer.buffer):t.bindBuffer(La,null)}p.currentVAO=e}}function $(){_t(d).forEach((function(e){e.destroy()}))}function x(){this.id=++f,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=h();this.vao=e?e.createVertexArrayOES():null,d[this.id]=this,this.buffers=[]}function w(){h()&&_t(d).forEach((function(e){e.refresh()}))}function k(t){var r=new x;function s(t){var a;if(Array.isArray(t))a=t,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4;else{if(ne("object"==typeof t,"invalid arguments for create vao"),ne("attributes"in t,"must specify attributes for vao"),t.elements){var u=t.elements;r.ownsElements?"function"==typeof u&&"elements"===u._reglType?(r.elements.destroy(),r.ownsElements=!1):(r.elements(u),r.ownsElements=!1):o.getElements(t.elements)?(r.elements=t.elements,r.ownsElements=!1):(r.elements=o.create(t.elements),r.ownsElements=!0)}else r.elements=null,r.ownsElements=!1;a=t.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in t&&(r.offset=0|t.offset),"count"in t&&(r.count=0|t.count),"instances"in t&&(r.instances=0|t.instances),"primitive"in t&&(ne(t.primitive in Kt,"bad primitive type: "+t.primitive),r.primitive=Kt[t.primitive]),ne.optional((()=>{for(var e=Object.keys(t),n=0;n<e.length;++n)ne(Ba.indexOf(e[n])>=0,'invalid option for vao: "'+e[n]+'" valid options are '+Ba)})),ne(Array.isArray(a),"attributes must be an array")}ne(a.length<c,"too many attributes"),ne(a.length>0,"must specify at least one attribute");var l={},f=r.attributes;f.length=a.length;for(var d=0;d<a.length;++d){var p,m=a[d],h=f[d]=new qa,g=m.data||m;Array.isArray(g)||e(g)||kt(g)?(r.buffers[d]&&(p=r.buffers[d],e(g)&&p._buffer.byteLength>=g.byteLength?p.subdata(g):(p.destroy(),r.buffers[d]=null)),r.buffers[d]||(p=r.buffers[d]=i.create(m,Fa,!1,!0)),h.buffer=i.getBuffer(p),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1,l[d]=1):i.getBuffer(m)?(h.buffer=i.getBuffer(m),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1):i.getBuffer(m.buffer)?(h.buffer=i.getBuffer(m.buffer),h.size=0|(+m.size||h.buffer.dimension),h.normalized=!!m.normalized||!1,"type"in m?(ne.parameter(m.type,jt,"invalid buffer type"),h.type=jt[m.type]):h.type=h.buffer.dtype,h.offset=0|(m.offset||0),h.stride=0|(m.stride||0),h.divisor=0|(m.divisor||0),h.state=1,ne(h.size>=1&&h.size<=4,"size must be between 1 and 4"),ne(h.offset>=0,"invalid offset"),ne(h.stride>=0&&h.stride<=255,"stride must be between 0 and 255"),ne(h.divisor>=0,"divisor must be positive"),ne(!h.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in m?(ne(d>0,"first attribute must not be a constant"),h.x=+m.x||0,h.y=+m.y||0,h.z=+m.z||0,h.w=+m.w||0,h.state=2):ne(!1,"invalid attribute spec for location "+d)}for(var b=0;b<r.buffers.length;++b)!l[b]&&r.buffers[b]&&(r.buffers[b].destroy(),r.buffers[b]=null);return r.refresh(),s}return a.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},s._vao=r,s._reglType="vao",s(t)}return x.prototype.bindAttrs=function(){for(var e=g(),n=this.attributes,r=0;r<n.length;++r){var a=n[r];a.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Fa,a.buffer.buffer),t.vertexAttribPointer(r,a.size,a.type,a.normalized,a.stride,a.offset),e&&a.divisor&&e.vertexAttribDivisorANGLE(r,a.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,a.x,a.y,a.z,a.w))}for(var i=n.length;i<c;++i)t.disableVertexAttribArray(i);var s=o.getElements(this.elements);s?t.bindBuffer(La,s.buffer.buffer):t.bindBuffer(La,null)},x.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),p.currentVAO=null,e.bindVertexArrayOES(null))},x.prototype.destroy=function(){if(this.vao){var e=h();this===p.currentVAO&&(p.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),d[this.id]&&(delete d[this.id],a.vaoCount-=1)},p}var Ha=35632,Ya=35633,Ka=35718,Ga=35721;function Wa(e,n,r,a){var i={},o={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function c(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function u(t,r,a){var s=t===Ha?i:o,c=s[r];if(!c){var u=n.str(r);c=e.createShader(t),e.shaderSource(c,u),e.compileShader(c),ne.shaderError(e,c,u,t,a),s[r]=c}return c}var l={},f=[],d=0;function p(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,a.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function m(t,r,i){var o,l,f=u(Ha,t.fragId),d=u(Ya,t.vertId),p=t.program=e.createProgram();if(e.attachShader(p,f),e.attachShader(p,d),i)for(o=0;o<i.length;++o){var m=i[o];e.bindAttribLocation(p,m[0],m[1])}e.linkProgram(p),ne.linkError(e,p,n.str(t.fragId),n.str(t.vertId),r);var h=e.getProgramParameter(p,Ka);a.profile&&(t.stats.uniformsCount=h);var g=t.uniforms;for(o=0;o<h;++o)if(l=e.getActiveUniform(p,o)){if(l.size>1)for(var b=0;b<l.size;++b){var y=l.name.replace("[0]","["+b+"]");c(g,new s(y,n.id(y),e.getUniformLocation(p,y),l))}var v=l.name;l.size>1&&(v=v.replace("[0]","")),c(g,new s(v,n.id(v),e.getUniformLocation(p,v),l))}var $=e.getProgramParameter(p,Ga);a.profile&&(t.stats.attributesCount=$);var x=t.attributes;for(o=0;o<$;++o)(l=e.getActiveAttrib(p,o))&&c(x,new s(l.name,n.id(l.name),e.getAttribLocation(p,l.name),l))}function h(){i={},o={};for(var e=0;e<f.length;++e)m(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return a.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);_t(i).forEach(t),i={},_t(o).forEach(t),o={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,l={},r.shaderCount=0},program:function(n,a,s,c){ne.command(n>=0,"missing vertex shader",s),ne.command(a>=0,"missing fragment shader",s);var u=l[a];u||(u=l[a]={});var d=u[n];if(d&&(d.refCount++,!c))return d;var h=new p(a,n);return r.shaderCount++,m(h,s,c),d||(u[n]=h),f.push(h),t(h,{destroy:function(){if(h.refCount--,h.refCount<=0){e.deleteProgram(h.program);var t=f.indexOf(h);f.splice(t,1),r.shaderCount--}u[h.vertId].refCount<=0&&(e.deleteShader(o[h.vertId]),delete o[h.vertId],delete l[h.fragId][h.vertId]),Object.keys(l[h.fragId]).length||(e.deleteShader(i[h.fragId]),delete i[h.fragId],delete l[h.fragId])}})},restore:h,shader:u,frag:-1,vert:-1}}var Ua=6408,Ja=5121,Qa=3333,Xa=5126;function Za(t,n,r,a,i,o,s){function c(c){var u;null===n.next?(ne(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),u=Ja):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),u=n.next.colorAttachments[0].texture._texture.type,ne.optional((function(){o.oes_texture_float?(ne(u===Ja||u===Xa,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),u===Xa&&ne(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(u===Ja,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var l=0,f=0,d=a.framebufferWidth,p=a.framebufferHeight,m=null;e(c)?m=c:c&&(ne.type(c,"object","invalid arguments to regl.read()"),l=0|c.x,f=0|c.y,ne(l>=0&&l<a.framebufferWidth,"invalid x offset for regl.read"),ne(f>=0&&f<a.framebufferHeight,"invalid y offset for regl.read"),d=0|(c.width||a.framebufferWidth-l),p=0|(c.height||a.framebufferHeight-f),m=c.data||null),m&&(u===Ja?ne(m instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):u===Xa&&ne(m instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(d>0&&d+l<=a.framebufferWidth,"invalid width for read pixels"),ne(p>0&&p+f<=a.framebufferHeight,"invalid height for read pixels"),r();var h=d*p*4;return m||(u===Ja?m=new Uint8Array(h):u===Xa&&(m=m||new Float32Array(h))),ne.isTypedArray(m,"data buffer for regl.read() must be a typedarray"),ne(m.byteLength>=h,"data buffer for regl.read() too small"),t.pixelStorei(Qa,4),t.readPixels(l,f,d,p,Ua,u,m),m}function u(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=c(e)})),t}function l(e){return e&&"framebuffer"in e?u(e):c(e)}return l}function ei(e){return Array.prototype.slice.call(e)}function ti(e){return ei(e).join("")}function ni(){var e=0,n=[],r=[];function a(t){for(var a=0;a<r.length;++a)if(r[a]===t)return n[a];var i="g"+e++;return n.push(i),r.push(t),i}function i(){var n=[];function r(){n.push.apply(n,ei(arguments))}var a=[];function i(){var t="v"+e++;return a.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,ei(arguments)),n.push(";")),t}return t(r,{def:i,toString:function(){return ti([a.length>0?"var "+a.join(",")+";":"",ti(n)])}})}function o(){var e=i(),n=i(),r=e.toString,a=n.toString;function o(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,ei(arguments))}),{def:e.def,entry:e,exit:n,save:o,set:function(t,n,r){o(t,n),e(t,n,"=",r,";")},toString:function(){return r()+a()}})}function s(){var e=ti(arguments),n=o(),r=o(),a=n.toString,i=r.toString;return t(n,{then:function(){return n.apply(n,ei(arguments)),this},else:function(){return r.apply(r,ei(arguments)),this},toString:function(){var t=i();return t&&(t="else{"+t+"}"),ti(["if(",e,"){",a(),"}",t])}})}var c=i(),u={};function l(e,n){var r=[];function a(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var i=0;i<n;++i)a();var s=o(),c=s.toString;return u[e]=t(s,{arg:a,toString:function(){return ti(["function(",r.join(),"){",c(),"}"])}})}function f(){var e=['"use strict";',c,"return {"];Object.keys(u).forEach((function(t){e.push('"',t,'":',u[t].toString(),",")})),e.push("}");var t=ti(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:c,link:a,block:i,proc:l,scope:o,cond:s,compile:f}}var ri="xyzw".split(""),ai=5121,ii=1,oi=2,si=0,ci=1,ui=2,li=3,fi=4,di=5,pi=6,mi="dither",hi="blend.enable",gi="blend.color",bi="blend.equation",yi="blend.func",vi="depth.enable",$i="depth.func",xi="depth.range",wi="depth.mask",ki="colorMask",_i="cull.enable",Ai="cull.face",Ti="frontFace",Si="lineWidth",Ci="polygonOffset.enable",Oi="polygonOffset.offset",Mi="sample.alpha",Ei="sample.enable",Di="sample.coverage",ji="stencil.enable",zi="stencil.mask",Ri="stencil.func",Pi="stencil.opFront",Ni="stencil.opBack",Ii="scissor.enable",Fi="scissor.box",Li="viewport",Bi="profile",qi="framebuffer",Vi="vert",Hi="frag",Yi="elements",Ki="primitive",Gi="count",Wi="offset",Ui="instances",Ji="vao",Qi="Width",Xi="Height",Zi=qi+Qi,eo=qi+Xi,to=Li+Qi,no=Li+Xi,ro="drawingBuffer",ao=ro+Qi,io=ro+Xi,oo=[yi,bi,Ri,Pi,Ni,Di,Li,Fi,Oi],so=34962,co=34963,uo=3553,lo=34067,fo=2884,po=3042,mo=3024,ho=2960,go=2929,bo=3089,yo=32823,vo=32926,$o=32928,xo=5126,wo=35664,ko=35665,_o=35666,Ao=5124,To=35667,So=35668,Co=35669,Oo=35670,Mo=35671,Eo=35672,Do=35673,jo=35674,zo=35675,Ro=35676,Po=35678,No=35680,Io=4,Fo=1028,Lo=1029,Bo=2304,qo=2305,Vo=32775,Ho=32776,Yo=519,Ko=7680,Go=0,Wo=1,Uo=32774,Jo=513,Qo=36160,Xo=36064,Zo={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},es=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ts={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ns={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},rs={frag:35632,vert:35633},as={cw:Bo,ccw:qo};function is(t){return Array.isArray(t)||e(t)||kt(t)}function os(e){return e.sort((function(e,t){return e===Li?-1:t===Li?1:e<t?-1:1}))}function ss(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function cs(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function us(e){return new ss(!1,!1,!1,e)}function ls(e,t){var n=e.type;if(n===si){var r=e.data.length;return new ss(!0,r>=1,r>=2,t)}if(n===fi){var a=e.data;return new ss(a.thisDep,a.contextDep,a.propDep,t)}if(n===di)return new ss(!1,!1,!1,t);if(n===pi){for(var i=!1,o=!1,s=!1,c=0;c<e.data.length;++c){var u=e.data[c];if(u.type===ci)s=!0;else if(u.type===ui)o=!0;else if(u.type===li)i=!0;else if(u.type===si){i=!0;var l=u.data;l>=1&&(o=!0),l>=2&&(s=!0)}else u.type===fi&&(i=i||u.data.thisDep,o=o||u.data.contextDep,s=s||u.data.propDep)}return new ss(i,o,s,t)}return new ss(n===li,n===ui,n===ci,t)}var fs=new ss(!1,!1,!1,(function(){}));function ds(e,n,r,a,i,o,s,c,u,l,f,d,p,m,h){var g=l.Record,b={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(b.min=Vo,b.max=Ho);var y=r.angle_instanced_arrays,v=r.webgl_draw_buffers,$=r.oes_vertex_array_object,x={dirty:!0,profile:h.profile},w={},k=[],_={},A={};function T(e){return e.replace(".","_")}function S(e,t,n){var r=T(e);k.push(e),w[r]=x[r]=!!n,_[r]=t}function C(e,t,n){var r=T(e);k.push(e),Array.isArray(n)?(x[r]=n.slice(),w[r]=n.slice()):x[r]=w[r]=n,A[r]=t}S(mi,mo),S(hi,po),C(gi,"blendColor",[0,0,0,0]),C(bi,"blendEquationSeparate",[Uo,Uo]),C(yi,"blendFuncSeparate",[Wo,Go,Wo,Go]),S(vi,go,!0),C($i,"depthFunc",Jo),C(xi,"depthRange",[0,1]),C(wi,"depthMask",!0),C(ki,ki,[!0,!0,!0,!0]),S(_i,fo),C(Ai,"cullFace",Lo),C(Ti,Ti,qo),C(Si,Si,1),S(Ci,yo),C(Oi,"polygonOffset",[0,0]),S(Mi,vo),S(Ei,$o),C(Di,"sampleCoverage",[1,!1]),S(ji,ho),C(zi,"stencilMask",-1),C(Ri,"stencilFunc",[Yo,0,-1]),C(Pi,"stencilOpSeparate",[Fo,Ko,Ko,Ko]),C(Ni,"stencilOpSeparate",[Lo,Ko,Ko,Ko]),S(Ii,bo),C(Fi,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),C(Li,Li,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var O={gl:e,context:p,strings:n,next:w,current:x,draw:d,elements:o,buffer:i,shader:f,attributes:l.state,vao:l,uniforms:u,framebuffer:c,extensions:r,timer:m,isBufferArgs:is},M={primTypes:Kt,compareFuncs:ts,blendFuncs:Zo,blendEquations:b,stencilOps:ns,glTypes:jt,orientationType:as};ne.optional((function(){O.isArrayLike=fn})),v&&(M.backBuffer=[Lo],M.drawBuffer=Te(a.maxDrawbuffers,(function(e){return 0===e?[0]:Te(e,(function(e){return Xo+e}))})));var E=0;function D(){var e=ni(),t=e.link,r=e.global;e.id=E++,e.batchId="0";var a=t(O),i=e.shared={props:"a0"};Object.keys(O).forEach((function(e){i[e]=r.def(a,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},M.invalidBlendCombinations=es}));var o=e.next={},s=e.current={};Object.keys(A).forEach((function(e){Array.isArray(x[e])&&(o[e]=r.def(i.next,".",e),s[e]=r.def(i.current,".",e))}));var c=e.constants={};Object.keys(M).forEach((function(e){c[e]=r.def(JSON.stringify(M[e]))})),e.invoke=function(n,r){switch(r.type){case si:var a=["this",i.context,i.props,e.batchId];return n.def(t(r.data),".call(",a.slice(0,Math.max(r.data.length+1,4)),")");case ci:return n.def(i.props,r.data);case ui:return n.def(i.context,r.data);case li:return n.def("this",r.data);case fi:return r.data.append(e,n),r.data.ref;case di:return r.data.toString();case pi:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var u={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in u)return u[r];var a=l.scope[r];return a||(a=l.scope[r]=new g),u[r]=t(a)},e}function j(e){var t,n=e.static,r=e.dynamic;if(Bi in n){var a=!!n[Bi];(t=us((function(e,t){return a}))).enable=a}else if(Bi in r){var i=r[Bi];t=ls(i,(function(e,t){return e.invoke(t,i)}))}return t}function z(e,t){var n=e.static,r=e.dynamic;if(qi in n){var a=n[qi];return a?(a=c.getFramebuffer(a),ne.command(a,"invalid framebuffer object"),us((function(e,t){var n=e.link(a),r=e.shared;t.set(r.framebuffer,".next",n);var i=r.context;return t.set(i,"."+Zi,n+".width"),t.set(i,"."+eo,n+".height"),n}))):us((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Zi,r+"."+ao),t.set(r,"."+eo,r+"."+io),"null"}))}if(qi in r){var i=r[qi];return ls(i,(function(e,t){var n=e.invoke(t,i),r=e.shared,a=r.framebuffer,o=t.def(a,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+o,"invalid framebuffer object")})),t.set(a,".next",o);var s=r.context;return t.set(s,"."+Zi,o+"?"+o+".width:"+s+"."+ao),t.set(s,"."+eo,o+"?"+o+".height:"+s+"."+io),o}))}return null}function R(e,t,n){var r=e.static,a=e.dynamic;function i(e){if(e in r){var i=r[e];ne.commandType(i,"object","invalid "+e,n.commandStr);var o,s,c=!0,u=0|i.x,l=0|i.y;return"width"in i?(o=0|i.width,ne.command(o>=0,"invalid "+e,n.commandStr)):c=!1,"height"in i?(s=0|i.height,ne.command(s>=0,"invalid "+e,n.commandStr)):c=!1,new ss(!c&&t&&t.thisDep,!c&&t&&t.contextDep,!c&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=o;"width"in i||(r=t.def(n,".",Zi,"-",u));var a=s;return"height"in i||(a=t.def(n,".",eo,"-",l)),[u,l,r,a]}))}if(e in a){var f=a[e],d=ls(f,(function(t,n){var r=t.invoke(n,f);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var a=t.shared.context,i=n.def(r,".x|0"),o=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",a,".",Zi,"-",i,")"),c=n.def('"height" in ',r,"?",r,".height|0:","(",a,".",eo,"-",o,")");return ne.optional((function(){t.assert(n,s+">=0&&"+c+">=0","invalid "+e)})),[i,o,s,c]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new ss(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Zi),t.def(n,".",eo)]})):null}var o=i(Li);if(o){var s=o;o=new ss(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+to,n[2]),t.set(r,"."+no,n[3]),n}))}return{viewport:o,scissor_box:i(Fi)}}function P(e,t){var n=e.static;if("string"==typeof n[Hi]&&"string"==typeof n[Vi]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,a=Object.keys(r);if(a.length>0&&"number"==typeof r[a[0]]){for(var i=[],o=0;o<a.length;++o)ne("number"==typeof r[a[o]],"must specify all vertex attribute locations when using vaos"),i.push([0|r[a[o]],a[o]]);return i}}return null}function N(e,t,r){var a=e.static,i=e.dynamic;function o(e){if(e in a){var t=n.id(a[e]);ne.optional((function(){f.shader(rs[e],t,ne.guessCommand())}));var r=us((function(){return t}));return r.id=t,r}if(e in i){var o=i[e];return ls(o,(function(t,n){var r=t.invoke(n,o),a=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",rs[e],",",a,",",t.command,");")})),a}))}return null}var s,c=o(Hi),u=o(Vi),l=null;return cs(c)&&cs(u)?(l=f.program(u.id,c.id,null,r),s=us((function(e,t){return e.link(l)}))):s=new ss(c&&c.thisDep||u&&u.thisDep,c&&c.contextDep||u&&u.contextDep,c&&c.propDep||u&&u.propDep,(function(e,t){var n,r=e.shared.shader;n=c?c.append(e,t):t.def(r,".",Hi);var a=r+".program("+(u?u.append(e,t):t.def(r,".",Vi))+","+n;return ne.optional((function(){a+=","+e.command})),t.def(a+")")})),{frag:c,vert:u,progVar:s,program:l}}function I(e,t){var n=e.static,r=e.dynamic,a={},i=!1;function s(){if(Ji in n){var e=n[Ji];return null!==e&&null===l.getVAO(e)&&(e=l.createVAO(e)),i=!0,a.vao=e,us((function(t){var n=l.getVAO(e);return n?t.link(n):"null"}))}if(Ji in r){i=!0;var t=r[Ji];return ls(t,(function(e,n){var r=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+r+")")}))}return null}var c=s(),u=!1;function f(){if(Yi in n){var e=n[Yi];if(a.elements=e,is(e)){var s=a.elements=o.create(e,!0);e=o.getElements(s),u=!0}else e&&(e=o.getElements(e),u=!0,ne.command(e,"invalid elements",t.commandStr));var l=us((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return l.value=e,l}if(Yi in r){u=!0;var f=r[Yi];return ls(f,(function(e,t){var n=e.shared,r=n.isBufferArgs,a=n.elements,i=e.invoke(t,f),o=t.def("null"),s=t.def(r,"(",i,")"),c=e.cond(s).then(o,"=",a,".createStream(",i,");").else(o,"=",a,".getElements(",i,");");return ne.optional((function(){e.assert(c.else,"!"+i+"||"+o,"invalid elements")})),t.entry(c),t.exit(e.cond(s).then(a,".destroyStream(",o,");")),e.ELEMENTS=o,o}))}return i?new ss(c.thisDep,c.contextDep,c.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var d=f();function p(){if(Ki in n){var e=n[Ki];return a.primitive=e,ne.commandParameter(e,Kt,"invalid primitve",t.commandStr),us((function(t,n){return Kt[e]}))}if(Ki in r){var o=r[Ki];return ls(o,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,o);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Kt))})),t.def(n,"[",r,"]")}))}return u?cs(d)?d.value?us((function(e,t){return t.def(e.ELEMENTS,".primType")})):us((function(){return Io})):new ss(d.thisDep,d.contextDep,d.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Io)})):i?new ss(c.thisDep,c.contextDep,c.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+Io)})):null}function m(e,o){if(e in n){var s=0|n[e];return o?a.offset=s:a.instances=s,ne.command(!o||s>=0,"invalid "+e,t.commandStr),us((function(e,t){return o&&(e.OFFSET=s),s}))}if(e in r){var l=r[e];return ls(l,(function(t,n){var r=t.invoke(n,l);return o&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}if(o){if(u)return us((function(e,t){return e.OFFSET=0,0}));if(i)return new ss(c.thisDep,c.contextDep,c.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(i)return new ss(c.thisDep,c.contextDep,c.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var h=m(Wi,!0);function g(){if(Gi in n){var e=0|n[Gi];return a.count=e,ne.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),us((function(){return e}))}if(Gi in r){var o=r[Gi];return ls(o,(function(e,t){var n=e.invoke(t,o);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(u){if(cs(d)){if(d)return h?new ss(h.thisDep,h.contextDep,h.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):us((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var s=us((function(){return-1}));return ne.optional((function(){s.MISSING=!0})),s}var l=new ss(d.thisDep||h.thisDep,d.contextDep||h.contextDep,d.propDep||h.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){l.DYNAMIC=!0})),l}if(i){var f=new ss(c.thisDep,c.contextDep,c.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")}));return f}return null}var b=p(),y=g(),v=m(Ui,!1);return{elements:d,primitive:b,count:y,instances:v,offset:h,vao:c,vaoActive:i,elementsActive:u,static:a}}function F(e,t){var n=e.static,r=e.dynamic,i={};return k.forEach((function(e){var o=T(e);function s(t,a){if(e in n){var s=t(n[e]);i[o]=us((function(){return s}))}else if(e in r){var c=r[e];i[o]=ls(c,(function(e,t){return a(e,t,e.invoke(t,c))}))}}switch(e){case _i:case hi:case mi:case ji:case vi:case Ii:case Ci:case Mi:case Ei:case wi:return s((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case $i:return s((function(n){return ne.commandParameter(n,ts,"invalid "+e,t.commandStr),ts[n]}),(function(t,n,r){var a=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+a,"invalid "+e+", must be one of "+Object.keys(ts))})),n.def(a,"[",r,"]")}));case xi:return s((function(e){return ne.command(fn(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case yi:return s((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,a="dstRGB"in e?e.dstRGB:e.dst,i="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,Zo,o+".srcRGB",t.commandStr),ne.commandParameter(r,Zo,o+".srcAlpha",t.commandStr),ne.commandParameter(a,Zo,o+".dstRGB",t.commandStr),ne.commandParameter(i,Zo,o+".dstAlpha",t.commandStr),ne.command(-1===es.indexOf(n+", "+a),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+a+")",t.commandStr),[Zo[n],Zo[a],Zo[r],Zo[i]]}),(function(t,n,r){var a=t.constants.blendFuncs;function i(i,o){var s=n.def('"',i,o,'" in ',r,"?",r,".",i,o,":",r,".",i);return ne.optional((function(){t.assert(n,s+" in "+a,"invalid "+e+"."+i+o+", must be one of "+Object.keys(Zo))})),s}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var o=i("src","RGB"),s=i("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+o+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var c=n.def(a,"[",o,"]"),u=n.def(a,"[",i("src","Alpha"),"]");return[c,n.def(a,"[",s,"]"),u,n.def(a,"[",i("dst","Alpha"),"]")]}));case bi:return s((function(n){return"string"==typeof n?(ne.commandParameter(n,b,"invalid "+e,t.commandStr),[b[n],b[n]]):"object"==typeof n?(ne.commandParameter(n.rgb,b,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,b,e+".alpha",t.commandStr),[b[n.rgb],b[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var a=t.constants.blendEquations,i=n.def(),o=n.def(),s=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+a,"invalid "+n+", must be one of "+Object.keys(b))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")})),s.then(i,"=",o,"=",a,"[",r,"];"),s.else(i,"=",a,"[",r,".rgb];",o,"=",a,"[",r,".alpha];"),n(s),[i,o]}));case gi:return s((function(e){return ne.command(fn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Te(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Te(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case zi:return s((function(e){return ne.commandType(e,"number",o,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Ri:return s((function(n){ne.commandType(n,"object",o,t.commandStr);var r=n.cmp||"keep",a=n.ref||0,i="mask"in n?n.mask:-1;return ne.commandParameter(r,ts,e+".cmp",t.commandStr),ne.commandType(a,"number",e+".ref",t.commandStr),ne.commandType(i,"number",e+".mask",t.commandStr),[ts[r],a,i]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function a(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}a(n+"&&typeof ",n,'==="object"'),a('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Ko),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Pi:case Ni:return s((function(n){ne.commandType(n,"object",o,t.commandStr);var r=n.fail||"keep",a=n.zfail||"keep",i=n.zpass||"keep";return ne.commandParameter(r,ns,e+".fail",t.commandStr),ne.commandParameter(a,ns,e+".zfail",t.commandStr),ne.commandParameter(i,ns,e+".zpass",t.commandStr),[e===Ni?Lo:Fo,ns[r],ns[a],ns[i]]}),(function(t,n,r){var a=t.constants.stencilOps;function i(i){return ne.optional((function(){t.assert(n,'!("'+i+'" in '+r+")||("+r+"."+i+" in "+a+")","invalid "+e+"."+i+", must be one of "+Object.keys(ns))})),n.def('"',i,'" in ',r,"?",a,"[",r,".",i,"]:",Ko)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===Ni?Lo:Fo,i("fail"),i("zfail"),i("zpass")]}));case Oi:return s((function(e){ne.commandType(e,"object",o,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",o+".factor",t.commandStr),ne.commandType(r,"number",o+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Ai:return s((function(e){var n=0;return"front"===e?n=Fo:"back"===e&&(n=Lo),ne.command(!!n,o,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',Fo,":",Lo)}));case Si:return s((function(e){return ne.command("number"==typeof e&&e>=a.lineWidthDims[0]&&e<=a.lineWidthDims[1],"invalid line width, must be a positive number between "+a.lineWidthDims[0]+" and "+a.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+a.lineWidthDims[0]+"&&"+n+"<="+a.lineWidthDims[1],"invalid line width")})),n}));case Ti:return s((function(e){return ne.commandParameter(e,as,o,t.commandStr),as[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Bo+":"+qo)}));case ki:return s((function(e){return ne.command(fn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Te(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Di:return s((function(e){ne.command("object"==typeof e&&e,o,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),i}function L(e,t){var n=e.static,r=e.dynamic,a={};return Object.keys(n).forEach((function(e){var r,i=n[e];if("number"==typeof i||"boolean"==typeof i)r=us((function(){return i}));else if("function"==typeof i){var o=i._reglType;"texture2d"===o||"textureCube"===o?r=us((function(e){return e.link(i)})):"framebuffer"===o||"framebufferCube"===o?(ne.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=us((function(e){return e.link(i.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else fn(i)?r=us((function(t){return t.global.def("[",Te(i.length,(function(n){return ne.command("number"==typeof i[n]||"boolean"==typeof i[n],"invalid uniform "+e,t.commandStr),i[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=i,a[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];a[e]=ls(t,(function(e,n){return e.invoke(n,t)}))})),a}function B(e,t){var r=e.static,a=e.dynamic,o={};return Object.keys(r).forEach((function(e){var a=r[e],s=n.id(e),c=new g;if(is(a))c.state=ii,c.buffer=i.getBuffer(i.create(a,so,!1,!0)),c.type=0;else{var u=i.getBuffer(a);if(u)c.state=ii,c.buffer=u,c.type=0;else if(ne.command("object"==typeof a&&a,"invalid data for attribute "+e,t.commandStr),"constant"in a){var l=a.constant;c.buffer="null",c.state=oi,"number"==typeof l?c.x=l:(ne.command(fn(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,t.commandStr),ri.forEach((function(e,t){t<l.length&&(c[e]=l[t])})))}else{u=is(a.buffer)?i.getBuffer(i.create(a.buffer,so,!1,!0)):i.getBuffer(a.buffer),ne.command(!!u,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|a.offset;ne.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|a.stride;ne.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var p=0|a.size;ne.command(!("size"in a)||p>0&&p<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var m=!!a.normalized,h=0;"type"in a&&(ne.commandParameter(a.type,jt,"invalid type for attribute "+e,t.commandStr),h=jt[a.type]);var b=0|a.divisor;ne.optional((function(){"divisor"in a&&(ne.command(0===b||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(b>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(a).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),c.buffer=u,c.state=ii,c.size=p,c.normalized=m,c.type=h||u.dtype,c.offset=f,c.stride=d,c.divisor=b}}o[e]=us((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(c).forEach((function(e){r[e]=c[e]})),c.buffer&&(r.buffer=e.link(c.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(a).forEach((function(e){var t=a[e];function n(n,r){var a=n.invoke(r,t),i=n.shared,o=n.constants,s=i.isBufferArgs,c=i.buffer;ne.optional((function(){n.assert(r,a+"&&(typeof "+a+'==="object"||typeof '+a+'==="function")&&('+s+"("+a+")||"+c+".getBuffer("+a+")||"+c+".getBuffer("+a+".buffer)||"+s+"("+a+'.buffer)||("constant" in '+a+"&&(typeof "+a+'.constant==="number"||'+i.isArrayLike+"("+a+".constant))))",'invalid dynamic attribute "'+e+'"')}));var u={isStream:r.def(!1)},l=new g;l.state=ii,Object.keys(l).forEach((function(e){u[e]=r.def(""+l[e])}));var f=u.buffer,d=u.type;function p(e){r(u[e],"=",a,".",e,"|0;")}return r("if(",s,"(",a,")){",u.isStream,"=true;",f,"=",c,".createStream(",so,",",a,");",d,"=",f,".dtype;","}else{",f,"=",c,".getBuffer(",a,");","if(",f,"){",d,"=",f,".dtype;",'}else if("constant" in ',a,"){",u.state,"=",oi,";","if(typeof "+a+'.constant === "number"){',u[ri[0]],"=",a,".constant;",ri.slice(1).map((function(e){return u[e]})).join("="),"=0;","}else{",ri.map((function(e,t){return u[e]+"="+a+".constant.length>"+t+"?"+a+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",a,".buffer)){",f,"=",c,".createStream(",so,",",a,".buffer);","}else{",f,"=",c,".getBuffer(",a,".buffer);","}",d,'="type" in ',a,"?",o.glTypes,"[",a,".type]:",f,".dtype;",u.normalized,"=!!",a,".normalized;"),p("size"),p("offset"),p("stride"),p("divisor"),r("}}"),r.exit("if(",u.isStream,"){",c,".destroyStream(",f,");","}"),u}o[e]=ls(t,n)})),o}function q(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=us((function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=ls(t,(function(e,n){return e.invoke(n,t)}))})),r}function V(e,t,n,a,i){var o=e.static,s=e.dynamic;ne.optional((function(){var e=[qi,Vi,Hi,Yi,Ki,Wi,Gi,Ui,Bi,Ji].concat(k);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',i.commandStr)}))}t(o),t(s)}));var c=P(e,t),u=z(e),f=R(e,u,i),d=I(e,i),p=F(e,i),m=N(e,i,c);function h(e){var t=f[e];t&&(p[e]=t)}h(Li),h(T(Fi));var g=Object.keys(p).length>0,b={framebuffer:u,draw:d,shader:m,state:p,dirty:g,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(b.profile=j(e),b.uniforms=L(n,i),b.drawVAO=b.scopeVAO=d.vao,!b.drawVAO&&m.program&&!c&&r.angle_instanced_arrays&&d.static.elements){var y=!0,v=m.program.attributes.map((function(e){var n=t.static[e];return y=y&&!!n,n}));if(y&&v.length>0){var $=l.getVAO(l.createVAO({attributes:v,elements:d.static.elements}));b.drawVAO=new ss(null,null,null,(function(e,t){return e.link($)})),b.useVAO=!0}}return c?b.useVAO=!0:b.attributes=B(t,i),b.context=q(a),b}function H(e,t,n){var r=e.shared.context,a=e.scope();Object.keys(n).forEach((function(i){t.save(r,"."+i);var o=n[i].append(e,t);Array.isArray(o)?a(r,".",i,"=[",o.join(),"];"):a(r,".",i,"=",o,";")})),t(a)}function Y(e,t,n,r){var a,i=e.shared,o=i.gl,s=i.framebuffer;v&&(a=t.def(i.extensions,".webgl_draw_buffers"));var c,u=e.constants,l=u.drawBuffer,f=u.backBuffer;c=n?n.append(e,t):t.def(s,".next"),r||t("if(",c,"!==",s,".cur){"),t("if(",c,"){",o,".bindFramebuffer(",Qo,",",c,".framebuffer);"),v&&t(a,".drawBuffersWEBGL(",l,"[",c,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Qo,",null);"),v&&t(a,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",c,";"),r||t("}")}function K(e,t,n){var r=e.shared,a=r.gl,i=e.current,o=e.next,s=r.current,c=r.next,u=e.cond(s,".dirty");k.forEach((function(t){var r,l,f=T(t);if(!(f in n.state))if(f in o){r=o[f],l=i[f];var d=Te(x[f].length,(function(e){return u.def(r,"[",e,"]")}));u(e.cond(d.map((function(e,t){return e+"!=="+l+"["+t+"]"})).join("||")).then(a,".",A[f],"(",d,");",d.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";"))}else{r=u.def(c,".",f);var p=e.cond(r,"!==",s,".",f);u(p),f in _?p(e.cond(r).then(a,".enable(",_[f],");").else(a,".disable(",_[f],");"),s,".",f,"=",r,";"):p(a,".",A[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&u(s,".dirty=false;"),t(u)}function G(e,t,n,r){var a=e.shared,i=e.current,o=a.current,s=a.gl;os(Object.keys(n)).forEach((function(a){var c=n[a];if(!r||r(c)){var u=c.append(e,t);if(_[a]){var l=_[a];cs(c)?t(s,u?".enable(":".disable(",l,");"):t(e.cond(u).then(s,".enable(",l,");").else(s,".disable(",l,");")),t(o,".",a,"=",u,";")}else if(fn(u)){var f=i[a];t(s,".",A[a],"(",u,");",u.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",A[a],"(",u,");",o,".",a,"=",u,";")}}))}function W(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function U(e,t,n,r,a){var i,o,s,c=e.shared,u=e.stats,l=c.current,f=c.timer,d=n.profile;function p(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function h(e){e(i=t.def(),"=",p(),";"),"string"==typeof a?e(u,".count+=",a,";"):e(u,".count++;"),m&&(r?e(o=t.def(),"=",f,".getNumPendingQueries();"):e(f,".beginQuery(",u,");"))}function g(e){e(u,".cpuTime+=",p(),"-",i,";"),m&&(r?e(f,".pushScopeStats(",o,",",f,".getNumPendingQueries(),",u,");"):e(f,".endQuery();"))}function b(e){var n=t.def(l,".profile");t(l,".profile=",e,";"),t.exit(l,".profile=",n,";")}if(d){if(cs(d))return void(d.enable?(h(t),g(t.exit),b("true")):b("false"));b(s=d.append(e,t))}else s=t.def(l,".profile");var y=e.block();h(y),t("if(",s,"){",y,"}");var v=e.block();g(v),t.exit("if(",s,"){",v,"}")}function J(e,t,n,r,a){var i=e.shared;function o(e){switch(e){case wo:case To:case Mo:return 2;case ko:case So:case Eo:return 3;case _o:case Co:case Do:return 4;default:return 1}}function s(n,r,a){var o=i.gl,s=t.def(n,".location"),c=t.def(i.attributes,"[",s,"]"),u=a.state,l=a.buffer,f=[a.x,a.y,a.z,a.w],d=["buffer","normalized","offset","stride"];function p(){t("if(!",c,".buffer){",o,".enableVertexAttribArray(",s,");}");var n,i=a.type;if(n=a.size?t.def(a.size,"||",r):r,t("if(",c,".type!==",i,"||",c,".size!==",n,"||",d.map((function(e){return c+"."+e+"!=="+a[e]})).join("||"),"){",o,".bindBuffer(",so,",",l,".buffer);",o,".vertexAttribPointer(",[s,n,i,a.normalized,a.stride,a.offset],");",c,".type=",i,";",c,".size=",n,";",d.map((function(e){return c+"."+e+"="+a[e]+";"})).join(""),"}"),y){var u=a.divisor;t("if(",c,".divisor!==",u,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,u],");",c,".divisor=",u,";}")}}function m(){t("if(",c,".buffer){",o,".disableVertexAttribArray(",s,");",c,".buffer=null;","}if(",ri.map((function(e,t){return c+"."+e+"!=="+f[t]})).join("||"),"){",o,".vertexAttrib4f(",s,",",f,");",ri.map((function(e,t){return c+"."+e+"="+f[t]+";"})).join(""),"}")}u===ii?p():u===oi?m():(t("if(",u,"===",ii,"){"),p(),t("}else{"),m(),t("}"))}r.forEach((function(r){var i,c=r.name,u=n.attributes[c];if(u){if(!a(u))return;i=u.append(e,t)}else{if(!a(fs))return;var l=e.scopeAttrib(c);ne.optional((function(){e.assert(t,l+".state","missing attribute "+c)})),i={},Object.keys(new g).forEach((function(e){i[e]=t.def(l,".",e)}))}s(e.link(r),o(r.info.type),i)}))}function Q(e,t,r,a,i,o){for(var s,c=e.shared,u=c.gl,l={},f=0;f<a.length;++f){var d=a[f],p=d.name,m=d.info.type,h=d.info.size,g=r.uniforms[p];if(h>1){if(!g)continue;var b=p.replace("[0]","");if(l[b])continue;l[b]=1}var y,v=e.link(d)+".location";if(g){if(!i(g))continue;if(cs(g)){var $=g.value;if(ne.command(null!=$,'missing uniform "'+p+'"',e.commandStr),m===Po||m===No){ne.command("function"==typeof $&&(m===Po&&("texture2d"===$._reglType||"framebuffer"===$._reglType)||m===No&&("textureCube"===$._reglType||"framebufferCube"===$._reglType)),"invalid texture for uniform "+p,e.commandStr);var x=e.link($._texture||$.color[0]._texture);t(u,".uniform1i(",v,",",x+".bind());"),t.exit(x,".unbind();")}else if(m===jo||m===zo||m===Ro){ne.optional((function(){ne.command(fn($),"invalid matrix for uniform "+p,e.commandStr),ne.command(m===jo&&4===$.length||m===zo&&9===$.length||m===Ro&&16===$.length,"invalid length for matrix uniform "+p,e.commandStr)}));var w=e.global.def("new Float32Array(["+Array.prototype.slice.call($)+"])"),k=2;m===zo?k=3:m===Ro&&(k=4),t(u,".uniformMatrix",k,"fv(",v,",false,",w,");")}else{switch(m){case xo:1===h?ne.commandType($,"number","uniform "+p,e.commandStr):ne.command(fn($)&&$.length===h,"uniform "+p,e.commandStr),s="1f";break;case wo:ne.command(fn($)&&$.length&&$.length%2==0&&$.length<=2*h,"uniform "+p,e.commandStr),s="2f";break;case ko:ne.command(fn($)&&$.length&&$.length%3==0&&$.length<=3*h,"uniform "+p,e.commandStr),s="3f";break;case _o:ne.command(fn($)&&$.length&&$.length%4==0&&$.length<=4*h,"uniform "+p,e.commandStr),s="4f";break;case Oo:1===h?ne.commandType($,"boolean","uniform "+p,e.commandStr):ne.command(fn($)&&$.length===h,"uniform "+p,e.commandStr),s="1i";break;case Ao:1===h?ne.commandType($,"number","uniform "+p,e.commandStr):ne.command(fn($)&&$.length===h,"uniform "+p,e.commandStr),s="1i";break;case Mo:case To:ne.command(fn($)&&$.length&&$.length%2==0&&$.length<=2*h,"uniform "+p,e.commandStr),s="2i";break;case Eo:case So:ne.command(fn($)&&$.length&&$.length%3==0&&$.length<=3*h,"uniform "+p,e.commandStr),s="3i";break;case Do:case Co:ne.command(fn($)&&$.length&&$.length%4==0&&$.length<=4*h,"uniform "+p,e.commandStr),s="4i"}h>1?(s+="v",$=e.global.def("["+Array.prototype.slice.call($)+"]")):$=fn($)?Array.prototype.slice.call($):$,t(u,".uniform",s,"(",v,",",$,");")}continue}y=g.append(e,t)}else{if(!i(fs))continue;y=t.def(c.uniforms,"[",n.id(p),"]")}m===Po?(ne(!Array.isArray(y),"must specify a scalar prop for textures"),t("if(",y,"&&",y,'._reglType==="framebuffer"){',y,"=",y,".color[0];","}")):m===No&&(ne(!Array.isArray(y),"must specify a scalar prop for cube maps"),t("if(",y,"&&",y,'._reglType==="framebufferCube"){',y,"=",y,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+p+'".  '+r)}function r(e,t){1===t&&ne(!Array.isArray(y),"must not specify an array type for uniform"),n("Array.isArray("+y+") && typeof "+y+'[0]===" '+e+'" || typeof '+y+'==="'+e+'"',"invalid type, expected "+e)}function a(t,r,a){Array.isArray(y)?ne(y.length&&y.length%t==0&&y.length<=t*a,"must have length of "+(1===a?"":"n * ")+t):n(c.isArrayLike+"("+y+")&&"+y+".length && "+y+".length % "+t+" === 0 && "+y+".length<="+t*a,"invalid vector, should have length of "+(1===a?"":"n * ")+t,e.commandStr)}function i(t){ne(!Array.isArray(y),"must not specify a value type"),n("typeof "+y+'==="function"&&'+y+'._reglType==="texture'+(t===uo?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(m){case Ao:r("number",h);break;case To:a(2,"number",h);break;case So:a(3,"number",h);break;case Co:a(4,"number",h);break;case xo:r("number",h);break;case wo:a(2,"number",h);break;case ko:a(3,"number",h);break;case _o:a(4,"number",h);break;case Oo:r("boolean",h);break;case Mo:a(2,"boolean",h);break;case Eo:a(3,"boolean",h);break;case Do:a(4,"boolean",h);break;case jo:a(4,"number",h);break;case zo:a(9,"number",h);break;case Ro:a(16,"number",h);break;case Po:i(uo);break;case No:i(lo)}}));var _=1;switch(m){case Po:case No:var A=t.def(y,"._texture");t(u,".uniform1i(",v,",",A,".bind());"),t.exit(A,".unbind();");continue;case Ao:case Oo:s="1i";break;case To:case Mo:s="2i",_=2;break;case So:case Eo:s="3i",_=3;break;case Co:case Do:s="4i",_=4;break;case xo:s="1f";break;case wo:s="2f",_=2;break;case ko:s="3f",_=3;break;case _o:s="4f",_=4;break;case jo:s="Matrix2fv";break;case zo:s="Matrix3fv";break;case Ro:s="Matrix4fv"}if(-1===s.indexOf("Matrix")&&h>1&&(s+="v",_=1),"M"===s.charAt(0)){t(u,".uniform",s,"(",v,",");var T=Math.pow(m-jo+2,2),S=e.global.def("new Float32Array(",T,")");Array.isArray(y)?t("false,(",Te(T,(function(e){return S+"["+e+"]="+y[e]})),",",S,")"):t("false,(Array.isArray(",y,")||",y," instanceof Float32Array)?",y,":(",Te(T,(function(e){return S+"["+e+"]="+y+"["+e+"]"})),",",S,")"),t(");")}else if(_>1){for(var C=[],O=[],M=0;M<_;++M)Array.isArray(y)?O.push(y[M]):O.push(t.def(y+"["+M+"]")),o&&C.push(t.def());o&&t("if(!",e.batchId,"||",C.map((function(e,t){return e+"!=="+O[t]})).join("||"),"){",C.map((function(e,t){return e+"="+O[t]+";"})).join("")),t(u,".uniform",s,"(",v,",",O.join(","),");"),o&&t("}")}else{if(ne(!Array.isArray(y),"uniform value must not be an array"),o){var E=t.def();t("if(!",e.batchId,"||",E,"!==",y,"){",E,"=",y,";")}t(u,".uniform",s,"(",v,",",y,");"),o&&t("}")}}}function X(e,t,n,r){var a=e.shared,i=a.gl,o=a.draw,s=r.draw;function c(){var c,u=s.elements,l=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(l=n),c=u.append(e,l),s.elementsActive&&l("if("+c+")"+i+".bindBuffer("+co+","+c+".buffer.buffer);")):(c=l.def(),l(c,"=",o,".",Yi,";","if(",c,"){",i,".bindBuffer(",co,",",c,".buffer.buffer);}","else if(",a.vao,".currentVAO){",c,"=",e.shared.elements+".getElements("+a.vao,".currentVAO.elements);",$?"":"if("+c+")"+i+".bindBuffer("+co+","+c+".buffer.buffer);","}")),c}function u(){var a,i=s.count,c=t;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(c=n),a=i.append(e,c),ne.optional((function(){i.MISSING&&e.assert(t,"false","missing vertex count"),i.DYNAMIC&&e.assert(c,a+">=0","missing vertex count")}))):(a=c.def(o,".",Gi),ne.optional((function(){e.assert(c,a+">=0","missing vertex count")}))),a}var l=c();function f(a){var i=s[a];return i?i.contextDep&&r.contextDynamic||i.propDep?i.append(e,n):i.append(e,t):t.def(o,".",a)}var d,p,m=f(Ki),h=f(Wi),g=u();if("number"==typeof g){if(0===g)return}else n("if(",g,"){"),n.exit("}");y&&(d=f(Ui),p=e.instancing);var b=l+".type",v=s.elements&&cs(s.elements)&&!s.vaoActive;function x(){function e(){n(p,".drawElementsInstancedANGLE(",[m,g,b,h+"<<(("+b+"-"+ai+")>>1)",d],");")}function t(){n(p,".drawArraysInstancedANGLE(",[m,h,g,d],");")}l&&"null"!==l?v?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}function w(){function e(){n(i+".drawElements("+[m,g,b,h+"<<(("+b+"-"+ai+")>>1)"]+");")}function t(){n(i+".drawArrays("+[m,h,g]+");")}l&&"null"!==l?v?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!=typeof d||d>=0)?"string"==typeof d?(n("if(",d,">0){"),x(),n("}else if(",d,"<0){"),w(),n("}")):x():w()}function Z(e,t,n,r,a){var i=D(),o=i.proc("body",a);return ne.optional((function(){i.commandStr=t.commandStr,i.command=i.link(t.commandStr)})),y&&(i.instancing=o.def(i.shared.extensions,".angle_instanced_arrays")),e(i,o,n,r),i.compile().body}function ee(e,t,n,r){W(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),J(e,t,n,r.attributes,(function(){return!0}))),Q(e,t,n,r.uniforms,(function(){return!0}),!1),X(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);W(e,n),H(e,n,t.context),Y(e,n,t.framebuffer),K(e,n,t),G(e,n,t.state),U(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var a=e.global.def("{}"),i=n.def(r,".id"),o=n.def(a,"[",i,"]");n(e.cond(o).then(o,".call(this,a0);").else(o,"=",a,"[",i,"]=",e.link((function(n){return Z(ee,e,t,n,1)})),"(",r,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function re(e,t,n,r){function a(){return!0}e.batchId="a1",W(e,t),J(e,t,n,r.attributes,a),Q(e,t,n,r.uniforms,a,!1),X(e,t,t,n)}function ae(e,t,n,r){W(e,t);var a=n.contextDep,i=t.def(),o="a0",s="a1",c=t.def();e.shared.props=c,e.batchId=i;var u=e.scope(),l=e.scope();function f(e){return e.contextDep&&a||e.propDep}function d(e){return!f(e)}if(t(u.entry,"for(",i,"=0;",i,"<",s,";++",i,"){",c,"=",o,"[",i,"];",l,"}",u.exit),n.needsContext&&H(e,l,n.context),n.needsFramebuffer&&Y(e,l,n.framebuffer),G(e,l,n.state,f),n.profile&&f(n.profile)&&U(e,l,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):u(e.shared.vao,".setVAO(",n.drawVAO.append(e,u),");"):u(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(u(e.shared.vao,".setVAO(null);"),J(e,u,n,r.attributes,d),J(e,l,n,r.attributes,f)),Q(e,u,n,r.uniforms,d,!1),Q(e,l,n,r.uniforms,f,!0),X(e,u,l,n);else{var p=e.global.def("{}"),m=n.shader.progVar.append(e,l),h=l.def(m,".id"),g=l.def(p,"[",h,"]");l(e.shared.gl,".useProgram(",m,".program);","if(!",g,"){",g,"=",p,"[",h,"]=",e.link((function(t){return Z(re,e,n,t,2)})),"(",m,");}",g,".call(this,a0[",i,"],",i,");")}}function ie(e,t){var n=e.proc("batch",2);e.batchId="0",W(e,n);var r=!1,a=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(H(e,n,t.context),a=!1);var i=t.framebuffer,o=!1;function s(e){return e.contextDep&&r||e.propDep}i?(i.propDep?r=o=!0:i.contextDep&&r&&(o=!0),o||Y(e,n,i)):Y(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),K(e,n,t),G(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||U(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=a,t.needsFramebuffer=o;var c=t.shader.progVar;if(c.contextDep&&r||c.propDep)ae(e,n,t,null);else{var u=c.append(e,n);if(n(e.shared.gl,".useProgram(",u,".program);"),t.shader.program)ae(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var l=e.global.def("{}"),f=n.def(u,".id"),d=n.def(l,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",l,"[",f,"]=",e.link((function(n){return Z(ae,e,t,n,2)})),"(",u,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function oe(e,t){var r=e.proc("scope",3);e.batchId="a2";var a=e.shared,i=a.current;function o(n){var i=t.shader[n];i&&r.set(a.shader,"."+n,i.append(e,r))}H(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),os(Object.keys(t.state)).forEach((function(n){var i=t.state[n].append(e,r);fn(i)?i.forEach((function(t,a){r.set(e.next[n],"["+a+"]",t)})):r.set(a.next,"."+n,i)})),U(e,r,t,!0,!0),[Yi,Wi,Gi,Ui,Ki].forEach((function(n){var i=t.draw[n];i&&r.set(a.draw,"."+n,""+i.append(e,r))})),Object.keys(t.uniforms).forEach((function(i){var o=t.uniforms[i].append(e,r);Array.isArray(o)&&(o="["+o.join()+"]"),r.set(a.uniforms,"["+n.id(i)+"]",o)})),Object.keys(t.attributes).forEach((function(n){var a=t.attributes[n].append(e,r),i=e.scopeAttrib(n);Object.keys(new g).forEach((function(e){r.set(i,"."+e,a[e])}))})),t.scopeVAO&&r.set(a.vao,".targetVAO",t.scopeVAO.append(e,r)),o(Vi),o(Hi),Object.keys(t.state).length>0&&(r(i,".dirty=true;"),r.exit(i,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"==typeof e&&!fn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(me.isDynamic(e[t[n]]))return!0;return!1}}function ce(e,t,n){var r=t.static[n];if(r&&se(r)){var a=e.global,i=Object.keys(r),o=!1,s=!1,c=!1,u=e.global.def("{}");i.forEach((function(t){var n=r[t];if(me.isDynamic(n)){"function"==typeof n&&(n=r[t]=me.unbox(n));var i=ls(n,null);o=o||i.thisDep,c=c||i.propDep,s=s||i.contextDep}else{switch(a(u,".",t,"="),typeof n){case"number":a(n);break;case"string":a('"',n,'"');break;case"object":Array.isArray(n)&&a("[",n.join(),"]");break;default:a(e.link(n))}a(";")}})),t.dynamic[n]=new me.DynamicVariable(fi,{thisDep:o,contextDep:s,propDep:c,ref:u,append:l}),delete t.static[n]}function l(e,t){i.forEach((function(n){var a=r[n];if(me.isDynamic(a)){var i=e.invoke(t,a);t(u,".",n,"=",i,";")}}))}}function ue(e,n,r,a,i){var o=D();o.stats=o.link(i),Object.keys(n.static).forEach((function(e){ce(o,n,e)})),oo.forEach((function(t){ce(o,e,t)}));var s=V(e,n,r,a,o);return te(o,s),oe(o,s),ie(o,s),t(o.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:x,procs:function(){var e=D(),t=e.proc("poll"),n=e.proc("refresh"),i=e.block();t(i),n(i);var o,s=e.shared,c=s.gl,u=s.next,l=s.current;i(l,".dirty=false;"),Y(e,t),Y(e,n,null,!0),y&&(o=e.link(y)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<a.maxAttributes;++f){var d=n.def(s.attributes,"[",f,"]"),p=e.cond(d,".buffer");p.then(c,".enableVertexAttribArray(",f,");",c,".bindBuffer(",so,",",d,".buffer.buffer);",c,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(c,".disableVertexAttribArray(",f,");",c,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(p),y&&n(o,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(_).forEach((function(r){var a=_[r],o=i.def(u,".",r),s=e.block();s("if(",o,"){",c,".enable(",a,")}else{",c,".disable(",a,")}",l,".",r,"=",o,";"),n(s),t("if(",o,"!==",l,".",r,"){",s,"}")})),Object.keys(A).forEach((function(r){var a,o,s=A[r],f=x[r],d=e.block();if(d(c,".",s,"("),fn(f)){var p=f.length;a=e.global.def(u,".",r),o=e.global.def(l,".",r),d(Te(p,(function(e){return a+"["+e+"]"})),");",Te(p,(function(e){return o+"["+e+"]="+a+"["+e+"];"})).join("")),t("if(",Te(p,(function(e){return a+"["+e+"]!=="+o+"["+e+"]"})).join("||"),"){",d,"}")}else a=i.def(u,".",r),o=i.def(l,".",r),d(a,");",l,".",r,"=",a,";"),t("if(",a,"!==",o,"){",d,"}");n(d)})),e.compile()}(),compile:ue}}function ps(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ms=34918,hs=34919,gs=35007,bs=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function a(e){n.push(e)}var i=[];function o(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(gs,n),i.push(n),p(i.length-1,i.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(gs)}function c(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var u=[];function l(){return u.pop()||new c}function f(e){u.push(e)}var d=[];function p(e,t,n){var r=l();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,d.push(r)}var m=[],h=[];function g(){var e,n,r=i.length;if(0!==r){h.length=Math.max(h.length,r+1),m.length=Math.max(m.length,r+1),m[0]=0,h[0]=0;var o=0;for(e=0,n=0;n<i.length;++n){var s=i[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,hs)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,ms),a(s)):i[e++]=s,m[n+1]=o,h[n+1]=e}for(i.length=e,e=0,n=0;n<d.length;++n){var c=d[n],u=c.startQueryIndex,l=c.endQueryIndex;c.sum+=m[l]-m[u];var p=h[u],g=h[l];g===p?(c.stats.gpuTime+=c.sum/1e6,f(c)):(c.startQueryIndex=p,c.endQueryIndex=g,d[e++]=c)}d.length=e}}return{beginQuery:o,endQuery:s,pushScopeStats:p,update:g,getNumPendingQueries:function(){return i.length},clear:function(){n.push.apply(n,i);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);i.length=0,n.length=0},restore:function(){i.length=0,n.length=0}}},ys=16384,vs=256,$s=1024,xs=34962,ws="webglcontextlost",ks="webglcontextrestored",_s=1,As=2,Ts=3;function Ss(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Cs(e){var n=_e(e);if(!n)return null;var r=n.gl,a=r.getContextAttributes(),i=r.isContextLost(),o=Ae(r,n);if(!o)return null;var s=be(),c=ps(),u=o.extensions,l=bs(r,u),f=ge(),d=r.drawingBufferWidth,p=r.drawingBufferHeight,m={tick:0,time:0,viewportWidth:d,viewportHeight:p,framebufferWidth:d,framebufferHeight:p,drawingBufferWidth:d,drawingBufferHeight:p,pixelRatio:n.pixelRatio},h={},g={elements:null,primitive:4,count:-1,offset:0,instances:-1},b=wt(r,u),y=Yt(r,c,n,x),v=on(r,u,y,c),$=Va(r,u,b,c,y,v,g);function x(e){return $.destroyBuffer(e)}var w=Wa(r,s,c,n),k=Ur(r,u,b,(function(){T.procs.poll()}),m,c,n),_=ua(r,u,b,c,n),A=Na(r,u,b,k,_,c),T=ds(r,s,u,b,y,v,k,A,h,$,w,g,m,l,n),S=Za(r,A,T.procs.poll,m,a,u,b),C=T.next,O=r.canvas,M=[],E=[],D=[],j=[n.onDestroy],z=null;function R(){if(0===M.length)return l&&l.update(),void(z=null);z=he.next(R),G();for(var e=M.length-1;e>=0;--e){var t=M[e];t&&t(m,null,0)}r.flush(),l&&l.update()}function P(){!z&&M.length>0&&(z=he.next(R))}function N(){z&&(he.cancel(R),z=null)}function I(e){e.preventDefault(),i=!0,N(),E.forEach((function(e){e()}))}function F(e){r.getError(),i=!1,o.restore(),w.restore(),y.restore(),k.restore(),_.restore(),A.restore(),$.restore(),l&&l.restore(),T.procs.refresh(),P(),D.forEach((function(e){e()}))}function L(){M.length=0,N(),O&&(O.removeEventListener(ws,I),O.removeEventListener(ks,F)),w.clear(),A.clear(),_.clear(),$.clear(),k.clear(),v.clear(),y.clear(),l&&l.clear(),j.forEach((function(e){e()}))}function B(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(a){var i=e[a];if(me.isDynamic(i))r[a]=me.unbox(i,a);else{if(t&&Array.isArray(i))for(var o=0;o<i.length;++o)if(me.isDynamic(i[o]))return void(r[a]=me.unbox(i,a));n[a]=i}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var a=r(e.context||{},!0),o=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),c=r(n(e),!1),u={gpuTime:0,cpuTime:0,count:0},l=T.compile(c,s,o,a,u),f=l.draw,d=l.batch,p=l.scope,m=[];function h(e){for(;m.length<e;)m.push(null);return m}function g(e,t){var n;if(i&&ne.raise("context lost"),"function"==typeof e)return p.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(n=0;n<e;++n)p.call(this,null,t,n);else{if(!Array.isArray(e))return p.call(this,e,t,0);for(n=0;n<e.length;++n)p.call(this,e[n],t,n)}else if("number"==typeof e){if(e>0)return d.call(this,h(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return d.call(this,e,e.length)}}return t(g,{stats:u,destroy:function(){l.destroy()}})}O&&(O.addEventListener(ws,I,!1),O.addEventListener(ks,F,!1));var q=A.setFBO=B({framebuffer:me.define.call(null,_s,"framebuffer")});function V(e,t){var n=0;T.procs.poll();var a=t.color;a&&(r.clearColor(+a[0]||0,+a[1]||0,+a[2]||0,+a[3]||0),n|=ys),"depth"in t&&(r.clearDepth(+t.depth),n|=vs),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=$s),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function H(e){if(ne("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)q(t({framebuffer:e.framebuffer.faces[n]},e),V);else q(e,V);else V(null,e)}function Y(e){function t(){var t=Ss(M,e);function n(){var e=Ss(M,n);M[e]=M[M.length-1],M.length-=1,M.length<=0&&N()}ne(t>=0,"cannot cancel a frame twice"),M[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),M.push(e),P(),{cancel:t}}function K(){var e=C.viewport,t=C.scissor_box;e[0]=e[1]=t[0]=t[1]=0,m.viewportWidth=m.framebufferWidth=m.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,m.viewportHeight=m.framebufferHeight=m.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function G(){m.tick+=1,m.time=U(),K(),T.procs.poll()}function W(){k.refresh(),K(),T.procs.refresh(),l&&l.update()}function U(){return(ge()-f)/1e3}function J(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return Y(t);case"lost":n=E;break;case"restore":n=D;break;case"destroy":n=j;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}W();var Q=t(B,{clear:H,prop:me.define.bind(null,_s),context:me.define.bind(null,As),this:me.define.bind(null,Ts),draw:B({}),buffer:function(e){return y.create(e,xs,!1,!1)},elements:function(e){return v.create(e,!1)},texture:k.create2D,cube:k.createCube,renderbuffer:_.create,framebuffer:A.create,framebufferCube:A.createCube,vao:$.createVAO,attributes:a,frame:Y,on:J,limits:b,hasExtension:function(e){return b.extensions.indexOf(e.toLowerCase())>=0},read:S,destroy:L,_gl:r,_refresh:W,poll:function(){G(),l&&l.update()},now:U,stats:c});return n.onDone(null,Q),Q}return Cs}()},br(vr={path:yr,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&vr.path)}},vr.exports),vr.exports),xr=/\/\*(?!\/)(.|[\r\n]|\n)+?\*\/\n?\n?/gm,wr=/\/\*(?!(\*?\/|\*?\!))(.|[\r\n]|\n)+?\*\/\n?\n?/gm,kr=/(^|[^\S\n])(?:\/\/)([\s\S]+?)$/gm,_r=/(^|[^\S\n])(?:\/\/[^!])([\s\S]+?)$/gm;
/*!
     * strip-comments <https://github.com/jonschlinkert/strip-comments>
     *
     * Copyright (c) 2014-2015 Jon Schlinkert.
     * Licensed under the MIT license.
     */function Ar(e,t){return e?Ar.block(Ar.line(e,t),t):""}Ar.block=function(e,t){var n=xr;return(t=t||{}).safe&&(n=wr),e?e.replace(n,""):""},Ar.line=function(e,t){var n=kr;return(t=t||{}).safe&&(n=_r),e?e.replace(n,""):""};var Tr=Ar;var Sr=function(e,t,n){return e*(1-n)+t*n};function Cr(e){for(var t=!1,n=0;n<e.length;n++){var r=e.charAt(n);t&&/[a-zA-Z]/.test(r)&&r.toUpperCase()===r?(e=e.substr(0,n)+"-"+e.substr(n),t=!1,n++):t=r.toLowerCase()===r}return e}var Or=function(){var e=[].map.call(arguments,(function(e){return e.trim()})).filter((function(e){return e.length})).join("-");return e.length?1===e.length?e.toLowerCase():/[_.\- ]+/.test(e)?(e=Cr(e)).replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})):e===e.toUpperCase()?e.toLowerCase():e[0]!==e[0].toLowerCase()?e[0].toLowerCase()+e.slice(1):e:""};var Mr=function(e){var t=e*e;return e<4/11?7.5625*t:e<8/11?9.075*t-9.9*e+3.4:e<.9?4356/361*t-35442/1805*e+16061/1805:10.8*e*e-20.52*e+10.72};var Er={backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},bounceInOut:function(e){return e<.5?.5*(1-Mr(1-2*e)):.5*Mr(2*e-1)+.5},bounceIn:function(e){return 1-Mr(1-e)},bounceOut:Mr,circInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},circIn:function(e){return 1-Math.sqrt(1-e*e)},circOut:function(e){return Math.sqrt(1- --e*e)},cubicInOut:function(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1},cubicIn:function(e){return e*e*e},cubicOut:function(e){var t=e-1;return t*t*t+1},elasticInOut:function(e){return e<.5?.5*Math.sin(13*Math.PI/2*2*e)*Math.pow(2,10*(2*e-1)):.5*Math.sin(-13*Math.PI/2*(2*e-1+1))*Math.pow(2,-10*(2*e-1))+1},elasticIn:function(e){return Math.sin(13*e*Math.PI/2)*Math.pow(2,10*(e-1))},elasticOut:function(e){return Math.sin(-13*(e+1)*Math.PI/2)*Math.pow(2,-10*e)+1},expoInOut:function(e){return 0===e||1===e?e:e<.5?.5*Math.pow(2,20*e-10):-.5*Math.pow(2,10-20*e)+1},expoIn:function(e){return 0===e?e:Math.pow(2,10*(e-1))},expoOut:function(e){return 1===e?e:1-Math.pow(2,-10*e)},linear:function(e){return e},quadInOut:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},quadIn:function(e){return e*e},quadOut:function(e){return-e*(e-2)},quartInOut:function(e){return e<.5?8*Math.pow(e,4):-8*Math.pow(e-1,4)+1},quartIn:function(e){return Math.pow(e,4)},quartOut:function(e){return Math.pow(e-1,3)*(1-e)+1},quintInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},quintIn:function(e){return e*e*e*e*e},quintOut:function(e){return--e*e*e*e*e+1},sineInOut:function(e){return-.5*(Math.cos(Math.PI*e)-1)},sineIn:function(e){var t=Math.cos(e*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t},sineOut:function(e){return Math.sin(e*Math.PI/2)}},Dr=[["quad-","quadratic-"],["circ-","circular-"],["expo-","exponential-"],["quart-","quartic-"],["quint-","quintic-"]],jr=function(e){return Er[Or(e)]},zr=function(e){return"#define GLSLIFY 1\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat backOut_1(float t) {\n  float f = t < 0.5\n    ? 2.0 * t\n    : 1.0 - (2.0 * t - 1.0);\n\n  float g = pow(f, 3.0) - f * sin(f * PI);\n\n  return t < 0.5\n    ? 0.5 * g\n    : 0.5 * (1.0 - g) + 0.5;\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat backIn(float t) {\n  return pow(t, 3.0) - t * sin(t * PI);\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat backOut_0(float t) {\n  float f = 1.0 - t;\n  return 1.0 - (pow(f, 3.0) - f * sin(f * PI));\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat bounceOut(float t) {\n  const float a = 4.0 / 11.0;\n  const float b = 8.0 / 11.0;\n  const float c = 9.0 / 10.0;\n\n  const float ca = 4356.0 / 361.0;\n  const float cb = 35442.0 / 1805.0;\n  const float cc = 16061.0 / 1805.0;\n\n  float t2 = t * t;\n\n  return t < a\n    ? 7.5625 * t2\n    : t < b\n      ? 9.075 * t2 - 9.9 * t + 3.4\n      : t < c\n        ? ca * t2 - cb * t + cc\n        : 10.8 * t * t - 20.52 * t + 10.72;\n}\n\nfloat bounceInOut(float t) {\n  return t < 0.5\n    ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n    : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\nfloat bounceIn(float t) {\n  return 1.0 - bounceOut(1.0 - t);\n}\n\nfloat circularInOut(float t) {\n  return t < 0.5\n    ? 0.5 * (1.0 - sqrt(1.0 - 4.0 * t * t))\n    : 0.5 * (sqrt((3.0 - 2.0 * t) * (2.0 * t - 1.0)) + 1.0);\n}\n\nfloat circularIn(float t) {\n  return 1.0 - sqrt(1.0 - t * t);\n}\n\nfloat circularOut(float t) {\n  return sqrt((2.0 - t) * t);\n}\n\nfloat cubicInOut(float t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 0.5 * pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\nfloat cubicIn(float t) {\n  return t * t * t;\n}\n\nfloat cubicOut(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\n#ifndef HALF_PI\n#define HALF_PI 1.5707963267948966\n#endif\n\nfloat elasticInOut(float t) {\n  return t < 0.5\n    ? 0.5 * sin(+13.0 * HALF_PI * 2.0 * t) * pow(2.0, 10.0 * (2.0 * t - 1.0))\n    : 0.5 * sin(-13.0 * HALF_PI * ((2.0 * t - 1.0) + 1.0)) * pow(2.0, -10.0 * (2.0 * t - 1.0)) + 1.0;\n}\n\n#ifndef HALF_PI\n#define HALF_PI 1.5707963267948966\n#endif\n\nfloat elasticIn(float t) {\n  return sin(13.0 * t * HALF_PI) * pow(2.0, 10.0 * (t - 1.0));\n}\n\n#ifndef HALF_PI\n#define HALF_PI 1.5707963267948966\n#endif\n\nfloat elasticOut(float t) {\n  return sin(-13.0 * (t + 1.0) * HALF_PI) * pow(2.0, -10.0 * t) + 1.0;\n}\n\nfloat exponentialInOut(float t) {\n  return t == 0.0 || t == 1.0\n    ? t\n    : t < 0.5\n      ? +0.5 * pow(2.0, (20.0 * t) - 10.0)\n      : -0.5 * pow(2.0, 10.0 - (t * 20.0)) + 1.0;\n}\n\nfloat exponentialIn(float t) {\n  return t == 0.0 ? t : pow(2.0, 10.0 * (t - 1.0));\n}\n\nfloat exponentialOut(float t) {\n  return t == 1.0 ? t : 1.0 - pow(2.0, -10.0 * t);\n}\n\nfloat linear(float t) {\n  return t;\n}\n\nfloat quadraticInOut(float t) {\n  float p = 2.0 * t * t;\n  return t < 0.5 ? p : -p + (4.0 * t) - 1.0;\n}\n\nfloat quadraticIn(float t) {\n  return t * t;\n}\n\nfloat quadraticOut(float t) {\n  return -t * (t - 2.0);\n}\n\nfloat quarticInOut(float t) {\n  return t < 0.5\n    ? +8.0 * pow(t, 4.0)\n    : -8.0 * pow(t - 1.0, 4.0) + 1.0;\n}\n\nfloat quarticIn(float t) {\n  return pow(t, 4.0);\n}\n\nfloat quarticOut(float t) {\n  return pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\nfloat qinticInOut(float t) {\n  return t < 0.5\n    ? +16.0 * pow(t, 5.0)\n    : -0.5 * pow(2.0 * t - 2.0, 5.0) + 1.0;\n}\n\nfloat qinticIn(float t) {\n  return pow(t, 5.0);\n}\n\nfloat qinticOut(float t) {\n  return 1.0 - (pow(t - 1.0, 5.0));\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat sineInOut(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\n#ifndef HALF_PI\n#define HALF_PI 1.5707963267948966\n#endif\n\nfloat sineIn(float t) {\n  return sin((t - 1.0) * HALF_PI) + 1.0;\n}\n\n#ifndef HALF_PI\n#define HALF_PI 1.5707963267948966\n#endif\n\nfloat sineOut(float t) {\n  return sin(t * HALF_PI);\n}"},Rr=function(e){return Dr.forEach((function(t){e=e.replace(t[0],t[1])})),Or(e)},Pr=function(e,t){return"_rtb_"+t+"_previous_"+e},Nr=function(e,t){return"_rtb_"+t+"_next_"+e},Ir=function(e,t){return"_rtb_"+t+"_t_"+e},Fr=function(e,t){this.data=e,this.previousData=e,this.options=Object.assign({},{duration:750,ease:"quad-in-out"},t||{})},Lr=function(e){var t=function(t){if(t.uniforms=t.uniforms||{},t.attributes=t.attributes||{},t.vert=t.vert||"",t.frag=t.frag||"",!t.vert||!t.frag)throw new Error("Must provide vert and frag shaders!");var n={uniforms:[],attributes:[]},r={uniforms:{},attributes:{}},a={uniforms:{},attributes:{}},i={uniforms:{},attributes:{}},o={uniforms:{},attributes:{}},s={uniforms:{},attributes:{}},c=function(e){var t=i[this.type][this.key];if(t<1){var n=jr(this.options.ease)(t),a=this.previousData;this.previousData=this.data.map((function(e,t){return e.map((function(e,r){return Sr(a[t][r],e,n)}))}))}else this.previousData=this.data;this.data=e,r[this.type][this.key].previous({usage:"dynamic",data:this.previousData}),r[this.type][this.key].next({usage:"dynamic",data:e}),o[this.type][this.key]=!0},u=function(s){Object.keys(t[s]||{}).filter((function(e){return t[s][e]instanceof Fr})).map((function(u){n[s].push(u);var l=t[s][u];l.type=s,l.key=u,l.update=c,a[s][u]=l,i[s][u]=1,o[s][u]=!1,r[s][u]={previous:e.buffer({usage:"dynamic",data:l.data}),next:e.buffer({usage:"dynamic",data:l.data})}}))};u("attributes"),u("uniforms");var l=function(e){n[e].forEach((function(n){var c=a[e][n],u=c.options.duration;t.vert=function(e,t,n,r){var a=Rr(r),i=zr();t=Tr(t);var o=Pr(e,n),s=Nr(e,n),c=function(e,t){return"_rtb_"+t+"_current_"+e}(e,n),u=Ir(e,n),l=new RegExp(";([^;]*"+e+"[^;]*;)"),f=t.match(l);if(!f||f.length<2)return t;var d=f[1],p=d.replace(e,o)+d.replace(e,s)+"\n"+d.replace(e,c).replace("attribute","").replace("uniform","").trim()+"\nuniform float "+u+";";if(t=t.replace(d,p),l=new RegExp("main\\s*\\(\\s*\\)\\s*{"),(f=t.match(l))&&f.length){var m=c+" = mix("+o+", "+s+", "+a+"("+u+"));";t=t.replace(f[0],f[0]+"\n  "+m)}return l=new RegExp("\\b"+e+"\\b","g"),i+"\n"+t.replace(l,c)}(n,t.vert||"",e,c.options.ease),delete t.attributes[n],t[e][Pr(n,e)]=r[e][n].previous,t[e][Nr(n,e)]=r[e][n].next,t.uniforms[Ir(n,e)]=function(t,r,a){o[e][n]&&(i[e][n]=0,s[e][n]=t.time);var c=s[e][n],l=i[e][n];return l<1&&(l=Math.min(1,1e3*(t.time-c)/u)),i[e][n]=l,o[e][n]=!1,l}}))};return l("attributes"),l("uniforms"),e(t)};return t.buffer=function(e,t){return new Fr(e,t)},t};function Br(e,t,n){let r,a,i,o,s,c,u;const{data:l,xGet:f,yGet:p,width:m,height:h,padding:g}=V("LayerCake");d(e,l,(e=>n(19,c=e))),d(e,f,(e=>n(18,s=e))),d(e,p,(e=>n(17,o=e))),d(e,m,(e=>n(16,i=e))),d(e,h,(e=>n(15,a=e))),d(e,g,(e=>n(20,u=e)));const{gl:b}=V("gl");d(e,b,(e=>n(14,r=e)));let y,v,$,x,w,k,_,{diameter:A}=t,{colors:T}=t,{categories:S}=t,{catKey:C}=t,{selected:O}=t;return T&&S&&T.length>=S.length&&(y={},S.forEach(((e,t)=>{y[e]=[T[t][0]/255,T[t][1]/255,T[t][2]/255]}))),e.$$set=e=>{"diameter"in e&&n(7,A=e.diameter),"colors"in e&&n(8,T=e.colors),"categories"in e&&n(9,S=e.categories),"catKey"in e&&n(10,C=e.catKey),"selected"in e&&n(11,O=e.selected)},e.$$.update=()=>{if(2095104&e.$$.dirty)if(!k&&r)!function(){let e=i/(i+u.left+u.right),t=a/(a+u.top+u.bottom);if(n(13,k=c.map((n=>{let r=[s(n)*e*2/i-1,-(o(n)*t*2/a-1)],c=.8;return O&&(c=n[O.col]==O.value?1:.02),[...r,c]}))),y)_=c.map((e=>Array.isArray(y[e[C]])?y[e[C]]:[0,0,0]));else{let e=[T[0][0]/255,T[0][1]/255,T[0][2]/255];_=c.map((t=>e))}v=$r({gl:r}),v.clear({color:[0,0,0,0],depth:1}),$=Lr(v);var l=k.length;n(12,x=$.buffer(k,{duration:1e3})),w=$({vert:"\nprecision mediump float;\nattribute vec3 position;\nattribute vec3 color;\nuniform float pointSize;\nvarying vec3 fragColor;\nvarying float opacity;\n\nvoid main() {\n  gl_PointSize = pointSize;\n  gl_Position = vec4(position[0], position[1], 0, 1);\n  fragColor = color;\n  opacity = position[2];\n}",frag:"\nprecision lowp float;\nvarying vec3 fragColor;\nvarying float opacity;\n\nvoid main() {\n  if (length(gl_PointCoord.xy - 0.5) > 0.5) {\n    discard;\n  }\n  gl_FragColor = vec4(fragColor, opacity);\n}",attributes:{position:x,color:_},uniforms:{pointSize:A},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"src alpha",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},count:l,primitive:"points"}),v.frame((()=>{w()}))}();else if(k&&r){let e=i/(i+u.left+u.right),t=a/(a+u.top+u.bottom);n(13,k=c.map((n=>{let r=[s(n)*e*2/i-1,-(o(n)*t*2/a-1)],c=.8;return O&&(c=n[O.col]==O.value?1:.02),[...r,c]}))),x.update(k)}114688&e.$$.dirty&&function(){if(r){const e=r.canvas,t=e.clientWidth,n=e.clientHeight;e.width===t&&e.height===n||(e.width=t,e.height=n),r.viewport(0,0,e.width,e.height)}}()},[l,f,p,m,h,g,b,A,T,S,C,O,x,k,r,a,i,o,s,c,u]}class qr extends pe{constructor(e){super(),de(this,e,Br,null,o,{diameter:7,colors:8,categories:9,catKey:10,selected:11})}}function Vr(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function Hr(e){let t,n;return{c(){t=A("line"),M(t,"y1",n=-1*e[11]),M(t,"y2","0"),M(t,"x1","0"),M(t,"x2","0"),M(t,"class","svelte-1fsfvxi")},m(e,n){x(e,t,n)},p(e,r){2048&r&&n!==(n=-1*e[11])&&M(t,"y1",n)},d(e){e&&w(t)}}}function Yr(e){let t,n,r,a,i,o,s,c=e[1](e[21])+"",u=!1!==e[0]&&Hr(e);return{c(){t=A("g"),u&&u.c(),n=A("text"),r=T(c),M(n,"x",a=e[3]||e[7]?e[8].bandwidth()/2:0),M(n,"y",e[4]),M(n,"dx",e[5]),M(n,"dy",e[6]),M(n,"text-anchor",i=e[17](e[23])),M(n,"class","svelte-1fsfvxi"),M(t,"class",o="tick tick-"+e[21]+" svelte-1fsfvxi"),M(t,"transform",s="translate("+e[8](e[21])+","+e[10][0]+")")},m(e,a){x(e,t,a),u&&u.m(t,null),$(t,n),$(n,r)},p(e,i){!1!==e[0]?u?u.p(e,i):(u=Hr(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null),514&i&&c!==(c=e[1](e[21])+"")&&D(r,c),392&i&&a!==(a=e[3]||e[7]?e[8].bandwidth()/2:0)&&M(n,"x",a),16&i&&M(n,"y",e[4]),32&i&&M(n,"dx",e[5]),64&i&&M(n,"dy",e[6]),512&i&&o!==(o="tick tick-"+e[21]+" svelte-1fsfvxi")&&M(t,"class",o),1792&i&&s!==(s="translate("+e[8](e[21])+","+e[10][0]+")")&&M(t,"transform",s)},d(e){e&&w(t),u&&u.d()}}}function Kr(e){let t,n,r;return{c(){t=A("line"),M(t,"class","baseline svelte-1fsfvxi"),M(t,"y1",n=e[11]+.5),M(t,"y2",r=e[11]+.5),M(t,"x1","0"),M(t,"x2",e[12])},m(e,n){x(e,t,n)},p(e,a){2048&a&&n!==(n=e[11]+.5)&&M(t,"y1",n),2048&a&&r!==(r=e[11]+.5)&&M(t,"y2",r),4096&a&&M(t,"x2",e[12])},d(e){e&&w(t)}}}function Gr(t){let n,r,a=t[9],i=[];for(let e=0;e<a.length;e+=1)i[e]=Yr(Vr(t,a,e));let o=!0===t[2]&&Kr(t);return{c(){n=A("g");for(let e=0;e<i.length;e+=1)i[e].c();r=C(),o&&o.c(),M(n,"class","axis x-axis")},m(e,t){x(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null);$(n,r),o&&o.m(n,null)},p(e,[t]){if(135163&t){let o;for(a=e[9],o=0;o<a.length;o+=1){const s=Vr(e,a,o);i[o]?i[o].p(s,t):(i[o]=Yr(s),i[o].c(),i[o].m(n,r))}for(;o<i.length;o+=1)i[o].d(1);i.length=a.length}!0===e[2]?o?o.p(e,t):(o=Kr(e),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i:e,o:e,d(e){e&&w(n),k(i,e),o&&o.d()}}}function Wr(e,t,n){let r,a,i,o,s,c;const{width:u,height:l,xScale:f,yScale:p,yRange:m}=V("LayerCake");d(e,u,(e=>n(12,c=e))),d(e,l,(e=>n(11,s=e))),d(e,f,(e=>n(8,i=e))),d(e,m,(e=>n(10,o=e)));let{gridlines:h=!0}=t,{formatTick:g=(e=>e)}=t,{baseline:b=!1}=t,{snapTicks:y=!1}=t,{ticks:v}=t,{xTick:$}=t,{yTick:x=16}=t,{dxTick:w=0}=t,{dyTick:k=0}=t;return e.$$set=e=>{"gridlines"in e&&n(0,h=e.gridlines),"formatTick"in e&&n(1,g=e.formatTick),"baseline"in e&&n(2,b=e.baseline),"snapTicks"in e&&n(18,y=e.snapTicks),"ticks"in e&&n(19,v=e.ticks),"xTick"in e&&n(3,$=e.xTick),"yTick"in e&&n(4,x=e.yTick),"dxTick"in e&&n(5,w=e.dxTick),"dyTick"in e&&n(6,k=e.dyTick)},e.$$.update=()=>{256&e.$$.dirty&&n(7,r="function"==typeof i.bandwidth),524672&e.$$.dirty&&n(9,a=Array.isArray(v)?v:r?i.domain():i.ticks(v))},[h,g,b,$,x,w,k,r,i,a,o,s,c,u,l,f,m,function(e){if(!0===y){if(0===e)return"start";if(e===a.length-1)return"end"}return"middle"},y,v]}class Ur extends pe{constructor(e){super(),de(this,e,Wr,Gr,o,{gridlines:0,formatTick:1,baseline:2,snapTicks:18,ticks:19,xTick:3,yTick:4,dxTick:5,dyTick:6})}}function Jr(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function Qr(e){let t,n,r;return{c(){t=A("line"),M(t,"x2","100%"),M(t,"y1",n=e[3]+(e[7]?e[8].bandwidth()/2:0)),M(t,"y2",r=e[3]+(e[7]?e[8].bandwidth()/2:0)),M(t,"class","svelte-tul7ef")},m(e,n){x(e,t,n)},p(e,a){392&a&&n!==(n=e[3]+(e[7]?e[8].bandwidth()/2:0))&&M(t,"y1",n),392&a&&r!==(r=e[3]+(e[7]?e[8].bandwidth()/2:0))&&M(t,"y2",r)},d(e){e&&w(t)}}}function Xr(e){let t,n,r,a,i,o,s,c,u=e[1](e[17])+"",l=!1!==e[0]&&Qr(e);return{c(){t=A("g"),l&&l.c(),n=A("text"),r=T(u),M(n,"x",e[2]),M(n,"y",a=e[3]+(e[7]?e[8].bandwidth()/2:0)),M(n,"dx",i=e[7]?-5:e[4]),M(n,"dy",o=e[7]?4:e[5]),j(n,"text-anchor",e[7]?"end":e[6]),M(n,"class","svelte-tul7ef"),M(t,"class",s="tick tick-"+e[17]+" svelte-tul7ef"),M(t,"transform",c="translate("+(e[11][0]+(e[7]?e[10].left:0))+", "+e[8](e[17])+")")},m(e,a){x(e,t,a),l&&l.m(t,null),$(t,n),$(n,r)},p(e,f){!1!==e[0]?l?l.p(e,f):(l=Qr(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),514&f&&u!==(u=e[1](e[17])+"")&&D(r,u),4&f&&M(n,"x",e[2]),392&f&&a!==(a=e[3]+(e[7]?e[8].bandwidth()/2:0))&&M(n,"y",a),144&f&&i!==(i=e[7]?-5:e[4])&&M(n,"dx",i),160&f&&o!==(o=e[7]?4:e[5])&&M(n,"dy",o),192&f&&j(n,"text-anchor",e[7]?"end":e[6]),512&f&&s!==(s="tick tick-"+e[17]+" svelte-tul7ef")&&M(t,"class",s),3968&f&&c!==(c="translate("+(e[11][0]+(e[7]?e[10].left:0))+", "+e[8](e[17])+")")&&M(t,"transform",c)},d(e){e&&w(t),l&&l.d()}}}function Zr(t){let n,r,a=t[9],i=[];for(let e=0;e<a.length;e+=1)i[e]=Xr(Jr(t,a,e));return{c(){n=A("g");for(let e=0;e<i.length;e+=1)i[e].c();M(n,"class","axis y-axis"),M(n,"transform",r="translate("+-t[10].left+", 0)")},m(e,t){x(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(4095&t){let r;for(a=e[9],r=0;r<a.length;r+=1){const o=Jr(e,a,r);i[r]?i[r].p(o,t):(i[r]=Xr(o),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}1024&t&&r!==(r="translate("+-e[10].left+", 0)")&&M(n,"transform",r)},i:e,o:e,d(e){e&&w(n),k(i,e)}}}function ea(e,t,n){let r,a,i,o,s;const{padding:c,xRange:u,xScale:l,yScale:f}=V("LayerCake");d(e,c,(e=>n(10,o=e))),d(e,u,(e=>n(11,s=e))),d(e,f,(e=>n(8,i=e)));let{ticks:p=4}=t,{gridlines:m=!0}=t,{formatTick:h=(e=>e)}=t,{xTick:g=0}=t,{yTick:b=0}=t,{dxTick:y=0}=t,{dyTick:v=-4}=t,{textAnchor:$="start"}=t;return e.$$set=e=>{"ticks"in e&&n(15,p=e.ticks),"gridlines"in e&&n(0,m=e.gridlines),"formatTick"in e&&n(1,h=e.formatTick),"xTick"in e&&n(2,g=e.xTick),"yTick"in e&&n(3,b=e.yTick),"dxTick"in e&&n(4,y=e.dxTick),"dyTick"in e&&n(5,v=e.dyTick),"textAnchor"in e&&n(6,$=e.textAnchor)},e.$$.update=()=>{256&e.$$.dirty&&n(7,r="function"==typeof i.bandwidth),33152&e.$$.dirty&&n(9,a=Array.isArray(p)?p:r?i.domain():i.ticks(p))},[m,h,g,b,y,v,$,r,i,a,o,s,c,u,f,p]}class ta extends pe{constructor(e){super(),de(this,e,ea,Zr,o,{ticks:15,gridlines:0,formatTick:1,xTick:2,yTick:3,dxTick:4,dyTick:5,textAnchor:6})}}function na(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i,o,s,c,u,l,f,d,p=e._root,m={data:r},h=e._x0,g=e._y0,b=e._x1,y=e._y1;if(!p)return e._root=m,e;for(;p.length;)if((u=t>=(i=(h+b)/2))?h=i:b=i,(l=n>=(o=(g+y)/2))?g=o:y=o,a=p,!(p=p[f=l<<1|u]))return a[f]=m,e;if(s=+e._x.call(null,p.data),c=+e._y.call(null,p.data),t===s&&n===c)return m.next=p,a?a[f]=m:e._root=m,e;do{a=a?a[f]=new Array(4):e._root=new Array(4),(u=t>=(i=(h+b)/2))?h=i:b=i,(l=n>=(o=(g+y)/2))?g=o:y=o}while((f=l<<1|u)==(d=(c>=o)<<1|s>=i));return a[d]=p,a[f]=m,e}function ra(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function aa(e){return e[0]}function ia(e){return e[1]}function oa(e,t,n){var r=new sa(null==t?aa:t,null==n?ia:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function sa(e,t,n,r,a,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function ca(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ua=oa.prototype=sa.prototype;ua.copy=function(){var e,t,n=new sa(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ca(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(4)}):r.target[a]=ca(t));return n},ua.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return na(this.cover(t,n),t,n,e)},ua.addAll=function(e){var t,n,r,a,i=e.length,o=new Array(i),s=new Array(i),c=1/0,u=1/0,l=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=r,s[n]=a,r<c&&(c=r),r>l&&(l=r),a<u&&(u=a),a>f&&(f=a));if(c>l||u>f)return this;for(this.cover(c,u).cover(l,f),n=0;n<i;++n)na(this,o[n],s[n],e[n]);return this},ua.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o,s,c=a-n||1,u=this._root;n>e||e>=a||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(o=new Array(4))[s]=u,u=o,c*=2,s){case 0:a=n+c,i=r+c;break;case 1:n=a-c,i=r+c;break;case 2:a=n+c,r=i-c;break;case 3:n=a-c,r=i-c}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this},ua.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},ua.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ua.find=function(e,t,n){var r,a,i,o,s,c,u,l=this._x0,f=this._y0,d=this._x1,p=this._y1,m=[],h=this._root;for(h&&m.push(new ra(h,l,f,d,p)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,p=t+n,n*=n);c=m.pop();)if(!(!(h=c.node)||(a=c.x0)>d||(i=c.y0)>p||(o=c.x1)<l||(s=c.y1)<f))if(h.length){var g=(a+o)/2,b=(i+s)/2;m.push(new ra(h[3],g,b,o,s),new ra(h[2],a,b,g,s),new ra(h[1],g,i,o,b),new ra(h[0],a,i,g,b)),(u=(t>=b)<<1|e>=g)&&(c=m[m.length-1],m[m.length-1]=m[m.length-1-u],m[m.length-1-u]=c)}else{var y=e-+this._x.call(null,h.data),v=t-+this._y.call(null,h.data),$=y*y+v*v;if($<n){var x=Math.sqrt(n=$);l=e-x,f=t-x,d=e+x,p=t+x,r=h.data}}return r},ua.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,a,i,o,s,c,u,l,f,d,p=this._root,m=this._x0,h=this._y0,g=this._x1,b=this._y1;if(!p)return this;if(p.length)for(;;){if((u=i>=(s=(m+g)/2))?m=s:g=s,(l=o>=(c=(h+b)/2))?h=c:b=c,t=p,!(p=p[f=l<<1|u]))return this;if(!p.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return(a=p.next)&&delete p.next,r?(a?r.next=a:delete r.next,this):t?(a?t[f]=a:delete t[f],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=a,this)},ua.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},ua.root=function(){return this._root},ua.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},ua.visit=function(e){var t,n,r,a,i,o,s=[],c=this._root;for(c&&s.push(new ra(c,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(c=t.node,r=t.x0,a=t.y0,i=t.x1,o=t.y1)&&c.length){var u=(r+i)/2,l=(a+o)/2;(n=c[3])&&s.push(new ra(n,u,l,i,o)),(n=c[2])&&s.push(new ra(n,r,l,u,o)),(n=c[1])&&s.push(new ra(n,u,a,i,l)),(n=c[0])&&s.push(new ra(n,r,a,u,l))}return this},ua.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new ra(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var a=t.node;if(a.length){var i,o=t.x0,s=t.y0,c=t.x1,u=t.y1,l=(o+c)/2,f=(s+u)/2;(i=a[0])&&n.push(new ra(i,o,s,l,f)),(i=a[1])&&n.push(new ra(i,l,s,c,f)),(i=a[2])&&n.push(new ra(i,o,f,l,u)),(i=a[3])&&n.push(new ra(i,l,f,c,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},ua.x=function(e){return arguments.length?(this._x=e,this):this._x},ua.y=function(e){return arguments.length?(this._y=e,this):this._y};const la=e=>({x:10&e,y:9&e,found:8&e,visible:4&e,e:16&e}),fa=e=>({x:e[1](e[3])||0,y:e[0](e[3])||0,found:e[3],visible:e[2],e:e[4]});function da(e){let t,n,r,i,o;const s=e[22].default,c=p(s,e,e[21],fa);return{c(){t=_("div"),n=S(),c&&c.c(),M(t,"class","bg svelte-19xh5jy")},m(a,s){x(a,t,s),x(a,n,s),c&&c.m(a,s),r=!0,i||(o=[O(t,"mousemove",e[10]),O(t,"mouseout",e[23])],i=!0)},p(e,[t]){c&&c.p&&(!r||2097183&t)&&y(c,s,e,e[21],r?h(s,e[21],t,la):v(e[21]),fa)},i(e){r||(ie(c,e),r=!0)},o(e){oe(c,e),r=!1},d(e){e&&w(t),e&&w(n),c&&c.d(e),i=!1,a(o)}}}function pa(e,t,n){let r,a,i,o,s,c,u,l,{$$slots:f={},$$scope:p}=t;const{data:m,xGet:h,yGet:g,width:b,height:y}=V("LayerCake");d(e,m,(e=>n(16,o=e))),d(e,h,(e=>n(19,u=e))),d(e,g,(e=>n(20,l=e))),d(e,b,(e=>n(18,c=e))),d(e,y,(e=>n(17,s=e)));let v=!1,$={},x={},{dataset:w}=t,{x:k="x"}=t,{y:_="y"}=t,{searchRadius:A}=t,{selected:T=null}=t;return e.$$set=e=>{"dataset"in e&&n(11,w=e.dataset),"x"in e&&n(12,k=e.x),"y"in e&&n(13,_=e.y),"searchRadius"in e&&n(14,A=e.searchRadius),"selected"in e&&n(15,T=e.selected),"$$scope"in e&&n(21,p=e.$$scope)},e.$$.update=()=>{1576960&e.$$.dirty&&n(1,r="x"===k?u:l),1581056&e.$$.dirty&&n(0,a="y"===_?l:u),98304&e.$$.dirty&&n(11,w=T?o.filter((e=>e[T.col]==T.value)):void 0),460803&e.$$.dirty&&(i=oa().extent([[-1,-1],[c+1,s+1]]).x(r).y(a).addAll(w||o))},[a,r,v,$,x,m,h,g,b,y,function(e){n(4,x=e);const t=`layer${k.toUpperCase()}`,r=`layer${_.toUpperCase()}`;n(3,$=i.find(e[t],e[r],A)||{}),n(2,v=Object.keys($).length>0)},w,k,_,A,T,o,s,c,u,l,p,f,()=>n(2,v=!1)]}class ma extends pe{constructor(e){super(),de(this,e,pa,da,o,{dataset:11,x:12,y:13,searchRadius:14,selected:15})}}function ha(t){let n,r,a,i;return n=new Ur({props:{ticks:5}}),a=new ta({props:{ticks:5}}),{c(){ce(n.$$.fragment),r=S(),ce(a.$$.fragment)},m(e,t){ue(n,e,t),x(e,r,t),ue(a,e,t),i=!0},p:e,i(e){i||(ie(n.$$.fragment,e),ie(a.$$.fragment,e),i=!0)},o(e){oe(n.$$.fragment,e),oe(a.$$.fragment,e),i=!1},d(e){le(n,e),e&&w(r),le(a,e)}}}function ga(e){let t,n;return t=new qr({props:{diameter:e[1],colors:e[2],categories:e[3],catKey:e[7],selected:e[4]}}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.diameter=e[1]),4&n&&(r.colors=e[2]),8&n&&(r.categories=e[3]),128&n&&(r.catKey=e[7]),16&n&&(r.selected=e[4]),t.$set(r)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function ba(e){let t,n,r,a,i=e[11].lad_name+"",o=e[11].lsoa_name+"";return{c(){t=T(i),n=S(),r=T(o),a=_("br")},m(e,i){x(e,t,i),x(e,n,i),x(e,r,i),x(e,a,i)},p(e,n){2048&n&&i!==(i=e[11].lad_name+"")&&D(t,i),2048&n&&o!==(o=e[11].lsoa_name+"")&&D(r,o)},d(e){e&&w(t),e&&w(n),e&&w(r),e&&w(a)}}}function ya(e){let t,n,r,a,i,o,s,c,u,l,f,d=Number(e[11][e[5]]).toFixed(2)+"",p=Number(e[11][e[6]]).toFixed(2)+"",m=e[11].lad_name&&ba(e);return{c(){t=_("div"),n=S(),r=_("div"),m&&m.c(),a=T(e[5]),i=T(": "),o=T(d),s=_("br"),c=T(e[6]),u=T(": "),l=T(p),f=_("br"),M(t,"class","circle svelte-10r5gty"),j(t,"top",e[9]+"px"),j(t,"left",e[8]+"px"),j(t,"display",e[10]?"block":"none"),M(r,"class","tooltip svelte-10r5gty"),j(r,"top",e[9]+5+"px"),j(r,"left",e[8]+10+"px"),j(r,"display",e[10]?"block":"none")},m(e,d){x(e,t,d),x(e,n,d),x(e,r,d),m&&m.m(r,null),$(r,a),$(r,i),$(r,o),$(r,s),$(r,c),$(r,u),$(r,l),$(r,f)},p(e,n){512&n&&j(t,"top",e[9]+"px"),256&n&&j(t,"left",e[8]+"px"),1024&n&&j(t,"display",e[10]?"block":"none"),e[11].lad_name?m?m.p(e,n):(m=ba(e),m.c(),m.m(r,a)):m&&(m.d(1),m=null),32&n&&D(a,e[5]),2080&n&&d!==(d=Number(e[11][e[5]]).toFixed(2)+"")&&D(o,d),64&n&&D(c,e[6]),2112&n&&p!==(p=Number(e[11][e[6]]).toFixed(2)+"")&&D(l,p),512&n&&j(r,"top",e[9]+5+"px"),256&n&&j(r,"left",e[8]+10+"px"),1024&n&&j(r,"display",e[10]?"block":"none")},d(e){e&&w(t),e&&w(n),e&&w(r),m&&m.d()}}}function va(e){let t,n;return t=new ma({props:{selected:e[4],$$slots:{default:[ya,({x:e,y:t,visible:n,found:r})=>({8:e,9:t,10:n,11:r}),({x:e,y:t,visible:n,found:r})=>(e?256:0)|(t?512:0)|(n?1024:0)|(r?2048:0)]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.selected=e[4]),8032&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function $a(e){let t,n,r,a,i,o;return t=new fr({props:{$$slots:{default:[ha]},$$scope:{ctx:e}}}),r=new gr({props:{$$slots:{default:[ga]},$$scope:{ctx:e}}}),i=new ar({props:{$$slots:{default:[va]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment),a=S(),ce(i.$$.fragment)},m(e,s){ue(t,e,s),x(e,n,s),ue(r,e,s),x(e,a,s),ue(i,e,s),o=!0},p(e,n){const a={};4096&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const o={};4254&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const s={};4208&n&&(s.$$scope={dirty:n,ctx:e}),i.$set(s)},i(e){o||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),ie(i.$$.fragment,e),o=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),oe(i.$$.fragment,e),o=!1},d(e){le(t,e),e&&w(n),le(r,e),e&&w(a),le(i,e)}}}function xa(e){let t,n,r;return n=new Zn({props:{padding:{top:10,right:5,bottom:20,left:25},x:e[5],y:e[6],xPadding:[wa,wa],yPadding:[wa,wa],data:e[0],$$slots:{default:[$a]},$$scope:{ctx:e}}}),{c(){t=_("div"),ce(n.$$.fragment),M(t,"class","chart-container svelte-10r5gty")},m(e,a){x(e,t,a),ue(n,t,null),r=!0},p(e,[t]){const r={};32&t&&(r.x=e[5]),64&t&&(r.y=e[6]),1&t&&(r.data=e[0]),4350&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(ie(n.$$.fragment,e),r=!0)},o(e){oe(n.$$.fragment,e),r=!1},d(e){e&&w(t),le(n)}}}const wa=6;function ka(e,t,n){let{data:r}=t,{diameter:a=5}=t,{colors:i=[[128,128,128]]}=t,{categories:o=null}=t,{selected:s=null}=t,{xKey:c="x"}=t,{yKey:u="y"}=t,{catKey:l="group"}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data),"diameter"in e&&n(1,a=e.diameter),"colors"in e&&n(2,i=e.colors),"categories"in e&&n(3,o=e.categories),"selected"in e&&n(4,s=e.selected),"xKey"in e&&n(5,c=e.xKey),"yKey"in e&&n(6,u=e.yKey),"catKey"in e&&n(7,l=e.catKey)},[r,a,i,o,s,c,u,l]}class _a extends pe{constructor(e){super(),de(this,e,ka,xa,o,{data:0,diameter:1,colors:2,categories:3,selected:4,xKey:5,yKey:6,catKey:7})}get data(){return this.$$.ctx[0]}set data(e){this.$$set({data:e}),Z()}get diameter(){return this.$$.ctx[1]}set diameter(e){this.$$set({diameter:e}),Z()}get colors(){return this.$$.ctx[2]}set colors(e){this.$$set({colors:e}),Z()}get categories(){return this.$$.ctx[3]}set categories(e){this.$$set({categories:e}),Z()}get selected(){return this.$$.ctx[4]}set selected(e){this.$$set({selected:e}),Z()}get xKey(){return this.$$.ctx[5]}set xKey(e){this.$$set({xKey:e}),Z()}get yKey(){return this.$$.ctx[6]}set yKey(e){this.$$set({yKey:e}),Z()}get catKey(){return this.$$.ctx[7]}set catKey(e){this.$$set({catKey:e}),Z()}}function Aa(e,t,n){var r,a,i,o,s;function c(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(c,t-u):(r=null,n||(s=e.apply(i,a),i=a=null))}null==t&&(t=100);var u=function(){i=this,a=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(c,t)),u&&(s=e.apply(i,a),i=a=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(i,a),i=a=null,clearTimeout(r),r=null)},u}Aa.debounce=Aa;var Ta=Aa;function Sa(e){let t,n,r,a,i,o;const s=e[13].default,c=p(s,e,e[12],null);return{c(){t=_("figure"),n=_("div"),r=_("div"),c&&c.c(),M(r,"class",a="grid"+e[4]+" svelte-15qq8ff"),j(r,"grid-gap",e[8]),j(r,"min-height",e[7]),M(n,"class",i="col-"+e[1]+" svelte-15qq8ff"),j(t,"color",Ae[e[0]].text),j(t,"background-color",Ae[e[0]].background)},m(e,a){x(e,t,a),$(t,n),$(n,r),c&&c.m(r,null),o=!0},p(e,u){c&&c.p&&(!o||4096&u)&&y(c,s,e,e[12],o?h(s,e[12],u,null):v(e[12]),null),(!o||16&u&&a!==(a="grid"+e[4]+" svelte-15qq8ff"))&&M(r,"class",a),(!o||2&u&&i!==(i="col-"+e[1]+" svelte-15qq8ff"))&&M(n,"class",i),(!o||1&u)&&j(t,"color",Ae[e[0]].text),(!o||1&u)&&j(t,"background-color",Ae[e[0]].background)},i(e){o||(ie(c,e),o=!0)},o(e){oe(c,e),o=!1},d(e){e&&w(t),c&&c.d(e)}}}function Ca(e){let t,n,r,a,i,o;const s=e[13].default,c=p(s,e,e[12],null);return{c(){t=_("figure"),n=_("div"),r=_("div"),c&&c.c(),M(r,"class","grid-ms svelte-15qq8ff"),J((()=>e[15].call(r))),M(n,"class",i="col-"+e[1]+" svelte-15qq8ff"),j(t,"color",Ae[e[0]].text),j(t,"background-color",Ae[e[0]].background)},m(i,s){x(i,t,s),$(t,n),$(n,r),c&&c.m(r,null),e[14](r),a=N(r,e[15].bind(r)),o=!0},p(e,r){c&&c.p&&(!o||4096&r)&&y(c,s,e,e[12],o?h(s,e[12],r,null):v(e[12]),null),(!o||2&r&&i!==(i="col-"+e[1]+" svelte-15qq8ff"))&&M(n,"class",i),(!o||1&r)&&j(t,"color",Ae[e[0]].text),(!o||1&r)&&j(t,"background-color",Ae[e[0]].background)},i(e){o||(ie(c,e),o=!0)},o(e){oe(c,e),o=!1},d(n){n&&w(t),c&&c.d(n),e[14](null),a()}}}function Oa(e){let t,n,r;return{c(){t=_("caption"),n=_("div"),r=_("div"),M(r,"class","caption"),M(n,"class","col-medium"),j(t,"color",Ae[e[0]].text),j(t,"background-color",Ae[e[0]].background)},m(a,i){x(a,t,i),$(t,n),$(n,r),r.innerHTML=e[2]},p(e,n){4&n&&(r.innerHTML=e[2]),1&n&&j(t,"color",Ae[e[0]].text),1&n&&j(t,"background-color",Ae[e[0]].background)},d(e){e&&w(t)}}}function Ma(e){let t,n,r,a,i;const o=[Ca,Sa],s=[];t=function(e,t){return e[6]?0:1}(e),n=s[t]=o[t](e);let c=e[2]&&Oa(e);return{c(){n.c(),r=S(),c&&c.c(),a=C()},m(e,n){s[t].m(e,n),x(e,r,n),c&&c.m(e,n),x(e,a,n),i=!0},p(e,[t]){n.p(e,t),e[2]?c?c.p(e,t):(c=Oa(e),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},i(e){i||(ie(n),i=!0)},o(e){oe(n),i=!1},d(e){s[t].d(e),e&&w(r),c&&c.d(e),e&&w(a)}}}function Ea(){let e=document.createElement("div");return e.style["grid-gap"]="1px","1px"===e.style["grid-gap"]}function Da(e,t,n){let{$$slots:r={},$$scope:a}=t;const i={narrow:200,medium:300,wide:500};let{theme:o=V("theme")}=t,{col:s="medium"}=t,{grid:c=null}=t,{caption:u=null}=t,{height:l=200}=t,{gap:f=12}=t,d="";""!==c&&(d=` grid-${c}`),console.log(Ea());let p=!Ea(),m=Number.isNaN(l)?l:l+"px",h=Number.isNaN(f)?f:f+"px";const g=c&&i[c]?i[c]:null;let b,y,v,$,x;p&&B((()=>{k()}));const w=Ta.debounce(k,200);function k(){if(v&&!$){let e=[];v.childNodes.forEach((t=>{"DIV"==t.nodeName&&e.push(t)})),$=e}x=$.length,y=!g||b<=g?1:Math.floor(b/g),function(){let e=Math.ceil(x/y)>1?`-ms-grid-rows: ${m} (${f}px ${m})[${Math.ceil(x/y)-1}]; grid-template-rows: ${m} repeat(${Math.ceil(x/y)-1}, ${f}px ${m});`:`-ms-grid-rows: ${m}; grid-template-rows: ${m};`,t=y>1?`-ms-grid-columns: 1fr (${f}px 1fr)[${y-1}]; grid-template-columns: 1fr repeat(${y-1}, ${f}px 1fr);`:"";n(5,v.style.cssText=e+t,v),$.forEach(((e,t)=>{let n=t%y*2+1,r=2*Math.floor(t/y)+1;e.style.cssText=`-ms-grid-column: ${n}; -ms-grid-row: ${r}; grid-column: ${n}; grid-row: ${r};`}))}()}return e.$$set=e=>{"theme"in e&&n(0,o=e.theme),"col"in e&&n(1,s=e.col),"grid"in e&&n(9,c=e.grid),"caption"in e&&n(2,u=e.caption),"height"in e&&n(10,l=e.height),"gap"in e&&n(11,f=e.gap),"$$scope"in e&&n(12,a=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&p&&(g||b)&&w()},[o,s,u,b,d,v,p,m,h,c,l,f,a,r,function(e){Y[e?"unshift":"push"]((()=>{v=e,n(5,v)}))},function(){b=this.clientWidth,n(3,b)}]}class ja extends pe{constructor(e){super(),de(this,e,Da,Ma,o,{theme:0,col:1,grid:9,caption:2,height:10,gap:11})}}function za(e,t,n){const r=e.slice();return r[5]=t[n],r}function Ra(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Lamar Jackson: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function Pa(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:La,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=Na(za(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=za(e,m,n);h[n]?h[n].p(r,t):(h[n]=Na(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function Na(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function Ia(e){let t,n,r=e[0]&&La&&e[1]&&Pa(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&La&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=Pa(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Fa(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[Ra]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[Ia]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let La="Week";function Ba(e,t,n){const r={Cmp_p:"% of Passes Completed",TD_P:"Passing Touchdowns",TD_R:"Rushing Touchdowns",Yds_P:"Yards Gained: Passing",Yds_R:"Yards Gained: Rushing",Fmb:"# Fumbles"};let a,i="Cmp_p";return _e("data/jackson2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class qa extends pe{constructor(e){super(),de(this,e,Ba,Fa,o,{})}}var Va={rgb2hsl:Ha,rgb2hsv:Ya,rgb2hwb:Ka,rgb2cmyk:Ga,rgb2keyword:Wa,rgb2xyz:Ua,rgb2lab:Ja,rgb2lch:function(e){return ai(Ja(e))},hsl2rgb:Qa,hsl2hsv:function(e){var t=e[0],n=e[1]/100,r=e[2]/100;if(0===r)return[0,0,0];return[t,100*(2*(n*=(r*=2)<=1?r:2-r)/(r+n)),100*((r+n)/2)]},hsl2hwb:function(e){return Ka(Qa(e))},hsl2cmyk:function(e){return Ga(Qa(e))},hsl2keyword:function(e){return Wa(Qa(e))},hsv2rgb:Xa,hsv2hsl:function(e){var t,n,r=e[0],a=e[1]/100,i=e[2]/100;return t=a*i,[r,100*(t=(t/=(n=(2-a)*i)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return Ka(Xa(e))},hsv2cmyk:function(e){return Ga(Xa(e))},hsv2keyword:function(e){return Wa(Xa(e))},hwb2rgb:Za,hwb2hsl:function(e){return Ha(Za(e))},hwb2hsv:function(e){return Ya(Za(e))},hwb2cmyk:function(e){return Ga(Za(e))},hwb2keyword:function(e){return Wa(Za(e))},cmyk2rgb:ei,cmyk2hsl:function(e){return Ha(ei(e))},cmyk2hsv:function(e){return Ya(ei(e))},cmyk2hwb:function(e){return Ka(ei(e))},cmyk2keyword:function(e){return Wa(ei(e))},keyword2rgb:si,keyword2hsl:function(e){return Ha(si(e))},keyword2hsv:function(e){return Ya(si(e))},keyword2hwb:function(e){return Ka(si(e))},keyword2cmyk:function(e){return Ga(si(e))},keyword2lab:function(e){return Ja(si(e))},keyword2xyz:function(e){return Ua(si(e))},xyz2rgb:ti,xyz2lab:ni,xyz2lch:function(e){return ai(ni(e))},lab2xyz:ri,lab2rgb:ii,lab2lch:ai,lch2lab:oi,lch2xyz:function(e){return ri(oi(e))},lch2rgb:function(e){return ii(oi(e))}};function Ha(e){var t,n,r=e[0]/255,a=e[1]/255,i=e[2]/255,o=Math.min(r,a,i),s=Math.max(r,a,i),c=s-o;return s==o?t=0:r==s?t=(a-i)/c:a==s?t=2+(i-r)/c:i==s&&(t=4+(r-a)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s==o?0:n<=.5?c/(s+o):c/(2-s-o)),100*n]}function Ya(e){var t,n,r=e[0],a=e[1],i=e[2],o=Math.min(r,a,i),s=Math.max(r,a,i),c=s-o;return n=0==s?0:c/s*1e3/10,s==o?t=0:r==s?t=(a-i)/c:a==s?t=2+(i-r)/c:i==s&&(t=4+(r-a)/c),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function Ka(e){var t=e[0],n=e[1],r=e[2];return[Ha(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]}function Ga(e){var t,n=e[0]/255,r=e[1]/255,a=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-a)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-a-t)/(1-t)||0),100*t]}function Wa(e){return ui[JSON.stringify(e)]}function Ua(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]}function Ja(e){var t=Ua(e),n=t[0],r=t[1],a=t[2];return r/=100,a/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]}function Qa(e){var t,n,r,a,i,o=e[0]/360,s=e[1]/100,c=e[2]/100;if(0==s)return[i=255*c,i,i];t=2*c-(n=c<.5?c*(1+s):c+s-c*s),a=[0,0,0];for(var u=0;u<3;u++)(r=o+1/3*-(u-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,a[u]=255*i;return a}function Xa(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,a=Math.floor(t)%6,i=t-Math.floor(t),o=255*r*(1-n),s=255*r*(1-n*i),c=255*r*(1-n*(1-i));r*=255;switch(a){case 0:return[r,c,o];case 1:return[s,r,o];case 2:return[o,r,c];case 3:return[o,s,r];case 4:return[c,o,r];case 5:return[r,o,s]}}function Za(e){var t,n,a,i,o=e[0]/360,s=e[1]/100,c=e[2]/100,u=s+c;switch(u>1&&(s/=u,c/=u),a=6*o-(t=Math.floor(6*o)),0!=(1&t)&&(a=1-a),i=s+a*((n=1-c)-s),t){default:case 6:case 0:r=n,g=i,b=s;break;case 1:r=i,g=n,b=s;break;case 2:r=s,g=n,b=i;break;case 3:r=s,g=i,b=n;break;case 4:r=i,g=s,b=n;break;case 5:r=n,g=s,b=i}return[255*r,255*g,255*b]}function ei(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,t*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,r*(1-a)+a))]}function ti(e){var t,n,r,a=e[0]/100,i=e[1]/100,o=e[2]/100;return n=-.9689*a+1.8758*i+.0415*o,r=.0557*a+-.204*i+1.057*o,t=(t=3.2406*a+-1.5372*i+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function ni(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function ri(e){var t,n,r,a,i=e[0],o=e[1],s=e[2];return i<=8?a=(n=100*i/903.3)/100*7.787+16/116:(n=100*Math.pow((i+16)/116,3),a=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(o/500+a-16/116)/7.787:95.047*Math.pow(o/500+a,3),n,r=r/108.883<=.008859?r=108.883*(a-s/200-16/116)/7.787:108.883*Math.pow(a-s/200,3)]}function ai(e){var t,n=e[0],r=e[1],a=e[2];return(t=360*Math.atan2(a,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+a*a),t]}function ii(e){return ti(ri(e))}function oi(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]}function si(e){return ci[e]}var ci={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ui={};for(var li in ci)ui[JSON.stringify(ci[li])]=li;var fi=function(){return new gi};for(var di in Va){fi[di+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),Va[e](t)}}(di);var pi=/(\w+)2(\w+)/.exec(di),mi=pi[1],hi=pi[2];(fi[mi]=fi[mi]||{})[hi]=fi[di]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=Va[e](t);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(di)}var gi=function(){this.convs={}};gi.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},gi.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},gi.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,r=this.convs[n];t=fi[n][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach((function(e){gi.prototype[e]=function(t){return this.routeSpace(e,arguments)}}));var bi=fi;function yi(e){let t,n;const r=e[5].default,a=p(r,e,e[4],null);return{c(){t=_("span"),a&&a.c(),M(t,"class","em svelte-s1t2y4"),j(t,"background-color",e[0]),j(t,"color",e[2]),M(t,"role","presentation"),I(t,"nowrap",e[1])},m(e,r){x(e,t,r),a&&a.m(t,null),n=!0},p(e,[i]){a&&a.p&&(!n||16&i)&&y(a,r,e,e[4],n?h(r,e[4],i,null):v(e[4]),null),(!n||1&i)&&j(t,"background-color",e[0]),(!n||4&i)&&j(t,"color",e[2]),2&i&&I(t,"nowrap",e[1])},i(e){n||(ie(a,e),n=!0)},o(e){oe(a,e),n=!1},d(e){e&&w(t),a&&a.d(e)}}}function vi(e,t,n){let r,{$$slots:a={},$$scope:i}=t,{color:o="lightgrey"}=t,{nowrap:s=!0}=t;let c="black";return e.$$set=e=>{"color"in e&&n(0,o=e.color),"nowrap"in e&&n(1,s=e.nowrap),"$$scope"in e&&n(4,i=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=function(e){var t,n,r,a;if(t=/^((?:rgb|hs[lv]|cmyk|xyz|lab)a?)\s*\(([^\)]*)\)/.exec(e)){var i=t[1],o="cmyk"===(s=i.replace(/a$/,""))?4:3;n=bi[s],r=t[2].replace(/^\s+|\s+$/g,"").split(/\s*,\s*/).map((function(e,t){return/%$/.test(e)&&t===o?parseFloat(e)/100:(/%$/.test(e),parseFloat(e))})),i===s&&r.push(1),a=void 0===r[o]?1:r[o],r=r.slice(0,o),n[s]=function(){return r}}else if(/^#[A-Fa-f0-9]+$/.test(e)){var s;o=(s=e.replace(/^#/,"")).length,n=bi.rgb,r=(r=s.split(3===o?/(.)/:/(..)/)).filter(Boolean).map((function(e){return 3===o?parseInt(e+e,16):parseInt(e,16)})),a=1,n.rgb=function(){return r},r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0)}else(n=bi.keyword).keyword=function(){return e},r=e,a=1;var c={rgb:void 0,hsl:void 0,hsv:void 0,cmyk:void 0,keyword:void 0,hex:void 0};try{c.rgb=n.rgb(r)}catch(e){}try{c.hsl=n.hsl(r)}catch(e){}try{c.hsv=n.hsv(r)}catch(e){}try{c.cmyk=n.cmyk(r)}catch(e){}try{c.keyword=n.keyword(r)}catch(e){}return c.rgb&&(c.hex="#"+c.rgb.map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("")),c.rgb&&(c.rgba=c.rgb.concat(a)),c.hsl&&(c.hsla=c.hsl.concat(a)),c.hsv&&(c.hsva=c.hsv.concat(a)),c.cmyk&&(c.cmyka=c.cmyk.concat(a)),c}(o).rgb),8&e.$$.dirty&&r&&n(2,c=function(e){return(299*e[0]+587*e[1]+114*e[2])/1e3>125?"black":"white"}(r))},[o,s,c,r,i,a]}class $i extends pe{constructor(e){super(),de(this,e,vi,yi,o,{color:0,nowrap:1})}}function xi(e){let t,n,r;const a=e[4].default,i=p(a,e,e[3],null);return{c(){t=_("img"),i&&i.c(),l(t.src,n="./img/scroll-down-"+e[0]+".svg")||M(t,"src",n),M(t,"class","arrow left svelte-1prdo3z"),M(t,"alt",""),M(t,"aria-hidden","true"),I(t,"bounce",e[1])},m(e,n){x(e,t,n),i&&i.m(e,n),r=!0},p(e,o){(!r||1&o&&!l(t.src,n="./img/scroll-down-"+e[0]+".svg"))&&M(t,"src",n),2&o&&I(t,"bounce",e[1]),i&&i.p&&(!r||8&o)&&y(i,a,e,e[3],r?h(a,e[3],o,null):v(e[3]),null)},i(e){r||(ie(i,e),r=!0)},o(e){oe(i,e),r=!1},d(e){e&&w(t),i&&i.d(e)}}}function wi(e){let t,n,r,a,i;const o=e[4].default,s=p(o,e,e[3],null);return{c(){s&&s.c(),t=_("br"),n=S(),r=_("img"),l(r.src,a="./img/scroll-down-"+e[0]+".svg")||M(r,"src",a),M(r,"class","arrow svelte-1prdo3z"),M(r,"alt",""),M(r,"aria-hidden","true"),I(r,"bounce",e[1])},m(e,a){s&&s.m(e,a),x(e,t,a),x(e,n,a),x(e,r,a),i=!0},p(e,t){s&&s.p&&(!i||8&t)&&y(s,o,e,e[3],i?h(o,e[3],t,null):v(e[3]),null),(!i||1&t&&!l(r.src,a="./img/scroll-down-"+e[0]+".svg"))&&M(r,"src",a),2&t&&I(r,"bounce",e[1])},i(e){i||(ie(s,e),i=!0)},o(e){oe(s,e),i=!1},d(e){s&&s.d(e),e&&w(t),e&&w(n),e&&w(r)}}}function ki(e){let t,n,r,a;const i=[wi,xi],o=[];function s(e,t){return e[2]?0:1}return t=s(e),n=o[t]=i[t](e),{c(){n.c(),r=C()},m(e,n){o[t].m(e,n),x(e,r,n),a=!0},p(e,[a]){let c=t;t=s(e),t===c?o[t].p(e,a):(re(),oe(o[c],1,1,(()=>{o[c]=null})),ae(),n=o[t],n?n.p(e,a):(n=o[t]=i[t](e),n.c()),ie(n,1),n.m(r.parentNode,r))},i(e){a||(ie(n),a=!0)},o(e){oe(n),a=!1},d(e){o[t].d(e),e&&w(r)}}}function _i(e,t,n){let{$$slots:r={},$$scope:a}=t,{color:i="black"}=t,{animation:o=!0}=t,{center:s=!0}=t;return i=["black","white"].includes(i)?i:"black",e.$$set=e=>{"color"in e&&n(0,i=e.color),"animation"in e&&n(1,o=e.animation),"center"in e&&n(2,s=e.center),"$$scope"in e&&n(3,a=e.$$scope)},[i,o,s,a,r]}class Ai extends pe{constructor(e){super(),de(this,e,_i,ki,o,{color:0,animation:1,center:2})}}function Ti(e,t,n){const r=e.slice();return r[5]=t[n],r}function Si(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Justin Jefferson: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function Ci(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:Di,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=Oi(Ti(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=Ti(e,m,n);h[n]?h[n].p(r,t):(h[n]=Oi(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function Oi(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function Mi(e){let t,n,r=e[0]&&Di&&e[1]&&Ci(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&Di&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=Ci(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Ei(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[Si]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[Mi]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let Di="Week";function ji(e,t,n){const r={Yds_rush:"Rushing Yards Gained",Yds_rec:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_rush:"Rushing Touchdowns",Tgt:"# Targets",Ctch_p:"Catching %",Fmb:"# Fumbles"};let a,i="Yds_rush";return _e("data/jefferson2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class zi extends pe{constructor(e){super(),de(this,e,ji,Ei,o,{})}}function Ri(e,t,n){const r=e.slice();return r[5]=t[n],r}function Pi(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Devin Singletary: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function Ni(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:Bi,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=Ii(Ri(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=Ri(e,m,n);h[n]?h[n].p(r,t):(h[n]=Ii(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function Ii(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function Fi(e){let t,n,r=e[0]&&Bi&&e[1]&&Ni(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&Bi&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=Ni(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Li(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[Pi]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[Fi]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let Bi="Week";function qi(e,t,n){const r={Yds_rush:"Rushing Yards Gained",Yds_rec:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_rush:"Rushing Touchdowns",Tgt:"# Targets",Ctch_p:"Catching %",Fmb:"# Fumbles"};let a,i="Yds_rush";return _e("data/singletary2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class Vi extends pe{constructor(e){super(),de(this,e,qi,Li,o,{})}}function Hi(e,t,n){const r=e.slice();return r[5]=t[n],r}function Yi(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Dallas Goedert: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function Ki(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:Ji,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=Gi(Hi(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=Hi(e,m,n);h[n]?h[n].p(r,t):(h[n]=Gi(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function Gi(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function Wi(e){let t,n,r=e[0]&&Ji&&e[1]&&Ki(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&Ji&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=Ki(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Ui(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[Yi]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[Wi]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let Ji="Week";function Qi(e,t,n){const r={Ctch_p:"Catching %",TD_all:"All Touchdowns",TD_rec:"Receiving Touchdowns",Num_off:"# Offensive Snaps",Num_def:"# Defensive Snaps",Tgts:"Targets"};let a,i="TD_all";return _e("data/goedert2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class Xi extends pe{constructor(e){super(),de(this,e,Qi,Ui,o,{})}}function Zi(e,t,n){const r=e.slice();return r[5]=t[n],r}function eo(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Ja'Marr Chase: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function to(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:io,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=no(Zi(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=Zi(e,m,n);h[n]?h[n].p(r,t):(h[n]=no(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function no(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function ro(e){let t,n,r=e[0]&&io&&e[1]&&to(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&io&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=to(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function ao(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[eo]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[ro]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let io="Week";function oo(e,t,n){const r={Yds_rush:"Rushing Yards Gained",Yds_rec:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_rush:"Rushing Touchdowns",Tgt:"# Targets",Ctch_p:"Catching %",Fmb:"# Fumbles"};let a,i="Yds_rush";return _e("data/chase2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class so extends pe{constructor(e){super(),de(this,e,oo,ao,o,{})}}function co(e,t,n){const r=e.slice();return r[5]=t[n],r}function uo(e){let t,n,r;return{c(){t=_("h2"),t.textContent="DeVonta Smith: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function lo(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:ho,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=fo(co(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=co(e,m,n);h[n]?h[n].p(r,t):(h[n]=fo(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function fo(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function po(e){let t,n,r=e[0]&&ho&&e[1]&&lo(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&ho&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=lo(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function mo(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[uo]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[po]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let ho="Week";function go(e,t,n){const r={Yds:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_all:"All Touchdowns",Rec:"Receptions",Tgt:"# Targets",Ctch_p:"Catching %",Fmb:"# Fumbles"};let a,i="Yds";return _e("data/smith2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class bo extends pe{constructor(e){super(),de(this,e,go,mo,o,{})}}function yo(e,t,n){const r=e.slice();return r[7]=t[n],r}function vo(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Van Jefferson Jr: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function $o(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:_o,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=xo(yo(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=yo(e,m,n);h[n]?h[n].p(r,t):(h[n]=xo(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function xo(t){let n,r,a,i=t[2][t[7]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[7],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function wo(e){let t,n,r=e[0]&&_o&&e[1]&&$o(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&_o&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=$o(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function ko(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[vo]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[wo]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};1024&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};1027&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let _o="Week";function Ao(e,t,n){B((()=>{}));const r={Yds:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_all:"All Touchdowns",Rec:"Receptions",Tgt:"# Targets",Ctch_p:"Catching %"};let a,i="Ctch_p";return _e("data/van_jefferson2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class To extends pe{constructor(e){super(),de(this,e,Ao,ko,o,{})}}function So(e,t,n){const r=e.slice();return r[5]=t[n],r}function Co(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Odell Beckham Jr: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function Oo(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:jo,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=Mo(So(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=So(e,m,n);h[n]?h[n].p(r,t):(h[n]=Mo(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function Mo(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function Eo(e){let t,n,r=e[0]&&jo&&e[1]&&Oo(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&jo&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=Oo(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Do(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[Co]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[Eo]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let jo="Week";function zo(e,t,n){const r={Yds_rush:"Rushing Yards Gained",Yds_rec:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_rush:"Rushing Touchdowns",Tgt:"# Targets",Ctch_p:"Catching %",Fmb:"# Fumbles"};let a,i="Yds_rush";return _e("data/beckham2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class Ro extends pe{constructor(e){super(),de(this,e,zo,Do,o,{})}}function Po(e,t,n){const r=e.slice();return r[5]=t[n],r}function No(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Saquon Barkley: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function Io(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:qo,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=Fo(Po(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=Po(e,m,n);h[n]?h[n].p(r,t):(h[n]=Fo(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function Fo(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function Lo(e){let t,n,r=e[0]&&qo&&e[1]&&Io(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&qo&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=Io(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Bo(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[No]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[Lo]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let qo="Week";function Vo(e,t,n){const r={Yds_rush:"Rushing Yards Gained",Yds_rec:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_rush:"Rushing Touchdowns",Tgt:"# Targets",Ctch_p:"Catching %",Fmb:"# Fumbles"};let a,i="Yds_rush";return _e("data/barkley2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class Ho extends pe{constructor(e){super(),de(this,e,Vo,Bo,o,{})}}function Yo(e,t,n){const r=e.slice();return r[5]=t[n],r}function Ko(e){let t,n,r;return{c(){t=_("h2"),t.textContent="AJ Dillon: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function Go(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:Qo,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=Wo(Yo(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=Yo(e,m,n);h[n]?h[n].p(r,t):(h[n]=Wo(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function Wo(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function Uo(e){let t,n,r=e[0]&&Qo&&e[1]&&Go(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&Qo&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=Go(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function Jo(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[Ko]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[Uo]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let Qo="Week";function Xo(e,t,n){const r={Yds_rush:"Rushing Yards Gained",Yds_rec:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_rush:"Rushing Touchdowns",Tgt:"# Targets",Ctch_p:"Catching %",Fmb:"# Fumbles"};let a,i="Ctch_p";return _e("data/dillon2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class Zo extends pe{constructor(e){super(),de(this,e,Xo,Jo,o,{})}}function es(e,t,n){const r=e.slice();return r[5]=t[n],r}function ts(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Miles Sanders: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function ns(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:os,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=rs(es(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=es(e,m,n);h[n]?h[n].p(r,t):(h[n]=rs(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function rs(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function as(e){let t,n,r=e[0]&&os&&e[1]&&ns(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&os&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=ns(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function is(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[ts]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[as]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let os="Week";function ss(e,t,n){const r={Yds_rush:"Rushing Yards Gained",Yds_rec:"Receiving Yards",TD_rec:"Receiving Touchdowns",TD_rush:"Rushing Touchdowns",Tgt:"# Targets",Ctch_p:"Catching %",Fmb:"# Fumbles",Rec:"# Receptions"};let a,i="Tgt";return _e("data/sanders2021.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class cs extends pe{constructor(e){super(),de(this,e,ss,is,o,{})}}function us(e,t,n){const r=e.slice();return r[5]=t[n],r}function ls(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Nick Folk: A Closer Look",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function fs(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;n=new _a({props:{diameter:20,data:e[0],xKey:hs,yKey:e[1],colors:e[3]}});let m=Object.keys(e[2]),h=[];for(let t=0;t<m.length;t+=1)h[t]=ds(us(e,m,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),a=_("div"),i=_("h3"),i.textContent="Explore the data",o=S(),s=_("span"),s.textContent="Y Axis",c=S(),u=_("select");for(let e=0;e<h.length;e+=1)h[e].c();l=_("br"),M(t,"class","media"),j(t,"height","400px"),j(i,"padding-bottom","10px"),M(s,"class","label-block"),void 0===e[1]&&J((()=>e[4].call(u))),M(a,"class","media"),j(a,"margin-top","80px")},m(m,g){x(m,t,g),ue(n,t,null),x(m,r,g),x(m,a,g),$(a,i),$(a,o),$(a,s),$(a,c),$(a,u);for(let e=0;e<h.length;e+=1)h[e].m(u,null);z(u,e[1]),$(a,l),f=!0,d||(p=O(u,"change",e[4]),d=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.yKey=e[1]),n.$set(r),4&t){let n;for(m=Object.keys(e[2]),n=0;n<m.length;n+=1){const r=us(e,m,n);h[n]?h[n].p(r,t):(h[n]=ds(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}6&t&&z(u,e[1])},i(e){f||(ie(n.$$.fragment,e),f=!0)},o(e){oe(n.$$.fragment,e),f=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(a),k(h,e),d=!1,p()}}}function ds(t){let n,r,a,i=t[2][t[5]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[5],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function ps(e){let t,n,r=e[0]&&hs&&e[1]&&fs(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&hs&&e[1]?r?(r.p(e,n),3&n&&ie(r,1)):(r=fs(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function ms(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[ls]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[ps]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};256&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};259&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let hs="Week";function gs(e,t,n){const r={XPM:"Extra Points Made",XPA:"Extra Points Attempted",XP:"% Extra Points Made",FGM:"Field Goals Made",FGA:"Field Goals Attempted",FG:"% Field Goals Made"};let a,i="XPM";return _e("data/folk2021.csv").then((e=>n(0,a=e))),[a,i,r,[[166,206,227]],function(){i=R(this),n(1,i),n(2,r)}]}class bs extends pe{constructor(e){super(),de(this,e,gs,ms,o,{})}}function ys(e,t,n){const r=e.slice();return r[8]=t[n],r}function vs(e,t,n){const r=e.slice();return r[8]=t[n],r}function $s(e){let t,n,r,a,i,o,s,c,u,l,f,d,p;return{c(){t=_("h2"),t.textContent="Comparisons: Quarterbacks",n=S(),r=_("p"),r.textContent="Use the dropdown menu to explore available player stats.",a=S(),i=_("p"),i.textContent="Legend:",o=S(),s=_("p"),s.textContent="Lamar Jackson",c=S(),u=_("p"),u.textContent="Tom Brady",l=S(),f=_("p"),f.textContent="Drew Brees",d=S(),p=_("p"),p.textContent="Patrick Mahomes",j(s,"background-color","rgb(127,201,127)"),j(s,"width","40%"),j(u,"background-color","rgb(190,174,212)"),j(u,"width","40%"),j(f,"background-color","rgb(253,192,134)"),j(f,"width","40%"),j(p,"background-color","rgb(56,108,176)"),j(p,"width","40%")},m(e,m){x(e,t,m),x(e,n,m),x(e,r,m),x(e,a,m),x(e,i,m),x(e,o,m),x(e,s,m),x(e,c,m),x(e,u,m),x(e,l,m),x(e,f,m),x(e,d,m),x(e,p,m)},d(e){e&&w(t),e&&w(n),e&&w(r),e&&w(a),e&&w(i),e&&w(o),e&&w(s),e&&w(c),e&&w(u),e&&w(l),e&&w(f),e&&w(d),e&&w(p)}}}function xs(e){let t,n,r,i,o,s,c,u,l,f,d,p,m,h,g,b,y;n=new _a({props:{diameter:20,data:e[0],xKey:e[1],yKey:e[2],colors:e[5],catKey:Ts,categories:e[4]}});let v=Object.keys(e[3]),A=[];for(let t=0;t<v.length;t+=1)A[t]=ws(vs(e,v,t));let T=Object.keys(e[3]),C=[];for(let t=0;t<T.length;t+=1)C[t]=ks(ys(e,T,t));return{c(){t=_("div"),ce(n.$$.fragment),r=S(),i=_("div"),o=_("h3"),o.textContent="Explore the data",s=S(),c=_("span"),c.textContent="Y Axis",u=S(),l=_("select");for(let e=0;e<A.length;e+=1)A[e].c();f=_("br"),d=S(),p=_("span"),p.textContent="X Axis",m=S(),h=_("select");for(let e=0;e<C.length;e+=1)C[e].c();M(t,"class","media"),j(t,"height","400px"),j(o,"padding-bottom","10px"),M(c,"class","label-block"),void 0===e[2]&&J((()=>e[6].call(l))),M(p,"class","label-block"),void 0===e[1]&&J((()=>e[7].call(h))),M(i,"class","media"),j(i,"margin-top","80px")},m(a,v){x(a,t,v),ue(n,t,null),x(a,r,v),x(a,i,v),$(i,o),$(i,s),$(i,c),$(i,u),$(i,l);for(let e=0;e<A.length;e+=1)A[e].m(l,null);z(l,e[2]),$(i,f),$(i,d),$(i,p),$(i,m),$(i,h);for(let e=0;e<C.length;e+=1)C[e].m(h,null);z(h,e[1]),g=!0,b||(y=[O(l,"change",e[6]),O(h,"change",e[7])],b=!0)},p(e,t){const r={};if(1&t&&(r.data=e[0]),2&t&&(r.xKey=e[1]),4&t&&(r.yKey=e[2]),n.$set(r),8&t){let n;for(v=Object.keys(e[3]),n=0;n<v.length;n+=1){const r=vs(e,v,n);A[n]?A[n].p(r,t):(A[n]=ws(r),A[n].c(),A[n].m(l,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=v.length}if(12&t&&z(l,e[2]),8&t){let n;for(T=Object.keys(e[3]),n=0;n<T.length;n+=1){const r=ys(e,T,n);C[n]?C[n].p(r,t):(C[n]=ks(r),C[n].c(),C[n].m(h,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=T.length}10&t&&z(h,e[1])},i(e){g||(ie(n.$$.fragment,e),g=!0)},o(e){oe(n.$$.fragment,e),g=!1},d(e){e&&w(t),le(n),e&&w(r),e&&w(i),k(A,e),k(C,e),b=!1,a(y)}}}function ws(t){let n,r,a,i=t[3][t[8]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[8],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function ks(t){let n,r,a,i=t[3][t[8]]+"";return{c(){n=_("option"),r=T(i),n.__value=a=t[8],n.value=n.__value},m(e,t){x(e,n,t),$(n,r)},p:e,d(e){e&&w(n)}}}function _s(e){let t,n,r=e[0]&&e[1]&&e[2]&&Ts&&xs(e);return{c(){r&&r.c(),t=C()},m(e,a){r&&r.m(e,a),x(e,t,a),n=!0},p(e,n){e[0]&&e[1]&&e[2]&&Ts?r?(r.p(e,n),7&n&&ie(r,1)):(r=xs(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),oe(r,1,1,(()=>{r=null})),ae())},i(e){n||(ie(r),n=!0)},o(e){oe(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function As(e){let t,n,r,a;return t=new Ee({props:{$$slots:{default:[$s]},$$scope:{ctx:e}}}),r=new ja({props:{col:"wide",$$slots:{default:[_s]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment)},m(e,i){ue(t,e,i),x(e,n,i),ue(r,e,i),a=!0},p(e,[n]){const a={};8192&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const i={};8199&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){a||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),a=!1},d(e){le(t,e),e&&w(n),le(r,e)}}}let Ts="Player";function Ss(e,t,n){const r={Cmp:"Passes Completed",Att_p:"Passes Attempted",Att_r:"Rushes Attempted",Cmp_p:"% Passes Completed",Yds_p:"Yards Gained: Passing",Yds_r:"Yards Gained: Rushing",Int:"# Interceptions"};let a,i="Att_p",o="Cmp";return _e("data/jackson_compare.csv").then((e=>n(0,a=e))).then((e=>console.log(e))),[a,i,o,r,["Lamar Jackson","Tom Brady","Drew Brees","Patrick Mahomes"],[[127,201,127],[190,174,212],[253,192,134],[56,108,176]],function(){o=R(this),n(2,o),n(3,r)},function(){i=R(this),n(1,i),n(3,r)}]}class Cs extends pe{constructor(e){super(),de(this,e,Ss,As,o,{})}}function Os(e){let t;return{c(){t=T("Scroll to begin")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Ms(e){let t,n,r,a,i,o,s;return o=new Ai({props:{color:"white",animation:e[5],$$slots:{default:[Os]},$$scope:{ctx:e}}}),{c(){t=_("h1"),t.textContent="Fantasy Football: The Road to Victory",n=S(),r=_("p"),r.textContent="Ariana Jorgensen",a=S(),i=_("div"),ce(o.$$.fragment),M(t,"class","text-shadow"),M(r,"class","inset-medium text-big text-shadow"),M(i,"class","text-shadow"),j(i,"margin-top","48px")},m(e,c){x(e,t,c),x(e,n,c),x(e,r,c),x(e,a,c),x(e,i,c),ue(o,i,null),s=!0},p(e,t){const n={};2048&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(ie(o.$$.fragment,e),s=!0)},o(e){oe(o.$$.fragment,e),s=!1},d(e){e&&w(t),e&&w(n),e&&w(r),e&&w(a),e&&w(i),le(o)}}}function Es(e){let t;return{c(){t=_("p"),t.textContent="I have been playing fantasy football since 2017. Despite my best efforts, I have yet to achieve\n\t\tthe highest honor: winning first place in the league. I have decided that 2021/2022 will be my year\n\t\tfor victory. To help achieve this goal, I will use this project to analyze my team and predict the\n\t\tlikelihood of finally finishing in first place. Join me in my quest to be the best.",M(t,"class","text-big")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Ds(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Meet the Team",n=S(),r=_("p"),r.textContent="First, allow me to introduce you to the team..."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function js(e){let t,n,r;return n=new _a({props:{diameter:e[2],data:e[1],xKey:dc,yKey:pc,categories:e[4],colors:e[6],selected:e[3],catKey:mc}}),{c(){t=_("div"),ce(n.$$.fragment),M(t,"class","chart svelte-ddkvv1")},m(e,a){x(e,t,a),ue(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.diameter=e[2]),2&t&&(r.data=e[1]),16&t&&(r.categories=e[4]),8&t&&(r.selected=e[3]),n.$set(r)},i(e){r||(ie(n.$$.fragment,e),r=!0)},o(e){oe(n.$$.fragment,e),r=!1},d(e){e&&w(t),le(n)}}}function zs(e){let t,n,r,a,i=e[1]&&dc&&pc&&e[4]&&e[6]&&mc&&js(e);return{c(){t=_("div"),n=_("figure"),r=_("div"),i&&i.c(),M(r,"class","col-wide height-full middle"),M(t,"slot","background")},m(e,o){x(e,t,o),$(t,n),$(n,r),i&&i.m(r,null),a=!0},p(e,t){e[1]&&dc&&pc&&e[4]&&e[6]&&mc?i?(i.p(e,t),18&t&&ie(i,1)):(i=js(e),i.c(),ie(i,1),i.m(r,null)):i&&(re(),oe(i,1,1,(()=>{i=null})),ae())},i(e){a||(ie(i),a=!0)},o(e){oe(i),a=!1},d(e){e&&w(t),i&&i.d()}}}function Rs(e){let t;return{c(){t=T("Lamar Jackson")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Ps(e){let t;return{c(){t=T("Justin Jefferson")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Ns(e){let t;return{c(){t=T("Devin Singletary")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Is(e){let t;return{c(){t=T("Dallas Goedert")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Fs(e){let t;return{c(){t=T("Ja’Marr Chase")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Ls(e){let t;return{c(){t=T("DeVonta Smith")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Bs(e){let t;return{c(){t=T("Van Jefferson Jr")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function qs(e){let t;return{c(){t=T("Odell Beckham Jr")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Vs(e){let t;return{c(){t=T("Saquon Barkley")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Hs(e){let t;return{c(){t=T("AJ Dillon")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Ys(e){let t;return{c(){t=T("Miles Sanders")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Ks(e){let t;return{c(){t=T("Nick Folk")},m(e,n){x(e,t,n)},d(e){e&&w(t)}}}function Gs(e){let t,n,r,a,i,o,s,c,u,l,f,d,p,m,h,g,b,y,v,k,A,C,O,E,D,j,z,R,P,N,I,F,L,B,q,V,H,Y,K,G,W,U,J,Q,X,Z,ee,te,ne,re,ae,se,fe,de,pe,me,he,ge,be,ye,ve,$e,xe,we,ke,_e,Ae,Te,Se,Ce,Oe,Me,Ee,De,je,ze,Re,Pe,Ne,Ie,Fe,Le,Be,qe,Ve,He,Ye,Ke,Ge,We,Ue,Je,Qe,Xe,Ze,et,tt,nt,rt,at,it,ot,st,ct,ut,lt,ft,dt,pt,mt,ht,gt,bt,yt,vt,$t,xt,wt,kt,_t,At,Tt,St,Ct,Ot,Mt,Et,Dt,jt,zt,Rt,Pt,Nt,It,Ft,Lt,Bt,qt,Vt,Ht,Yt,Kt,Gt,Wt,Ut,Jt,Qt,Xt,Zt,en,tn,nn,rn,an,on,sn,cn,un,ln,fn,dn,pn,mn,hn,gn,bn,yn,vn,$n;return s=new $i({props:{$$slots:{default:[Rs]},$$scope:{ctx:e}}}),A=new $i({props:{$$slots:{default:[Ps]},$$scope:{ctx:e}}}),q=new $i({props:{$$slots:{default:[Ns]},$$scope:{ctx:e}}}),ne=new $i({props:{$$slots:{default:[Is]},$$scope:{ctx:e}}}),xe=new $i({props:{$$slots:{default:[Fs]},$$scope:{ctx:e}}}),Re=new $i({props:{$$slots:{default:[Ls]},$$scope:{ctx:e}}}),Ue=new $i({props:{$$slots:{default:[Bs]},$$scope:{ctx:e}}}),ut=new $i({props:{$$slots:{default:[qs]},$$scope:{ctx:e}}}),kt=new $i({props:{$$slots:{default:[Vs]},$$scope:{ctx:e}}}),Nt=new $i({props:{$$slots:{default:[Hs]},$$scope:{ctx:e}}}),Qt=new $i({props:{$$slots:{default:[Ys]},$$scope:{ctx:e}}}),dn=new $i({props:{$$slots:{default:[Ks]},$$scope:{ctx:e}}}),{c(){t=_("div"),n=_("section"),n.innerHTML='<div class="col-medium"><p>This chart shows the data for the team as a whole. It visualizes the total\n\t\t\t\t\tfantasy points per career year for each player. Scroll to see score for\n\t\t\t\t\tindividual players. The value mapped to the y-axis is the total number of\n\t\t\t\t\tfantasy points for that player for a given year.</p></div>',r=S(),a=_("section"),i=_("div"),o=_("p"),ce(s.$$.fragment),c=T(".\n\t\t\t\t\t"),u=_("br"),l=T("Age: 24\n\t\t\t\t\t"),f=_("br"),d=T("Position: Quarterback\n\t\t\t\t\t"),p=_("br"),m=T("Team: Baltimore Ravens"),h=S(),g=_("div"),g.innerHTML='<img src="./img/jackson.jpg" alt="Lamar Jackson"/>',b=S(),y=_("section"),v=_("div"),k=_("p"),ce(A.$$.fragment),C=T(".\n\t\t\t\t\t"),O=_("br"),E=T("Age: 22\n\t\t\t\t\t"),D=_("br"),j=T("Position: Wide Receiver\n\t\t\t\t\t"),z=_("br"),R=T("Team: Minnesota Vikings"),P=S(),N=_("div"),N.innerHTML='<img src="./img/jefferson.jpg" alt="Justin Jefferson"/>',I=S(),F=_("section"),L=_("div"),B=_("p"),ce(q.$$.fragment),V=T(".\n\t\t\t\t\t"),H=_("br"),Y=T("Age: 24\n\t\t\t\t\t"),K=_("br"),G=T("Position: Running Back\n\t\t\t\t\t"),W=_("br"),U=T("Team: Buffalo Bills"),J=S(),Q=_("div"),Q.innerHTML='<img src="./img/singletary.jpg" alt="Devin Singletary"/>',X=S(),Z=_("section"),ee=_("div"),te=_("p"),ce(ne.$$.fragment),re=T(".\n\t\t\t\t\t"),ae=_("br"),se=T("Age: 26\n\t\t\t\t\t"),fe=_("br"),de=T("Position: Tight End\n\t\t\t\t\t"),pe=_("br"),me=T("Team: Philadelphia Eagles"),he=S(),ge=_("div"),ge.innerHTML='<img src="./img/goedert.jpg" alt="Dallas Goedert"/>',be=S(),ye=_("section"),ve=_("div"),$e=_("p"),ce(xe.$$.fragment),we=T(".\n\t\t\t\t\t"),ke=_("br"),_e=T("Age: 21\n\t\t\t\t\t"),Ae=_("br"),Te=T("Position: Wide Receiver\n\t\t\t\t\t"),Se=_("br"),Ce=T("Team: Cincinnati Bengals"),Oe=S(),Me=_("div"),Me.innerHTML='<img src="./img/chase.jpg" alt="Ja&#39;Marr Chase"/>',Ee=S(),De=_("section"),je=_("div"),ze=_("p"),ce(Re.$$.fragment),Pe=T(".\n\t\t\t\t\t"),Ne=_("br"),Ie=T("Age: 23\n\t\t\t\t\t"),Fe=_("br"),Le=T("Position: Wide Receiver\n\t\t\t\t\t"),Be=_("br"),qe=T("Team: Philadelphia Eagles"),Ve=S(),He=_("div"),He.innerHTML='<img src="./img/smith.jpg" alt="DeVonta Smith"/>',Ye=S(),Ke=_("section"),Ge=_("div"),We=_("p"),ce(Ue.$$.fragment),Je=T(".\n\t\t\t\t\t"),Qe=_("br"),Xe=T("Age: 25\n\t\t\t\t\t"),Ze=_("br"),et=T("Position: Wide Receiver\n\t\t\t\t\t"),tt=_("br"),nt=T("Team: Los Angeles Rams"),rt=S(),at=_("div"),at.innerHTML='<img src="./img/van_jefferson.jpg" alt="Van Jefferson Jr"/>',it=S(),ot=_("section"),st=_("div"),ct=_("p"),ce(ut.$$.fragment),lt=T(".\n\t\t\t\t\t"),ft=_("br"),dt=T("Age: 29\n\t\t\t\t\t"),pt=_("br"),mt=T("Position: Wide Receiver\n\t\t\t\t\t"),ht=_("br"),gt=T("Team: Los Angeles Rams"),bt=S(),yt=_("div"),yt.innerHTML='<img src="./img/beckham.jpg" alt="Odell Beckham Jr"/>',vt=S(),$t=_("section"),xt=_("div"),wt=_("p"),ce(kt.$$.fragment),_t=T(".\n\t\t\t\t\t"),At=_("br"),Tt=T("Age: 24\n\t\t\t\t\t"),St=_("br"),Ct=T("Position: Running Back\n\t\t\t\t\t"),Ot=_("br"),Mt=T("Team: New York Giants"),Et=S(),Dt=_("div"),Dt.innerHTML='<img src="./img/barkley.jpg" alt="Saquon Barkley"/>',jt=S(),zt=_("section"),Rt=_("div"),Pt=_("p"),ce(Nt.$$.fragment),It=T(".\n\t\t\t\t\t"),Ft=_("br"),Lt=T("Age: 23\n\t\t\t\t\t"),Bt=_("br"),qt=T("Position: Running Back\n\t\t\t\t\t"),Vt=_("br"),Ht=T("Team: Green Bay Packers"),Yt=S(),Kt=_("div"),Kt.innerHTML='<img src="./img/dillon.jpg" alt="AJ Dillon"/>',Gt=S(),Wt=_("section"),Ut=_("div"),Jt=_("p"),ce(Qt.$$.fragment),Xt=T(".\n\t\t\t\t\t"),Zt=_("br"),en=T("Age: 24\n\t\t\t\t\t"),tn=_("br"),nn=T("Position: Running Back\n\t\t\t\t\t"),rn=_("br"),an=T("Team: Philadelphia Eagles"),on=S(),sn=_("div"),sn.innerHTML='<img src="./img/sanders.jpg" alt="Miles Sanders"/>',cn=S(),un=_("section"),ln=_("div"),fn=_("p"),ce(dn.$$.fragment),pn=T(".\n\t\t\t\t\t"),mn=_("br"),hn=T("Age: 37\n\t\t\t\t\t"),gn=_("br"),bn=T("Position: Kicker\n\t\t\t\t\t"),yn=_("br"),vn=T("Team: New England Patriots"),M(g,"class","media"),M(i,"class","col-medium"),M(N,"class","media"),M(v,"class","col-medium"),M(Q,"class","media"),M(L,"class","col-medium"),M(ge,"class","media"),M(ee,"class","col-medium"),M(Me,"class","media"),M(ve,"class","col-medium"),M(He,"class","media"),M(je,"class","col-medium"),M(at,"class","media"),M(Ge,"class","col-medium"),M(yt,"class","media"),M(st,"class","col-medium"),M(Dt,"class","media"),M(xt,"class","col-medium"),M(Kt,"class","media"),M(Rt,"class","col-medium"),M(sn,"class","media"),M(Ut,"class","col-medium"),M(ln,"class","col-medium"),M(t,"slot","foreground")},m(e,w){x(e,t,w),$(t,n),$(t,r),$(t,a),$(a,i),$(i,o),ue(s,o,null),$(o,c),$(o,u),$(o,l),$(o,f),$(o,d),$(o,p),$(o,m),$(i,h),$(i,g),$(t,b),$(t,y),$(y,v),$(v,k),ue(A,k,null),$(k,C),$(k,O),$(k,E),$(k,D),$(k,j),$(k,z),$(k,R),$(v,P),$(v,N),$(t,I),$(t,F),$(F,L),$(L,B),ue(q,B,null),$(B,V),$(B,H),$(B,Y),$(B,K),$(B,G),$(B,W),$(B,U),$(L,J),$(L,Q),$(t,X),$(t,Z),$(Z,ee),$(ee,te),ue(ne,te,null),$(te,re),$(te,ae),$(te,se),$(te,fe),$(te,de),$(te,pe),$(te,me),$(ee,he),$(ee,ge),$(t,be),$(t,ye),$(ye,ve),$(ve,$e),ue(xe,$e,null),$($e,we),$($e,ke),$($e,_e),$($e,Ae),$($e,Te),$($e,Se),$($e,Ce),$(ve,Oe),$(ve,Me),$(t,Ee),$(t,De),$(De,je),$(je,ze),ue(Re,ze,null),$(ze,Pe),$(ze,Ne),$(ze,Ie),$(ze,Fe),$(ze,Le),$(ze,Be),$(ze,qe),$(je,Ve),$(je,He),$(t,Ye),$(t,Ke),$(Ke,Ge),$(Ge,We),ue(Ue,We,null),$(We,Je),$(We,Qe),$(We,Xe),$(We,Ze),$(We,et),$(We,tt),$(We,nt),$(Ge,rt),$(Ge,at),$(t,it),$(t,ot),$(ot,st),$(st,ct),ue(ut,ct,null),$(ct,lt),$(ct,ft),$(ct,dt),$(ct,pt),$(ct,mt),$(ct,ht),$(ct,gt),$(st,bt),$(st,yt),$(t,vt),$(t,$t),$($t,xt),$(xt,wt),ue(kt,wt,null),$(wt,_t),$(wt,At),$(wt,Tt),$(wt,St),$(wt,Ct),$(wt,Ot),$(wt,Mt),$(xt,Et),$(xt,Dt),$(t,jt),$(t,zt),$(zt,Rt),$(Rt,Pt),ue(Nt,Pt,null),$(Pt,It),$(Pt,Ft),$(Pt,Lt),$(Pt,Bt),$(Pt,qt),$(Pt,Vt),$(Pt,Ht),$(Rt,Yt),$(Rt,Kt),$(t,Gt),$(t,Wt),$(Wt,Ut),$(Ut,Jt),ue(Qt,Jt,null),$(Jt,Xt),$(Jt,Zt),$(Jt,en),$(Jt,tn),$(Jt,nn),$(Jt,rn),$(Jt,an),$(Ut,on),$(Ut,sn),$(t,cn),$(t,un),$(un,ln),$(ln,fn),ue(dn,fn,null),$(fn,pn),$(fn,mn),$(fn,hn),$(fn,gn),$(fn,bn),$(fn,yn),$(fn,vn),$n=!0},p(e,t){const n={};2048&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};2048&t&&(r.$$scope={dirty:t,ctx:e}),A.$set(r);const a={};2048&t&&(a.$$scope={dirty:t,ctx:e}),q.$set(a);const i={};2048&t&&(i.$$scope={dirty:t,ctx:e}),ne.$set(i);const o={};2048&t&&(o.$$scope={dirty:t,ctx:e}),xe.$set(o);const c={};2048&t&&(c.$$scope={dirty:t,ctx:e}),Re.$set(c);const u={};2048&t&&(u.$$scope={dirty:t,ctx:e}),Ue.$set(u);const l={};2048&t&&(l.$$scope={dirty:t,ctx:e}),ut.$set(l);const f={};2048&t&&(f.$$scope={dirty:t,ctx:e}),kt.$set(f);const d={};2048&t&&(d.$$scope={dirty:t,ctx:e}),Nt.$set(d);const p={};2048&t&&(p.$$scope={dirty:t,ctx:e}),Qt.$set(p);const m={};2048&t&&(m.$$scope={dirty:t,ctx:e}),dn.$set(m)},i(e){$n||(ie(s.$$.fragment,e),ie(A.$$.fragment,e),ie(q.$$.fragment,e),ie(ne.$$.fragment,e),ie(xe.$$.fragment,e),ie(Re.$$.fragment,e),ie(Ue.$$.fragment,e),ie(ut.$$.fragment,e),ie(kt.$$.fragment,e),ie(Nt.$$.fragment,e),ie(Qt.$$.fragment,e),ie(dn.$$.fragment,e),$n=!0)},o(e){oe(s.$$.fragment,e),oe(A.$$.fragment,e),oe(q.$$.fragment,e),oe(ne.$$.fragment,e),oe(xe.$$.fragment,e),oe(Re.$$.fragment,e),oe(Ue.$$.fragment,e),oe(ut.$$.fragment,e),oe(kt.$$.fragment,e),oe(Nt.$$.fragment,e),oe(Qt.$$.fragment,e),oe(dn.$$.fragment,e),$n=!1},d(e){e&&w(t),le(s),le(A),le(q),le(ne),le(xe),le(Re),le(Ue),le(ut),le(kt),le(Nt),le(Qt),le(dn)}}}function Ws(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Let's dive deeper...",n=S(),r=_("p"),r.textContent="Now that we have a better sense of the team as a whole, let's take a closer look at each player as an individual."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function Us(e){let t,n;return t=new qa({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function Js(e){let t,n;return t=new zi({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function Qs(e){let t,n;return t=new Vi({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function Xs(e){let t,n;return t=new Xi({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function Zs(e){let t,n;return t=new so({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function ec(e){let t,n;return t=new bo({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function tc(e){let t,n;return t=new To({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function nc(e){let t,n;return t=new Ro({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function rc(e){let t,n;return t=new Ho({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function ac(e){let t,n;return t=new Zo({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function ic(e){let t,n;return t=new cs({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function oc(e){let t,n;return t=new bs({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function sc(e){let t,n,r;return{c(){t=_("h2"),t.textContent="Comparisons",n=S(),r=_("p"),r.textContent="Let's now take a look outside of the team. Scroll down to explore comparisons by player."},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a)},d(e){e&&w(t),e&&w(n),e&&w(r)}}}function cc(e){let t,n;return t=new Cs({}),{c(){ce(t.$$.fragment)},m(e,r){ue(t,e,r),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){oe(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function uc(e){let t,n,r,a,i,o,s,c,u,l,f,d,p,m,h,g,b,y,v,$,k,_,A,T,C,O,M,E,D,j,z,R,P,N,I,F,L,B,q,V,H,K,W,U,J,Q,X,Z,ee,te,ne,re,ae,se,fe,de,pe,me,he,ge,be,ye,ve,$e,xe,we,ke,_e,Ae,Te,Se;function Oe(t){e[8](t)}t=new Ce({props:{bgimage:"./img/background-main.jpg",bgfixed:!0,theme:"dark",$$slots:{default:[Ms]},$$scope:{ctx:e}}}),r=new He({props:{theme:"dark",$$slots:{default:[Es]},$$scope:{ctx:e}}}),i=new Ee({props:{$$slots:{default:[Ds]},$$scope:{ctx:e}}}),s=new Ue({});let Me={threshold:fc,splitscreen:!0,$$slots:{foreground:[Gs],background:[zs]},$$scope:{ctx:e}};return void 0!==e[0][0]&&(Me.index=e[0][0]),u=new Be({props:Me}),Y.push((()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(u,"index",Oe))),d=new Ue({}),m=new Ee({props:{$$slots:{default:[Ws]},$$scope:{ctx:e}}}),g=new Ue({}),y=new Ee({props:{$$slots:{default:[Us]},$$scope:{ctx:e}}}),$=new Ue({}),_=new Ee({props:{$$slots:{default:[Js]},$$scope:{ctx:e}}}),T=new Ue({}),O=new Ee({props:{$$slots:{default:[Qs]},$$scope:{ctx:e}}}),E=new Ue({}),j=new Ee({props:{$$slots:{default:[Xs]},$$scope:{ctx:e}}}),R=new Ue({}),N=new Ee({props:{$$slots:{default:[Zs]},$$scope:{ctx:e}}}),F=new Ue({}),B=new Ee({props:{$$slots:{default:[ec]},$$scope:{ctx:e}}}),V=new Ue({}),K=new Ee({props:{$$slots:{default:[tc]},$$scope:{ctx:e}}}),U=new Ue({}),Q=new Ee({props:{$$slots:{default:[nc]},$$scope:{ctx:e}}}),Z=new Ue({}),te=new Ee({props:{$$slots:{default:[rc]},$$scope:{ctx:e}}}),re=new Ue({}),se=new Ee({props:{$$slots:{default:[ac]},$$scope:{ctx:e}}}),de=new Ue({}),me=new Ee({props:{$$slots:{default:[ic]},$$scope:{ctx:e}}}),ge=new Ue({}),ye=new Ee({props:{$$slots:{default:[oc]},$$scope:{ctx:e}}}),$e=new Ue({}),we=new Ee({props:{$$slots:{default:[sc]},$$scope:{ctx:e}}}),_e=new Ue({}),Te=new Ee({props:{$$slots:{default:[cc]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=S(),ce(r.$$.fragment),a=S(),ce(i.$$.fragment),o=S(),ce(s.$$.fragment),c=S(),ce(u.$$.fragment),f=S(),ce(d.$$.fragment),p=S(),ce(m.$$.fragment),h=S(),ce(g.$$.fragment),b=S(),ce(y.$$.fragment),v=S(),ce($.$$.fragment),k=S(),ce(_.$$.fragment),A=S(),ce(T.$$.fragment),C=S(),ce(O.$$.fragment),M=S(),ce(E.$$.fragment),D=S(),ce(j.$$.fragment),z=S(),ce(R.$$.fragment),P=S(),ce(N.$$.fragment),I=S(),ce(F.$$.fragment),L=S(),ce(B.$$.fragment),q=S(),ce(V.$$.fragment),H=S(),ce(K.$$.fragment),W=S(),ce(U.$$.fragment),J=S(),ce(Q.$$.fragment),X=S(),ce(Z.$$.fragment),ee=S(),ce(te.$$.fragment),ne=S(),ce(re.$$.fragment),ae=S(),ce(se.$$.fragment),fe=S(),ce(de.$$.fragment),pe=S(),ce(me.$$.fragment),he=S(),ce(ge.$$.fragment),be=S(),ce(ye.$$.fragment),ve=S(),ce($e.$$.fragment),xe=S(),ce(we.$$.fragment),ke=S(),ce(_e.$$.fragment),Ae=S(),ce(Te.$$.fragment)},m(e,l){ue(t,e,l),x(e,n,l),ue(r,e,l),x(e,a,l),ue(i,e,l),x(e,o,l),ue(s,e,l),x(e,c,l),ue(u,e,l),x(e,f,l),ue(d,e,l),x(e,p,l),ue(m,e,l),x(e,h,l),ue(g,e,l),x(e,b,l),ue(y,e,l),x(e,v,l),ue($,e,l),x(e,k,l),ue(_,e,l),x(e,A,l),ue(T,e,l),x(e,C,l),ue(O,e,l),x(e,M,l),ue(E,e,l),x(e,D,l),ue(j,e,l),x(e,z,l),ue(R,e,l),x(e,P,l),ue(N,e,l),x(e,I,l),ue(F,e,l),x(e,L,l),ue(B,e,l),x(e,q,l),ue(V,e,l),x(e,H,l),ue(K,e,l),x(e,W,l),ue(U,e,l),x(e,J,l),ue(Q,e,l),x(e,X,l),ue(Z,e,l),x(e,ee,l),ue(te,e,l),x(e,ne,l),ue(re,e,l),x(e,ae,l),ue(se,e,l),x(e,fe,l),ue(de,e,l),x(e,pe,l),ue(me,e,l),x(e,he,l),ue(ge,e,l),x(e,be,l),ue(ye,e,l),x(e,ve,l),ue($e,e,l),x(e,xe,l),ue(we,e,l),x(e,ke,l),ue(_e,e,l),x(e,Ae,l),ue(Te,e,l),Se=!0},p(e,[n]){const a={};2048&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const o={};2048&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const s={};2048&n&&(s.$$scope={dirty:n,ctx:e}),i.$set(s);const c={};2078&n&&(c.$$scope={dirty:n,ctx:e}),!l&&1&n&&(l=!0,c.index=e[0][0],function(e){G.push(e)}((()=>l=!1))),u.$set(c);const f={};2048&n&&(f.$$scope={dirty:n,ctx:e}),m.$set(f);const d={};2048&n&&(d.$$scope={dirty:n,ctx:e}),y.$set(d);const p={};2048&n&&(p.$$scope={dirty:n,ctx:e}),_.$set(p);const h={};2048&n&&(h.$$scope={dirty:n,ctx:e}),O.$set(h);const g={};2048&n&&(g.$$scope={dirty:n,ctx:e}),j.$set(g);const b={};2048&n&&(b.$$scope={dirty:n,ctx:e}),N.$set(b);const v={};2048&n&&(v.$$scope={dirty:n,ctx:e}),B.$set(v);const $={};2048&n&&($.$$scope={dirty:n,ctx:e}),K.$set($);const x={};2048&n&&(x.$$scope={dirty:n,ctx:e}),Q.$set(x);const w={};2048&n&&(w.$$scope={dirty:n,ctx:e}),te.$set(w);const k={};2048&n&&(k.$$scope={dirty:n,ctx:e}),se.$set(k);const A={};2048&n&&(A.$$scope={dirty:n,ctx:e}),me.$set(A);const T={};2048&n&&(T.$$scope={dirty:n,ctx:e}),ye.$set(T);const S={};2048&n&&(S.$$scope={dirty:n,ctx:e}),we.$set(S);const C={};2048&n&&(C.$$scope={dirty:n,ctx:e}),Te.$set(C)},i(e){Se||(ie(t.$$.fragment,e),ie(r.$$.fragment,e),ie(i.$$.fragment,e),ie(s.$$.fragment,e),ie(u.$$.fragment,e),ie(d.$$.fragment,e),ie(m.$$.fragment,e),ie(g.$$.fragment,e),ie(y.$$.fragment,e),ie($.$$.fragment,e),ie(_.$$.fragment,e),ie(T.$$.fragment,e),ie(O.$$.fragment,e),ie(E.$$.fragment,e),ie(j.$$.fragment,e),ie(R.$$.fragment,e),ie(N.$$.fragment,e),ie(F.$$.fragment,e),ie(B.$$.fragment,e),ie(V.$$.fragment,e),ie(K.$$.fragment,e),ie(U.$$.fragment,e),ie(Q.$$.fragment,e),ie(Z.$$.fragment,e),ie(te.$$.fragment,e),ie(re.$$.fragment,e),ie(se.$$.fragment,e),ie(de.$$.fragment,e),ie(me.$$.fragment,e),ie(ge.$$.fragment,e),ie(ye.$$.fragment,e),ie($e.$$.fragment,e),ie(we.$$.fragment,e),ie(_e.$$.fragment,e),ie(Te.$$.fragment,e),Se=!0)},o(e){oe(t.$$.fragment,e),oe(r.$$.fragment,e),oe(i.$$.fragment,e),oe(s.$$.fragment,e),oe(u.$$.fragment,e),oe(d.$$.fragment,e),oe(m.$$.fragment,e),oe(g.$$.fragment,e),oe(y.$$.fragment,e),oe($.$$.fragment,e),oe(_.$$.fragment,e),oe(T.$$.fragment,e),oe(O.$$.fragment,e),oe(E.$$.fragment,e),oe(j.$$.fragment,e),oe(R.$$.fragment,e),oe(N.$$.fragment,e),oe(F.$$.fragment,e),oe(B.$$.fragment,e),oe(V.$$.fragment,e),oe(K.$$.fragment,e),oe(U.$$.fragment,e),oe(Q.$$.fragment,e),oe(Z.$$.fragment,e),oe(te.$$.fragment,e),oe(re.$$.fragment,e),oe(se.$$.fragment,e),oe(de.$$.fragment,e),oe(me.$$.fragment,e),oe(ge.$$.fragment,e),oe(ye.$$.fragment,e),oe($e.$$.fragment,e),oe(we.$$.fragment,e),oe(_e.$$.fragment,e),oe(Te.$$.fragment,e),Se=!1},d(e){le(t,e),e&&w(n),le(r,e),e&&w(a),le(i,e),e&&w(o),le(s,e),e&&w(c),le(u,e),e&&w(f),le(d,e),e&&w(p),le(m,e),e&&w(h),le(g,e),e&&w(b),le(y,e),e&&w(v),le($,e),e&&w(k),le(_,e),e&&w(A),le(T,e),e&&w(C),le(O,e),e&&w(M),le(E,e),e&&w(D),le(j,e),e&&w(z),le(R,e),e&&w(P),le(N,e),e&&w(I),le(F,e),e&&w(L),le(B,e),e&&w(q),le(V,e),e&&w(H),le(K,e),e&&w(W),le(U,e),e&&w(J),le(Q,e),e&&w(X),le(Z,e),e&&w(ee),le(te,e),e&&w(ne),le(re,e),e&&w(ae),le(se,e),e&&w(fe),le(de,e),e&&w(pe),le(me,e),e&&w(he),le(ge,e),e&&w(be),le(ye,e),e&&w(ve),le($e,e),e&&w(xe),le(we,e),e&&w(ke),le(_e,e),e&&w(Ae),le(Te,e)}}}let lc="dark";const fc=.65;let dc="Year",pc="FantPt",mc="Player";function hc(e,t,n){q("theme",lc),function(e,t){for(let n in e[t])document.documentElement.style.setProperty("--"+n,e[t][n])}(Ae,lc);let r=[],a=[];B((()=>{n(7,a=[...r])}));let i,o,s,c=function(){let e=window.matchMedia("(prefers-reduced-motion: reduce)");return!(!e||e.matches)}(),u=20;_e("data/fantasy_stats.csv").then((e=>n(1,i=e))).then((e=>{n(4,s=Array.from(new Set(e.map((e=>e.Player)))))}));const l=[()=>{n(3,o=null),n(2,u=20)},()=>{n(3,o={value:"Lamar Jackson",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Justin Jefferson",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Devin Singletary",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Dallas Goedert",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Ja’Marr Chase",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"DeVonta Smith",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Van Jefferson Jr",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Odell Beckham Jr",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Saquon Barkley",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"AJ Dillon",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Miles Sanders",col:"Player"}),n(2,u=35)},()=>{n(3,o={value:"Nick Folk",col:"Player"}),n(2,u=35)}];return e.$$.update=()=>{129&e.$$.dirty&&r[0]!=a[0]&&(l[+r[0]]&&l[+r[0]](),n(7,a[0]=r[0],a))},[r,i,u,o,s,c,[[166,206,227],[31,120,180],[178,223,138],[51,160,44],[251,154,153],[227,26,28],[253,191,111],[255,127,0],[202,178,214],[106,61,154],[255,255,153],[177,89,40]],a,function(t){e.$$.not_equal(r[0],t)&&(r[0]=t,n(0,r))}]}return new class extends pe{constructor(e){super(),de(this,e,hc,uc,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
